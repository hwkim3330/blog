    echo -e "${C_YELLOW}-------------------------------------------------------------------${C_RESET}"

    # PTP Status Update (every PTP_SYNC_INTERVAL_SECONDS)
    if [ $((current_time % PTP_SYNC_INTERVAL_SECONDS)) -eq 0 ]; then
        ptp_message_counter=$((ptp_message_counter + 1))
        if [ $((ptp_message_counter % 4)) -eq 1 ]; then
            ptp_status_text="Master Announce Sent ($PFE_IN_PORT)"
        elif [ $((ptp_message_counter % 4)) -eq 2 ]; then
            ptp_status_text="Slave Received Announce ($PFE_OUT_PORT)"
        elif [ $((ptp_message_counter % 4)) -eq 3 ]; then
            ptp_status_text="Master Sync Sent ($PFE_IN_PORT)"
        else
            ptp_status_text="Slave Synced to Master ($PFE_OUT_PORT) - Offset: $((RANDOM % 100))ns" # Fake offset
        fi
    fi
    display_ptp_status "$ptp_status_text"

    # TAS Gate Status Update (every GATE_INTERVAL_SECONDS)
    if [ $((current_time % GATE_INTERVAL_SECONDS)) -eq 0 ]; then
        if [ "$gate_state" = "LOW_PRIO" ]; then
            gate_state="HIGH_PRIO"
            log_info "Visual: Gate OPEN for Q_HIGH_PRIO"
            run_libfci qos-sch-update --interface "$PFE_OUT_PORT" --sch 0 --sch-algo DWRR --sch-in "que${Q_HIGH_PRIO}
        else
            gate_state="LOW_PRIO"
            log_info "Visual: Gate OPEN for Q_LOW_PRIO"
            run_libfci qos-sch-update --interface "$PFE_OUT_PORT" --sch 0 --sch-algo DWRR --sch-in "que${Q_HIGH_PRIO}
        fi
    fi
    display_gate_status "$gate_state"
    echo -e "${C_YELLOW}-------------------------------------------------------------------${C_RESET}"

    # Display PFE Stats
    display_pfe_stats "$PFE_IN_PORT"
    display_pfe_stats "$PFE_OUT_PORT"
    echo -e "${C_YELLOW}===================================================================${C_RESET}"
    echo -e "(Ctrl+C to exit)"

    sleep 1
    current_time=$((current_time + 1))
done

log_info "Simulation finished."
initial_cleanup # Clean up PFE config
echo -e "${C_GREEN}Done.${C_RESET}"
exit 0





root@s32g274ardb2:~# apt
-sh: apt: not found
root@s32g274ardb2:~# apt
-sh: apt: not found
root@s32g274ardb2:~# ^C

root@s32g274ardb2:~#
root@s32g274ardb2:~# opkg
-sh: opkg: not found
root@s32g274ardb2:~# yum
-sh: yum: not found
root@s32g274ardb2:~# dnf
-sh: dnf: not found
root@s32g274ardb2:~# ifconfig
br0       Link encap:Ethernet  HWaddr 0A:EC:73:C4:47:42
          inet addr:192.168.200.1  Bcast:0.0.0.0  Mask:255.255.255.0
          inet6 addr: fe80::885e:c5ff:fe8e:3243/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:15 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:0 (0.0 B)  TX bytes:1210 (1.1 KiB)

end0      Link encap:Ethernet  HWaddr EE:8D:FD:37:CC:95
          UP BROADCAST MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)
          Interrupt:54 Base address:0xe000

lo        Link encap:Local Loopback
          inet addr:127.0.0.1  Mask:255.0.0.0
          inet6 addr: ::1/128 Scope:Host
          UP LOOPBACK RUNNING  MTU:65536  Metric:1
          RX packets:37 errors:0 dropped:0 overruns:0 frame:0
          TX packets:37 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:2556 (2.4 KiB)  TX bytes:2556 (2.4 KiB)

pfe0      Link encap:Ethernet  HWaddr 00:04:9F:BE:EF:00
          inet addr:192.168.100.1  Bcast:0.0.0.0  Mask:255.255.255.0
          inet6 addr: fe80::204:9fff:febe:ef00/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:92 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:0 (0.0 B)  TX bytes:20118 (19.6 KiB)
          Memory:46000000-46ffffff

pfe1      Link encap:Ethernet  HWaddr 00:04:9F:BE:EF:01
          UP BROADCAST MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)
          Memory:46000000-46ffffff

pfe2      Link encap:Ethernet  HWaddr 00:04:9F:BE:EF:02
          inet addr:192.168.100.2  Bcast:0.0.0.0  Mask:255.255.255.0
          inet6 addr: fe80::204:9fff:febe:ef02/64 Scope:Link
          UP BROADCAST MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:131 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:0 (0.0 B)  TX bytes:21756 (21.2 KiB)
          Memory:46000000-46ffffff

root@s32g274ardb2:~# ^C

root@s32g274ardb2:~# vi pfe_tsn_simulation.sh
root@s32g274ardb2:~# chmod +x pfe_tsn_simulation.sh
root@s32g274ardb2:~# ./pfe_tsn_simulation.sh
env: can't execute 'bash': No such file or directory
root@s32g274ardb2:~# sh ./pfe_tsn_simulation.sh
./pfe_tsn_simulation.sh: line 66: syntax error: unexpected "done"
root@s32g274ardb2:~#
root@s32g274ardb2:~#
root@s32g274ardb2:~# vi
root@s32g274ardb2:~# vi pfe_tsn_visual_simulation.sh
root@s32g274ardb2:~# ./pfe_tsn_visual_simulation.sh
-sh: ./pfe_tsn_visual_simulation.sh: Permission denied
root@s32g274ardb2:~# ./pfe_tsn_visual_simulation.sh
-sh: ./pfe_tsn_visual_simulation.sh: Permission denied
root@s32g274ardb2:~# chmod +x ./pfe_tsn_visual_simulation.sh
root@s32g274ardb2:~# ./pfe_tsn_visual_simulation.sh
env: can't execute 'bash': No such file or directory
root@s32g274ardb2:~# ./pfe_tsn_visual_simulation.sh
env: can't execute 'bash': No such file or directory
root@s32g274ardb2:~# ./pfe_tsn_visual_simulation.sh
env: can't execute 'bash': No such file or directory
root@s32g274ardb2:~# sh ./pfe_tsn_visual_simulation.sh
[INFO] 2024-10-09 16:15:36 Performing initial cleanup...
[ 3451.396718] pfeng 46000000.pfe: Disabling HW bridge lookup PARSE_BRIDGE_EN
[ 3451.403842] pfeng 46000000.pfe: Feature 'vlan_conf_check' is not available (not enabled in FW).
[ 3451.412173] pfeng 46000000.pfe: Feature 'ptp_conf_check' is not available (not enabled in FW).
[ 3451.421034] pfeng 46000000.pfe: emac0: Disabling Flexible Filter
[ 3451.462010] pfeng 46000000.pfe: Feature 'vlan_conf_check' is not available (not enabled in FW).
[ 3451.470433] pfeng 46000000.pfe: Feature 'ptp_conf_check' is not available (not enabled in FW).
[ 3451.479558] pfeng 46000000.pfe: emac2: Disabling Flexible Filter
[INFO] 2024-10-09 16:15:38 Initial cleanup done.
[INFO] 2024-10-09 16:15:38 Setting up conceptual PTP path...
[INFO] 2024-10-09 16:15:38 Setting up L2 Bridge (PTP_Sim) VLAN 887: emac0[ 3452.538844] pfeng 46000000.pfe: Domain 887: Interface 0 added
 <-> emac2
[ 3452.548562] pfeng 46000000.pfe: Interface 0 already added
[ 3452.553707] pfeng 46000000.pfe: Domain 887: Interface 0 updated
[ 3452.559535] pfeng 46000000.pfe: Domain 887: Interface 2 added
[ 3452.569032] pfeng 46000000.pfe: Enabling HW bridge lookup PARSE_BRIDGE_EN
[ 3452.576120] pfeng 46000000.pfe: Feature 'vlan_conf_check' is not available (not enabled in FW).
[ 3452.584498] pfeng 46000000.pfe: Feature 'ptp_conf_check' is not available (not enabled in FW).
[ 3452.593257] pfeng 46000000.pfe: emac0: Disabling Flexible Filter
[ 3452.603537] pfeng 46000000.pfe: Feature 'vlan_conf_check' is not available (not enabled in FW).
[ 3452.611900] pfeng 46000000.pfe: Feature 'ptp_conf_check' is not available (not enabled in FW).
[ 3452.620660] pfeng 46000000.pfe: emac2: Disabling Flexible Filter
[ 3452.630833] pfeng 46000000.pfe: Feature 'vlan_conf_check' is not available (not enabled in FW).
[ 3452.639186] pfeng 46000000.pfe: Feature 'ptp_conf_check' is not available (not enabled in FW).
WARN: Failed to execute: libfci_cli phyi[ 3452.652081] pfeng 46000000.pfe: Feature 'vlan_conf_check' is not available (not enabled in FW).
f-upd[ 3452.661191] pfeng 46000000.pfe: Feature 'ptp_conf_check' is not available (not enabled in FW).
ate --interface emac0 --ptp-conf ON (continuing)
WARN: Failed to execute: libfci_cli phyif-update --interface emac2 --ptp-conf ON (continuing)
[INFO] 2024-10-09 16:15:38 Setting up data path for scheduli[ 3452.689462] pfeng 46000000.pfe: Domain 776: Interface 0 added
ng simulation...
[INFO] 2024-10-09[ 3452.699215] pfeng 46000000.pfe: Interface 0 already added
 16:[ 3452.704935] pfeng 46000000.pfe: Domain 776: Interface 0 updated
15[ 3452.711012] pfeng 46000000.pfe: Domain 776: Interface 2 added
:38 Setting up L2 Bridge (DATA_Sim) VLAN 776: emac0 [ 3452.721229] pfeng 46000000.pfe: Feature 'vlan_conf_check' is not available (not enabled in FW).
<->[ 3452.730204] pfeng 46000000.pfe: Feature 'ptp_conf_check' is not available (not enabled in FW).
 ema[ 3452.739185] pfeng 46000000.pfe: emac0: Disabling Flexible Filter
c2
[ 3452.750148] pfeng 46000000.pfe: Feature 'vlan_conf_check' is not available (not enabled in FW).
[ 3452.758481] pfeng 46000000.pfe: Feature 'ptp_conf_check' is not available (not enabled in FW).
[ 3452.767276] pfeng 46000000.pfe: emac2: Disabling Flexible Filter
[INFO] 2024-10-09 16:15:38 Config[ 3452.781046] pfeng 46000000.pfe: ERR: (DRIVER) event 1 - Driver runtime error: [pfe_tmu.c:149] Sum of queue lengths (360) exceeds max allowed sum (255) for EMAC/UTIL/HIF_NOCPY interface.
ur[ 3452.797721] pfeng 46000000.pfe: Refused to set max length of emac2 queue 0 to 255, because then the sum of emac2 queue lengths would exceed allowed total limit.
ing QoS queues on egress port emac2...
[ 3452.815837] pfeng 46000000.pfe: ERR: (DRIVER) event 1 - Driver runtime error: [pfe_tmu.c:149] Sum of queue lengths (495) exceeds max allowed sum (255) for EMAC/UTIL/HIF_NOCPY interface.
 3452.832532] pfeng 46000000.pfe: Refused to set max length of emac2 queue 1 to 255, because then the sum of emac2 queue lengths would exceed allowed total limit.
0;31mWARN: Failed to execute: libfci_cli qos-que-update --interface emac2 --que 0 --qdisc [ 3452.854671] pfeng 46000000.pfe: Setting scheduler 0 mode: Data rate
TA[ 3452.861089] pfeng 46000000.pfe: Setting scheduler 0 algorithm: SCHED_ALGO_DWRR
IL_DROP --thmax 255 (continuing)
WARN: Failed to execute: libfci_cli qos-que-update --interface emac2 --que 1 --qdisc TAIL_DROP --thmax 255 (continuing)
[INFO] 2024-10-09 16:15:38 Setting initial QoS weights: Q_HIGH(0) LOW, Q_LOW(1) HIGH
[INFO] 2024-10-09 16:15:38 Starting visual simulation. Press Ctrl+C to stop.
[INFO] 2024-10-09 16:15:38 Ensure external traffic is being sent to emac0 for data scheduling path (VLAN 776).
[INFO] 2024-10-09 16:15:38 And conceptual PTP packets (EtherType 0x88F7) for PTP path (VLAN 887).

===================================================================
  [ 3454.892228] pfeng 46000000.pfe: Setting scheduler 0 mode: Data rate
  [ 3454.898620] pfeng 46000000.pfe: Setting scheduler 0 algorithm: SCHED_ALGO_DWRR
  PFE-Based TSN Visual Simulation (Extremely Experimental)[ 3454.910903] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
   [ 3454.917424] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2

=================================================================[ 3454.930549] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
== 3454.937221] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
0m
 Target Ports: IN/PTP_Master=emac0, OUT/PTP_Slave/Sched=emac2 pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
[0m
[ 3454.957405] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
 Gate Interval: 3s, PTP Sync Display: 1s
 Total Duration: 60s
------------[ 3454.970804] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
---[ 3454.977344] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
----------------------------------------------------
 Simulation Time: 0s / 60s
-------------------------------------------------------------------
 PTP Status   : Master Announce Sent (emac0)
[INFO] 2024-10-09 16:15:40 Visual: Gate OPEN for Q_HIGH_PRIO
 Gate Status  : Q_HIGH(0) [******] Q_LOW(1) [******] (Open for: HIGH_PRIO)
-------------------------------------------------------------------
 Stats (emac0): RX Pkts: N/A, TX Pkts: N/A
 Stats (emac2): RX Pkts: N/A, TX Pkts: N/A
 Stats (QoS emac2): Q_HIGH(0) Pkts: N/A, Q_LOW(1) Pkts: N/A
===================================================================
(Ctrl+C to exit)



















































====================================================[ 3456.007130] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
===[ 3456.013661] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
============
      PFE-Based TSN Visual Simulation (Extremely Experimen[ 3456.027018] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
tal[ 3456.033624] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
)
=================================================================[ 3456.047103] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
== pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
[0m
 Target Ports: IN/PTP_Master=emac0, OUT/PTP_Slave/Sched=ema[ 3456.066978] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
c2 pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
[0m
 Gate Interval: 3s, PTP Sync Display: 1s
 Total Duration: 60s
-------------------------------------------------------------------
 Simulation Time: 1s / 60s
-------------------------------------------------------------------
 PTP Status   : Slave Received Announce (emac2)
 Gate Status  : Q_HIGH(0) [******] Q_LOW(1) [******] (Open for: HIGH_PRIO)
-------------------------------------------------------------------
 Stats (emac0): RX Pkts: N/A, TX Pkts: N/A
 Stats (emac2): RX Pkts: N/A, TX Pkts: N/A
 Stats (QoS emac2): Q_HIGH(0) Pkts: N/A, Q_LOW(1) Pkts: N/A
===================================================================
(Ctrl+C to exit)




















































====================================================[ 3457.103270] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
===[ 3457.109868] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
============
      PFE-Based TSN Visual Simulation (Extremely Experiment[ 3457.123402] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
al)[ 3457.129917] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2

===================================================================[ 3457.143485] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
 3457.150067] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
m
 Target Ports: IN/PTP_Master=emac0, OUT/PTP_Slave/Sched=emac2 pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
[0m[ 3457.169988] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2

 Gate Interval: 3s, PTP Sync Display: 1s
 Total Duration: 60s
-------------------------------------------------------------------
 Simulation Time: 2s / 60s
-------------------------------------------------------------------
 PTP Status   : Master Sync Sent (emac0)
 Gate Status  : Q_HIGH(0) [******] Q_LOW(1) [******] (Open for: HIGH_PRIO)
-------------------------------------------------------------------
 Stats (emac0): RX Pkts: N/A, TX Pkts: N/A
 Stats (emac2): RX Pkts: N/A, TX Pkts: N/A
 Stats (QoS emac2): Q_HIGH(0) Pkts: N/A, Q_LOW(1) Pkts: N/A
===================================================================
(Ctrl+C to exit)





















































===================================================================
   [ 3458.202620] pfeng 46000000.pfe: Setting scheduler 0 mode: Data rate
 [ 3458.209042] pfeng 46000000.pfe: Setting scheduler 0 algorithm: SCHED_ALGO_DWRR
  PFE-Based TSN Visual Simulation (Extremely Experimental)[ 3458.221231] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
   [ 3458.227757] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2

=================================================================== pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
[0m[ 3458.247713] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2

 Target Ports: IN/PTP_Master=emac0, OUT/PTP_Slave/Sched=emac2[ 3458.261315] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2

[ 3458.267800] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
 Gate Interval: 3s, PTP Sync Display: 1s
 Total Duration: 60s
----------[ 3458.280989] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
---[ 3458.287534] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
------------------------------------------------------
 Simulation Time: 3s / 60s
-------------------------------------------------------------------
 PTP Status   : Slave Synced to Master (emac2) - Offset: 0ns
[INFO] 2024-10-09 16:15:43 Visual: Gate OPEN for Q_LOW_PRIO
 Gate Status  : Q_HIGH(0) [******] Q_LOW(1) [******] (Open for: LOW_PRIO)
-------------------------------------------------------------------
 Stats (emac0): RX Pkts: N/A, TX Pkts: N/A
 Stats (emac2): RX Pkts: N/A, TX Pkts: N/A
 Stats (QoS emac2): Q_HIGH(0) Pkts: N/A, Q_LOW(1) Pkts: N/A
===================================================================
(Ctrl+C to exit)


















































===================================================[ 3459.319497] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
===[ 3459.326033] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
=============
      PFE-Based TSN Visual Simulation (Extremely Experim[ 3459.339361] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
enta[ 3459.345973] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
l)
===================================================================
[ 3459.360270] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
 Ta[ 3459.366862] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
rget Ports: IN/PTP_Master=emac0, OUT/PTP_Slave/Sched=emac2
[ 3459.380178] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
 Ga[ 3459.386699] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
te Interval: 3s, PTP Sync Display: 1s
 Total Duration: 60s
-------------------------------------------------------------------
 Simulation Time: 4s / 60s
-------------------------------------------------------------------
 PTP Status   : Master Announce Sent (emac0)
 Gate Status  : Q_HIGH(0) [******] Q_LOW(1) [******] (Open for: LOW_PRIO)
-------------------------------------------------------------------
 Stats (emac0): RX Pkts: N/A, TX Pkts: N/A
 Stats (emac2): RX Pkts: N/A, TX Pkts: N/A
 Stats (QoS emac2): Q_HIGH(0) Pkts: N/A, Q_LOW(1) Pkts: N/A
===================================================================
(Ctrl+C to exit)






















































====================================================[ 3460.416580] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
===[ 3460.423172] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
============
      PFE-Based TSN Visual Simulation (Extremely Experiment[ 3460.436670] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
al) [ 3460.443280] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2

===================================================================
 Target Ports: IN/PTP_M[ 3460.459262] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
as[ 3460.465793] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
ter=emac0, OUT/PTP_Slave/Sched=emac2
 Gate Interval: 3s, PT[ 3460.479075] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
P S[ 3460.485610] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
ync Display: 1s
 Total Duration: 60s
-------------------------------------------------------------------
 Simulation Time: 5s / 60s
-------------------------------------------------------------------
 PTP Status   : Slave Received Announce (emac2)
 Gate Status  : Q_HIGH(0) [******] Q_LOW(1) [******] (Open for: LOW_PRIO)
-------------------------------------------------------------------
 Stats (emac0): RX Pkts: N/A, TX Pkts: N/A
 Stats (emac2): RX Pkts: N/A, TX Pkts: N/A
 Stats (QoS emac2): Q_HIGH(0) Pkts: N/A, Q_LOW(1) Pkts: N/A
===================================================================
(Ctrl+C to exit)






















































===================================================================
  [ 3461.518212] pfeng 46000000.pfe: Setting scheduler 0 mode: Data rate
 [ 3461.524631] pfeng 46000000.pfe: Setting scheduler 0 algorithm: SCHED_ALGO_DWRR
   PFE-Based TSN Visual Simulation (Extremely Experiment[ 3461.536665] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
al)[ 3461.543223] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2

============================================================[ 3461.556160] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
====[ 3461.562803] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
===
 Target Ports: IN/PTP_Master=emac0, OUT/PTP_Slave/Sched=emac2[ 3461.576618] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
[ 3461.583248] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2

 Gate Interval: 3s, PTP Sync Display: 1s
 Total Duration: 60s
---------------------------------------[ 3461.599192] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
---[ 3461.605807] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
-------------------------
 Simulation Time: 6s / 60s
-------------------------------------------------------------------
 PTP Status   : Master Sync Sent (emac0)
[INFO] 2024-10-09 16:15:47 Visual: Gate OPEN for Q_HIGH_PRIO
 Gate Status  : Q_HIGH(0) [******] Q_LOW(1) [******] (Open for: HIGH_PRIO)
-------------------------------------------------------------------
 Stats (emac0): RX Pkts: N/A, TX Pkts: N/A
 Stats (emac2): RX Pkts: N/A, TX Pkts: N/A
 Stats (QoS emac2): Q_HIGH(0) Pkts: N/A, Q_LOW(1) Pkts: N/A
===================================================================
(Ctrl+C to exit)


















































====================================================[ 3462.635361] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
===[ 3462.641936] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
============
      PFE-Based TSN Visual Simulation (Extremely Experimental)      3462.656423] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
m
[ 3462.662955] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
===================================================================
 Ta[ 3462.676403] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
rge[ 3462.682937] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
t Ports: IN/PTP_Master=emac0, OUT/PTP_Slave/Sched=emac2
 Gate[ 3462.696432] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
 In[ 3462.702947] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
terval: 3s, PTP Sync Display: 1s
 Total Duration: 60s
-------------------------------------------------------------------
 Simulation Time: 7s / 60s
-------------------------------------------------------------------
 PTP Status   : Slave Synced to Master (emac2) - Offset: 0ns
 Gate Status  : Q_HIGH(0) [******] Q_LOW(1) [******] (Open for: HIGH_PRIO)
-------------------------------------------------------------------
 Stats (emac0): RX Pkts: N/A, TX Pkts: N/A
 Stats (emac2): RX Pkts: N/A, TX Pkts: N/A
 Stats (QoS emac2): Q_HIGH(0) Pkts: N/A, Q_LOW(1) Pkts: N/A
===================================================================
(Ctrl+C to exit)






















































===================================================[ 3463.732919] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
===[ 3463.739477] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
=============
      PFE-Based TSN Visual Simulation (Extremely Experimen[ 3463.752964] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
tal) [ 3463.759701] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2

===================================================================[ 3463.773573] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2

[ 3463.780026] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
 Target Ports: IN/PTP_Master=emac0, OUT/PTP_Slave/Sched=emac2[ 3463.793387] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2

[ 3463.799897] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
 Gate Interval: 3s, PTP Sync Display: 1s
 Total Duration: 60s
-------------------------------------------------------------------
 Simulation Time: 8s / 60s
-------------------------------------------------------------------
 PTP Status   : Master Announce Sent (emac0)
 Gate Status  : Q_HIGH(0) [******] Q_LOW(1) [******] (Open for: HIGH_PRIO)
-------------------------------------------------------------------
 Stats (emac0): RX Pkts: N/A, TX Pkts: N/A
 Stats (emac2): RX Pkts: N/A, TX Pkts: N/A
 Stats (QoS emac2): Q_HIGH(0) Pkts: N/A, Q_LOW(1) Pkts: N/A
===================================================================
(Ctrl+C to exit)




















































===================================================================
  [ 3464.832208] pfeng 46000000.pfe: Setting scheduler 0 mode: Data rate
  [ 3464.838625] pfeng 46000000.pfe: Setting scheduler 0 algorithm: SCHED_ALGO_DWRR
  PFE-Based TSN Visual Simulation (Extremely Experimental)[ 3464.850862] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
   [ 3464.857444] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2

==================================================================[ 3464.870622] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
= 3464.877311] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
m
 Target Ports: IN/PTP_Master=emac0, OUT/PTP_Slave/Sched=emac2 3464.890819] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
[ 3464.897339] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2

 Gate Interval: 3s, PTP Sync Display: 1s
 Total Duration: 60s
---------------------------[ 3464.912139] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
---[ 3464.918652] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
-------------------------------------
 Simulation Time: 9s / 60s
-------------------------------------------------------------------
 PTP Status   : Slave Received Announce (emac2)
[INFO] 2024-10-09 16:15:50 Visual: Gate OPEN for Q_LOW_PRIO
 Gate Status  : Q_HIGH(0) [******] Q_LOW(1) [******] (Open for: LOW_PRIO)
-------------------------------------------------------------------
 Stats (emac0): RX Pkts: N/A, TX Pkts: N/A
 Stats (emac2): RX Pkts: N/A, TX Pkts: N/A
 Stats (QoS emac2): Q_HIGH(0) Pkts: N/A, Q_LOW(1) Pkts: N/A
===================================================================
(Ctrl+C to exit)


















































====================================================[ 3465.948519] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
===[ 3465.955101] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
============
      PFE-Based TSN Visual Simulation (Extremely Experime[ 3465.968372] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
ntal[ 3465.975039] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
)
================================================================[ 3465.988430] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
=== pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
[0m
 Target Ports: IN/PTP_Master=emac0, OUT/PTP_Slave/Sched=emac2 pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
[ 3466.015294] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2

 Gate Interval: 3s, PTP Sync Display: 1s
 Total Duration: 60s
-------------------------------------------------------------------
 Simulation Time: 10s / 60s
-------------------------------------------------------------------
 PTP Status   : Master Sync Sent (emac0)
 Gate Status  : Q_HIGH(0) [******] Q_LOW(1) [******] (Open for: LOW_PRIO)
-------------------------------------------------------------------
 Stats (emac0): RX Pkts: N/A, TX Pkts: N/A
 Stats (emac2): RX Pkts: N/A, TX Pkts: N/A
 Stats (QoS emac2): Q_HIGH(0) Pkts: N/A, Q_LOW(1) Pkts: N/A
===================================================================
(Ctrl+C to exit)





















































======================================================[ 3467.045487] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
===[ 3467.052008] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
==========
      PFE-Based TSN Visual Simulation (Extremely Experimental) [ 3467.065719] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
   [ 3467.072258] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2

===================================================================
 [ 3467.086130] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
Tar[ 3467.092653] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
get Ports: IN/PTP_Master=emac0, OUT/PTP_Slave/Sched=emac2
 Gate[ 3467.106358] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
 Int[ 3467.112929] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
erval: 3s, PTP Sync Display: 1s
 Total Duration: 60s
-------------------------------------------------------------------
 Simulation Time: 11s / 60s
-------------------------------------------------------------------
 PTP Status   : Slave Synced to Master (emac2) - Offset: 0ns
 Gate Status  : Q_HIGH(0) [******] Q_LOW(1) [******] (Open for: LOW_PRIO)
-------------------------------------------------------------------
 Stats (emac0): RX Pkts: N/A, TX Pkts: N/A
 Stats (emac2): RX Pkts: N/A, TX Pkts: N/A
 Stats (QoS emac2): Q_HIGH(0) Pkts: N/A, Q_LOW(1) Pkts: N/A
===================================================================
(Ctrl+C to exit)






















































===================================================================
 [ 3468.146989] pfeng 46000000.pfe: Setting scheduler 0 mode: Data rate
 [ 3468.153418] pfeng 46000000.pfe: Setting scheduler 0 algorithm: SCHED_ALGO_DWRR
    PFE-Based TSN Visual Simulation (Extremely Experimenta[ 3468.165547] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
l) [ 3468.172163] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2

==============================================================[ 3468.185189] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
===[ 3468.191739] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
==
 Target Ports: IN/PTP_Master=emac0, OUT/PTP_Slave/Sched=ema[ 3468.205378] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
c2[ 3468.211821] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2

 Gate Interval: 3s, PTP Sync Display: 1s
 Total Duration: 60s
--------[ 3468.225383] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
--[ 3468.231871] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
---------------------------------------------------------
 Simulation Time: 12s / 60s
-------------------------------------------------------------------
 PTP Status   : Master Announce Sent (emac0)
[INFO] 2024-10-09 16:15:53 Visual: Gate OPEN for Q_HIGH_PRIO
 Gate Status  : Q_HIGH(0) [******] Q_LOW(1) [******] (Open for: HIGH_PRIO)
-------------------------------------------------------------------
 Stats (emac0): RX Pkts: N/A, TX Pkts: N/A
 Stats (emac2): RX Pkts: N/A, TX Pkts: N/A
 Stats (QoS emac2): Q_HIGH(0) Pkts: N/A, Q_LOW(1) Pkts: N/A
===================================================================
(Ctrl+C to exit)


















































===================================================[ 3469.263847] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
===[ 3469.270429] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
=============
      PFE-Based TSN Visual Simulation (Extremely Experim[ 3469.283738] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
ent[ 3469.290301] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
al)
=================================================================== pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
[0m[ 3469.310741] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2

 Target Ports: IN/PTP_Master=emac0, OUT/PTP_Slave/Sched=emac2 3469.324235] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
[ 3469.330709] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2

 Gate Interval: 3s, PTP Sync Display: 1s
 Total Duration: 60s
-------------------------------------------------------------------
 Simulation Time: 13s / 60s
-------------------------------------------------------------------
 PTP Status   : Slave Received Announce (emac2)
 Gate Status  : Q_HIGH(0) [******] Q_LOW(1) [******] (Open for: HIGH_PRIO)
-------------------------------------------------------------------
 Stats (emac0): RX Pkts: N/A, TX Pkts: N/A
 Stats (emac2): RX Pkts: N/A, TX Pkts: N/A
 Stats (QoS emac2): Q_HIGH(0) Pkts: N/A, Q_LOW(1) Pkts: N/A
===================================================================
(Ctrl+C to exit)




















































====================================================[ 3470.360596] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
====[ 3470.367200] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
===========
      PFE-Based TSN Visual Simulation (Extremely Experimenta[ 3470.380773] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
l)  [ 3470.387397] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2

[ 3470.401276] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2

 [ 3470.407722] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
Target Ports: IN/PTP_Master=emac0, OUT/PTP_Slave/Sched=emac2 3470.420971] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
m
[ 3470.427511] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
 Gate Interval: 3s, PTP Sync Display: 1s
 Total Duration: 60s
-------------------------------------------------------------------
 Simulation Time: 14s / 60s
-------------------------------------------------------------------
 PTP Status   : Master Sync Sent (emac0)
 Gate Status  : Q_HIGH(0) [******] Q_LOW(1) [******] (Open for: HIGH_PRIO)
-------------------------------------------------------------------
 Stats (emac0): RX Pkts: N/A, TX Pkts: N/A
 Stats (emac2): RX Pkts: N/A, TX Pkts: N/A
 Stats (QoS emac2): Q_HIGH(0) Pkts: N/A, Q_LOW(1) Pkts: N/A
===================================================================
(Ctrl+C to exit)





















































===================================================================
 [ 3471.462334] pfeng 46000000.pfe: Setting scheduler 0 mode: Data rate
 [ 3471.468693] pfeng 46000000.pfe: Setting scheduler 0 algorithm: SCHED_ALGO_DWRR
    PFE-Based TSN Visual Simulation (Extremely Experiment[ 3471.480820] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
al) [ 3471.487419] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2

===============================================================[ 3471.500578] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
===[ 3471.507147] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
=
 Target Ports: IN/PTP_Master=emac0, OUT/PTP_Slave/Sched=emac2 3471.521023] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
m
 [ 3471.527665] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
Gate Interval: 3s, PTP Sync Display: 1s
 Total Duration: 60s
-----------[ 3471.540952] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
---[ 3471.547512] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
-----------------------------------------------------
 Simulation Time: 15s / 60s
-------------------------------------------------------------------
 PTP Status   : Slave Synced to Master (emac2) - Offset: 0ns
[INFO] 2024-10-09 16:15:56 Visual: Gate OPEN for Q_LOW_PRIO
 Gate Status  : Q_HIGH(0) [******] Q_LOW(1) [******] (Open for: LOW_PRIO)
-------------------------------------------------------------------
 Stats (emac0): RX Pkts: N/A, TX Pkts: N/A
 Stats (emac2): RX Pkts: N/A, TX Pkts: N/A
 Stats (QoS emac2): Q_HIGH(0) Pkts: N/A, Q_LOW(1) Pkts: N/A
===================================================================
(Ctrl+C to exit)


















































====================================================[ 3472.577009] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
===[ 3472.583605] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
============
      PFE-Based TSN Visual Simulation (Extremely Experim[ 3472.596873] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
ent[ 3472.603399] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
al)
===============================================================[ 3472.616874] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
====[ 3472.623495] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2

 Target Ports: IN/PTP_Master=emac0, OUT/PTP_Slave/Sched=em[ 3472.636814] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
ac2[ 3472.643357] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2

 Gate Interval: 3s, PTP Sync Display: 1s
 Total Duration: 60s
-------------------------------------------------------------------
 Simulation Time: 16s / 60s
-------------------------------------------------------------------
 PTP Status   : Master Announce Sent (emac0)
 Gate Status  : Q_HIGH(0) [******] Q_LOW(1) [******] (Open for: LOW_PRIO)
-------------------------------------------------------------------
 Stats (emac0): RX Pkts: N/A, TX Pkts: N/A
 Stats (emac2): RX Pkts: N/A, TX Pkts: N/A
 Stats (QoS emac2): Q_HIGH(0) Pkts: N/A, Q_LOW(1) Pkts: N/A
===================================================================
(Ctrl+C to exit)




















































====================================================[ 3473.672876] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
===[ 3473.679463] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
============
      PFE-Based TSN Visual Simulation (Extremely Experime[ 3473.692757] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
ntal[ 3473.699373] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
)
================================================================[ 3473.712835] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
===[ 3473.719356] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2

 Target Ports: IN/PTP_Master=emac0, OUT/PTP_Slave/Sched=em[ 3473.732711] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
ac2 3473.739362] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
0m
 Gate Interval: 3s, PTP Sync Display: 1s
 Total Duration: 60s
-------------------------------------------------------------------
 Simulation Time: 17s / 60s
-------------------------------------------------------------------
 PTP Status   : Slave Received Announce (emac2)
 Gate Status  : Q_HIGH(0) [******] Q_LOW(1) [******] (Open for: LOW_PRIO)
-------------------------------------------------------------------
 Stats (emac0): RX Pkts: N/A, TX Pkts: N/A
 Stats (emac2): RX Pkts: N/A, TX Pkts: N/A
 Stats (QoS emac2): Q_HIGH(0) Pkts: N/A, Q_LOW(1) Pkts: N/A
===================================================================
(Ctrl+C to exit)




















































===================================================================
 [ 3474.771530] pfeng 46000000.pfe: Setting scheduler 0 mode: Data rate
  [ 3474.777922] pfeng 46000000.pfe: Setting scheduler 0 algorithm: SCHED_ALGO_DWRR
   PFE-Based TSN Visual Simulation (Extremely Experimental)[ 3474.790219] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
   [ 3474.796813] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2

=================================================================[ 3474.809927] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
== pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
[0m
 Target Ports: IN/PTP_Master=emac0, OUT/PTP_Slave/Sched=ema[ 3474.829857] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
c2 pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
[0m
 Gate Interval: 3s, PTP Sync Display: 1s
 Total Duration: 60s
----[ 3474.849584] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
---[ 3474.856054] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
------------------------------------------------------------
 Simulation Time: 18s / 60s
-------------------------------------------------------------------
 PTP Status   : Master Sync Sent (emac0)
[INFO] 2024-10-09 16:16:00 Visual: Gate OPEN for Q_HIGH_PRIO
 Gate Status  : Q_HIGH(0) [******] Q_LOW(1) [******] (Open for: HIGH_PRIO)
-------------------------------------------------------------------
 Stats (emac0): RX Pkts: N/A, TX Pkts: N/A
 Stats (emac2): RX Pkts: N/A, TX Pkts: N/A
 Stats (QoS emac2): Q_HIGH(0) Pkts: N/A, Q_LOW(1) Pkts: N/A
===================================================================
(Ctrl+C to exit)


















































=====================================================[ 3475.885687] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
===[ 3475.892261] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
===========
      PFE-Based TSN Visual Simulation (Extremely Experimental[ 3475.905871] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
)  [ 3475.912390] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2

===================================================================
 Target Ports: IN/PTP_[ 3475.928241] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
Mas[ 3475.934765] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
ter=emac0, OUT/PTP_Slave/Sched=emac2
 Gate Interval: 3s, P[ 3475.948020] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
TP Sy[ 3475.954721] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
nc Display: 1s
 Total Duration: 60s
-------------------------------------------------------------------
 Simulation Time: 19s / 60s
-------------------------------------------------------------------
 PTP Status   : Slave Synced to Master (emac2) - Offset: 0ns
 Gate Status  : Q_HIGH(0) [******] Q_LOW(1) [******] (Open for: HIGH_PRIO)
-------------------------------------------------------------------
 Stats (emac0): RX Pkts: N/A, TX Pkts: N/A
 Stats (emac2): RX Pkts: N/A, TX Pkts: N/A
 Stats (QoS emac2): Q_HIGH(0) Pkts: N/A, Q_LOW(1) Pkts: N/A
===================================================================
(Ctrl+C to exit)






















































===================================================[ 3476.984787] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
====[ 3476.991354] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
============
      PFE-Based TSN Visual Simulation (Extremely Experimen[ 3477.004793] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
tal)[ 3477.011405] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2

===================================================================[ 3477.025051] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
 3477.031585] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
m
 Target Ports: IN/PTP_Master=emac0, OUT/PTP_Slave/Sched=emac2
 Gate Interval: 3s, PT[ 3477.047377] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
P S[ 3477.053854] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
ync Display: 1s
 Total Duration: 60s
-------------------------------------------------------------------
 Simulation Time: 20s / 60s
-------------------------------------------------------------------
 PTP Status   : Master Announce Sent (emac0)
 Gate Status  : Q_HIGH(0) [******] Q_LOW(1) [******] (Open for: HIGH_PRIO)
-------------------------------------------------------------------
 Stats (emac0): RX Pkts: N/A, TX Pkts: N/A
 Stats (emac2): RX Pkts: N/A, TX Pkts: N/A
 Stats (QoS emac2): Q_HIGH(0) Pkts: N/A, Q_LOW(1) Pkts: N/A
===================================================================
(Ctrl+C to exit)





















































===================================================================
  [ 3478.086160] pfeng 46000000.pfe: Setting scheduler 0 mode: Data rate
 [ 3478.092554] pfeng 46000000.pfe: Setting scheduler 0 algorithm: SCHED_ALGO_DWRR
   PFE-Based TSN Visual Simulation (Extremely Experimental[ 3478.104759] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
)  [ 3478.111318] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2

================================================================[ 3478.124431] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
===[ 3478.131027] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2

 Target Ports: IN/PTP_Master=emac0, OUT/PTP_Slave/Sched=emac2[ 3478.144621] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
 3478.151092] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
m
 Gate Interval: 3s, PTP Sync Display: 1s
 Total Duration: 60s
--------------------------------------[ 3478.167034] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
---[ 3478.173568] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
--------------------------
 Simulation Time: 21s / 60s
-------------------------------------------------------------------
 PTP Status   : Slave Received Announce (emac2)
[INFO] 2024-10-09 16:16:03 Visual: Gate OPEN for Q_LOW_PRIO
 Gate Status  : Q_HIGH(0) [******] Q_LOW(1) [******] (Open for: LOW_PRIO)
-------------------------------------------------------------------
 Stats (emac0): RX Pkts: N/A, TX Pkts: N/A
 Stats (emac2): RX Pkts: N/A, TX Pkts: N/A
 Stats (QoS emac2): Q_HIGH(0) Pkts: N/A, Q_LOW(1) Pkts: N/A
===================================================================
(Ctrl+C to exit)


















































====================================================[ 3479.203075] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
===[ 3479.209679] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
============
      PFE-Based TSN Visual Simulation (Extremely Experimen[ 3479.223079] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
tal[ 3479.229655] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
)
===================================================================
 Ta[ 3479.244105] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
rge[ 3479.250601] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
t Ports: IN/PTP_Master=emac0, OUT/PTP_Slave/Sched=emac2
 Ga[ 3479.263925] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
te [ 3479.270530] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
Interval: 3s, PTP Sync Display: 1s
 Total Duration: 60s
-------------------------------------------------------------------
 Simulation Time: 22s / 60s
-------------------------------------------------------------------
 PTP Status   : Master Sync Sent (emac0)
 Gate Status  : Q_HIGH(0) [******] Q_LOW(1) [******] (Open for: LOW_PRIO)
-------------------------------------------------------------------
 Stats (emac0): RX Pkts: N/A, TX Pkts: N/A
 Stats (emac2): RX Pkts: N/A, TX Pkts: N/A
 Stats (QoS emac2): Q_HIGH(0) Pkts: N/A, Q_LOW(1) Pkts: N/A
===================================================================
(Ctrl+C to exit)






















































====================================================[ 3480.300381] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
===[ 3480.306973] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
============
      PFE-Based TSN Visual Simulation (Extremely Experi[ 3480.320134] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
ment[ 3480.326716] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
al)
==================================================================[ 3480.340465] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
= 3480.347058] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
0m
 Target Ports: IN/PTP_Master=emac0, OUT/PTP_Slave/Sched=emac[ 3480.360385] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
2 3480.366989] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
m
 Gate Interval: 3s, PTP Sync Display: 1s
 Total Duration: 60s
-------------------------------------------------------------------
 Simulation Time: 23s / 60s
-------------------------------------------------------------------
 PTP Status   : Slave Synced to Master (emac2) - Offset: 0ns
 Gate Status  : Q_HIGH(0) [******] Q_LOW(1) [******] (Open for: LOW_PRIO)
-------------------------------------------------------------------
 Stats (emac0): RX Pkts: N/A, TX Pkts: N/A
 Stats (emac2): RX Pkts: N/A, TX Pkts: N/A
 Stats (QoS emac2): Q_HIGH(0) Pkts: N/A, Q_LOW(1) Pkts: N/A
===================================================================
(Ctrl+C to exit)




















































===================================================================
 [ 3481.399216] pfeng 46000000.pfe: Setting scheduler 0 mode: Data rate
  [ 3481.405635] pfeng 46000000.pfe: Setting scheduler 0 algorithm: SCHED_ALGO_DWRR
   PFE-Based TSN Visual Simulation (Extremely Experimental)    [ 3481.418300] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
  3481.424853] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
0m
[ 3481.438265] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2

 T[ 3481.444846] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
arget Ports: IN/PTP_Master=emac0, OUT/PTP_Slave/Sched=emac2
 Ga[ 3481.458500] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
te [ 3481.465010] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
Interval: 3s, PTP Sync Display: 1s
 Total Duration: 60s
------------------[ 3481.478501] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
--[ 3481.484965] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
-----------------------------------------------
 Simulation Time: 24s / 60s
-------------------------------------------------------------------
 PTP Status   : Master Announce Sent (emac0)
[INFO] 2024-10-09 16:16:06 Visual: Gate OPEN for Q_HIGH_PRIO
 Gate Status  : Q_HIGH(0) [******] Q_LOW(1) [******] (Open for: HIGH_PRIO)
-------------------------------------------------------------------
 Stats (emac0): RX Pkts: N/A, TX Pkts: N/A
 Stats (emac2): RX Pkts: N/A, TX Pkts: N/A
 Stats (QoS emac2): Q_HIGH(0) Pkts: N/A, Q_LOW(1) Pkts: N/A
===================================================================
(Ctrl+C to exit)




















































=====================================================[ 3482.514683] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
==============
  [ 3482.523451] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
    PFE-Based TSN Visual Simulation (Extremely Experimental)
====[ 3482.536780] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
====[ 3482.543421] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
===========================================================
 Target Ports: IN[ 3482.556807] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
/PT[ 3482.563344] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
P_Master=emac0, OUT/PTP_Slave/Sched=emac2
 Gate Interval: 3s[ 3482.576724] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
, PT[ 3482.583385] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
P Sync Display: 1s
 Total Duration: 60s
-------------------------------------------------------------------
 Simulation Time: 25s / 60s
-------------------------------------------------------------------
 PTP Status   : Slave Received Announce (emac2)
 Gate Status  : Q_HIGH(0) [******] Q_LOW(1) [******] (Open for: HIGH_PRIO)
-------------------------------------------------------------------
 Stats (emac0): RX Pkts: N/A, TX Pkts: N/A
 Stats (emac2): RX Pkts: N/A, TX Pkts: N/A
 Stats (QoS emac2): Q_HIGH(0) Pkts: N/A, Q_LOW(1) Pkts: N/A
===================================================================
(Ctrl+C to exit)























































====================================================[ 3483.613190] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
===[ 3483.619691] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
============
      PFE-Based TSN Visual Simulation (Extremely Experime[ 3483.633065] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
ntal[ 3483.639684] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
)
=================================================================[ 3483.653080] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
==[ 3483.659658] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2

 Target Ports: IN/PTP_Master=emac0, OUT/PTP_Slave/Sched=[ 3483.672793] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
emac[ 3483.679458] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
2
 Gate Interval: 3s, PTP Sync Display: 1s
 Total Duration: 60s
-------------------------------------------------------------------
 Simulation Time: 26s / 60s
-------------------------------------------------------------------
 PTP Status   : Master Sync Sent (emac0)
 Gate Status  : Q_HIGH(0) [******] Q_LOW(1) [******] (Open for: HIGH_PRIO)
-------------------------------------------------------------------
 Stats (emac0): RX Pkts: N/A, TX Pkts: N/A
 Stats (emac2): RX Pkts: N/A, TX Pkts: N/A
 Stats (QoS emac2): Q_HIGH(0) Pkts: N/A, Q_LOW(1) Pkts: N/A
===================================================================
(Ctrl+C to exit)




















































===================================================================
  [ 3484.714394] pfeng 46000000.pfe: Setting scheduler 0 mode: Data rate
 [ 3484.720743] pfeng 46000000.pfe: Setting scheduler 0 algorithm: SCHED_ALGO_DWRR
   PFE-Based TSN Visual Simulation (Extremely Experimenta[ 3484.732812] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
l)  [ 3484.739439] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2

================================================================[ 3484.752622] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
=== pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
[0m
 Target Ports: IN/PTP_Master=emac0, OUT/PTP_Slave/Sched=emac2[ 3484.772738] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
 3484.779302] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
m
 Gate Interval: 3s, PTP Sync Display: 1s
 Total Duration: 60s
-------------------------------------[ 3484.795183] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
----[ 3484.801767] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
--------------------------
 Simulation Time: 27s / 60s
-------------------------------------------------------------------
 PTP Status   : Slave Synced to Master (emac2) - Offset: 0ns
[INFO] 2024-10-09 16:16:10 Visual: Gate OPEN for Q_LOW_PRIO
 Gate Status  : Q_HIGH(0) [******] Q_LOW(1) [******] (Open for: LOW_PRIO)
-------------------------------------------------------------------
 Stats (emac0): RX Pkts: N/A, TX Pkts: N/A
 Stats (emac2): RX Pkts: N/A, TX Pkts: N/A
 Stats (QoS emac2): Q_HIGH(0) Pkts: N/A, Q_LOW(1) Pkts: N/A
===================================================================
(Ctrl+C to exit)


















































====================================================[ 3485.831595] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
===[ 3485.838159] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
============
      PFE-Based TSN Visual Simulation (Extremely Experi[ 3485.851299] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
men[ 3485.857873] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
tal)
==============================================================[ 3485.871414] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
===[ 3485.877890] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
==
 Target Ports: IN/PTP_Master=emac0, OUT/PTP_Slave/Sched=[ 3485.891252] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
emac[ 3485.897849] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
2
 Gate Interval: 3s, PTP Sync Display: 1s
 Total Duration: 60s
-------------------------------------------------------------------
 Simulation Time: 28s / 60s
-------------------------------------------------------------------
 PTP Status   : Master Announce Sent (emac0)
 Gate Status  : Q_HIGH(0) [******] Q_LOW(1) [******] (Open for: LOW_PRIO)
-------------------------------------------------------------------
 Stats (emac0): RX Pkts: N/A, TX Pkts: N/A
 Stats (emac2): RX Pkts: N/A, TX Pkts: N/A
 Stats (QoS emac2): Q_HIGH(0) Pkts: N/A, Q_LOW(1) Pkts: N/A
===================================================================
(Ctrl+C to exit)




















































=====================================================[ 3486.927708] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
===[ 3486.934315] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
===========
      PFE-Based TSN Visual Simulation (Extremely Experimental)  [ 3486.948155] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
   [ 3486.954696] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2

[ 3486.968294] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2

 T[ 3486.974802] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
arget Ports: IN/PTP_Master=emac0, OUT/PTP_Slave/Sched=emac2
[ 3486.988235] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
 Ga[ 3486.994825] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
te Interval: 3s, PTP Sync Display: 1s
 Total Duration: 60s
-------------------------------------------------------------------
 Simulation Time: 29s / 60s
-------------------------------------------------------------------
 PTP Status   : Slave Received Announce (emac2)
 Gate Status  : Q_HIGH(0) [******] Q_LOW(1) [******] (Open for: LOW_PRIO)
-------------------------------------------------------------------
 Stats (emac0): RX Pkts: N/A, TX Pkts: N/A
 Stats (emac2): RX Pkts: N/A, TX Pkts: N/A
 Stats (QoS emac2): Q_HIGH(0) Pkts: N/A, Q_LOW(1) Pkts: N/A
===================================================================
(Ctrl+C to exit)






















































===================================================================
 [ 3488.026969] pfeng 46000000.pfe: Setting scheduler 0 mode: Data rate
 [ 3488.033363] pfeng 46000000.pfe: Setting scheduler 0 algorithm: SCHED_ALGO_DWRR
    PFE-Based TSN Visual Simulation (Extremely Experimental)  [ 3488.045879] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
   [ 3488.052440] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2

===================================================================[ 3488.065582] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
 3488.072128] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
m
 Target Ports: IN/PTP_Master=emac0, OUT/PTP_Slave/Sched=emac2
 Gate Interval: 3s, PTP [ 3488.088109] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
Syn[ 3488.094575] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
c Display: 1s
 Total Duration: 60s
-----------------------------------------[ 3488.108205] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
---[ 3488.114753] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
-----------------------
 Simulation Time: 30s / 60s
-------------------------------------------------------------------
 PTP Status   : Master Sync Sent (emac0)
[INFO] 2024-10-09 16:16:13 Visual: Gate OPEN for Q_HIGH_PRIO
 Gate Status  : Q_HIGH(0) [******] Q_LOW(1) [******] (Open for: HIGH_PRIO)
-------------------------------------------------------------------
 Stats (emac0): RX Pkts: N/A, TX Pkts: N/A
 Stats (emac2): RX Pkts: N/A, TX Pkts: N/A
 Stats (QoS emac2): Q_HIGH(0) Pkts: N/A, Q_LOW(1) Pkts: N/A
===================================================================
(Ctrl+C to exit)



















































====================================================[ 3489.144629] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
===[ 3489.151153] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
============
      PFE-Based TSN Visual Simulation (Extremely Experim[ 3489.164392] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
ent[ 3489.170948] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
al)
==============================================================[ 3489.184388] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
====[ 3489.190955] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
=
 Target Ports: IN/PTP_Master=emac0, OUT/PTP_Slave/Sched=[ 3489.204190] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
emac[ 3489.210816] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
2
 Gate Interval: 3s, PTP Sync Display: 1s
 Total Duration: 60s
-------------------------------------------------------------------
 Simulation Time: 31s / 60s
-------------------------------------------------------------------
 PTP Status   : Slave Synced to Master (emac2) - Offset: 0ns
 Gate Status  : Q_HIGH(0) [******] Q_LOW(1) [******] (Open for: HIGH_PRIO)
-------------------------------------------------------------------
 Stats (emac0): RX Pkts: N/A, TX Pkts: N/A
 Stats (emac2): RX Pkts: N/A, TX Pkts: N/A
 Stats (QoS emac2): Q_HIGH(0) Pkts: N/A, Q_LOW(1) Pkts: N/A
===================================================================
(Ctrl+C to exit)




















































===================================================[ 3490.240485] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
===[ 3490.247073] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
=============
      PFE-Based TSN Visual Simulation (Extremely Experi[ 3490.260335] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
ment[ 3490.266919] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
al)
==============================================================[ 3490.280389] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
===[ 3490.286886] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
==
 Target Ports: IN/PTP_Master=emac0, OUT/PTP_Slave/Sched=[ 3490.300214] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
ema[ 3490.306779] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
c2
 Gate Interval: 3s, PTP Sync Display: 1s
 Total Duration: 60s
-------------------------------------------------------------------
 Simulation Time: 32s / 60s
-------------------------------------------------------------------
 PTP Status   : Master Announce Sent (emac0)
 Gate Status  : Q_HIGH(0) [******] Q_LOW(1) [******] (Open for: HIGH_PRIO)
-------------------------------------------------------------------
 Stats (emac0): RX Pkts: N/A, TX Pkts: N/A
 Stats (emac2): RX Pkts: N/A, TX Pkts: N/A
 Stats (QoS emac2): Q_HIGH(0) Pkts: N/A, Q_LOW(1) Pkts: N/A
===================================================================
(Ctrl+C to exit)




















































===================================================================
    [ 3491.339571] pfeng 46000000.pfe: Setting scheduler 0 mode: Data rate
  P[ 3491.346098] pfeng 46000000.pfe: Setting scheduler 0 algorithm: SCHED_ALGO_DWRR
FE-Based TSN Visual Simulation (Extremely Experimental)   [ 3491.358331] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
   pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
[0m
=================================================================== pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
[ 3491.384624] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2

 Target Ports: IN/PTP_Master=emac0, OUT/PTP_Slave/Sched=emac2
[ 3491.398347] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
 G[ 3491.404820] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
ate Interval: 3s, PTP Sync Display: 1s
 Total Duration: 60s
--------------------------------------[ 3491.420245] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
---[ 3491.426814] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
--------------------------
 Simulation Time: 33s / 60s
-------------------------------------------------------------------
 PTP Status   : Slave Received Announce (emac2)
[INFO] 2024-10-09 16:16:16 Visual: Gate OPEN for Q_LOW_PRIO
 Gate Status  : Q_HIGH(0) [******] Q_LOW(1) [******] (Open for: LOW_PRIO)
-------------------------------------------------------------------
 Stats (emac0): RX Pkts: N/A, TX Pkts: N/A
 Stats (emac2): RX Pkts: N/A, TX Pkts: N/A
 Stats (QoS emac2): Q_HIGH(0) Pkts: N/A, Q_LOW(1) Pkts: N/A
===================================================================
(Ctrl+C to exit)



















































====================================================[ 3492.456485] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
===[ 3492.463091] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
============
      PFE-Based TSN Visual Simulation (Extremely Experi[ 3492.476229] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
ment[ 3492.482820] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
al)
==============================================================[ 3492.496239] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
===[ 3492.502778] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
==
 Target Ports: IN/PTP_Master=emac0, OUT/PTP_Slave/Sched=[ 3492.516165] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
ema[ 3492.522714] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
c2
 Gate Interval: 3s, PTP Sync Display: 1s
 Total Duration: 60s
-------------------------------------------------------------------
 Simulation Time: 34s / 60s
-------------------------------------------------------------------
 PTP Status   : Master Sync Sent (emac0)
 Gate Status  : Q_HIGH(0) [******] Q_LOW(1) [******] (Open for: LOW_PRIO)
-------------------------------------------------------------------
 Stats (emac0): RX Pkts: N/A, TX Pkts: N/A
 Stats (emac2): RX Pkts: N/A, TX Pkts: N/A
 Stats (QoS emac2): Q_HIGH(0) Pkts: N/A, Q_LOW(1) Pkts: N/A
===================================================================
(Ctrl+C to exit)




















































====================================================[ 3493.552462] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
===[ 3493.559030] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
============
      PFE-Based TSN Visual Simulation (Extremely Exper[ 3493.572068] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
imen[ 3493.578691] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
tal)
=============================================================[ 3493.592146] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
===[ 3493.598695] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
===
 Target Ports: IN/PTP_Master=emac0, OUT/PTP_Slave/Sched=[ 3493.612082] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
ema[ 3493.618626] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
c2
 Gate Interval: 3s, PTP Sync Display: 1s
 Total Duration: 60s
-------------------------------------------------------------------
 Simulation Time: 35s / 60s
-------------------------------------------------------------------
 PTP Status   : Slave Synced to Master (emac2) - Offset: 0ns
 Gate Status  : Q_HIGH(0) [******] Q_LOW(1) [******] (Open for: LOW_PRIO)
-------------------------------------------------------------------
 Stats (emac0): RX Pkts: N/A, TX Pkts: N/A
 Stats (emac2): RX Pkts: N/A, TX Pkts: N/A
 Stats (QoS emac2): Q_HIGH(0) Pkts: N/A, Q_LOW(1) Pkts: N/A
===================================================================
(Ctrl+C to exit)




















































===================================================================
   [ 3494.650912] pfeng 46000000.pfe: Setting scheduler 0 mode: Data rate
 [ 3494.657352] pfeng 46000000.pfe: Setting scheduler 0 algorithm: SCHED_ALGO_DWRR
  PFE-Based TSN Visual Simulation (Extremely Experiment[ 3494.669265] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
al)[ 3494.675832] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2

================================================================[ 3494.689078] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
===[ 3494.695678] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2

 Target Ports: IN/PTP_Master=emac0, OUT/PTP_Slave/Sched=em[ 3494.708990] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
ac2 pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
[0m
 Gate Interval: 3s, PTP Sync Display: 1s
 Total Duration: 60s
----------[ 3494.729319] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
---[ 3494.735850] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
------------------------------------------------------
 Simulation Time: 36s / 60s
-------------------------------------------------------------------
 PTP Status   : Master Announce Sent (emac0)
[INFO] 2024-10-09 16:16:20 Visual: Gate OPEN for Q_HIGH_PRIO
 Gate Status  : Q_HIGH(0) [******] Q_LOW(1) [******] (Open for: HIGH_PRIO)
-------------------------------------------------------------------
 Stats (emac0): RX Pkts: N/A, TX Pkts: N/A
 Stats (emac2): RX Pkts: N/A, TX Pkts: N/A
 Stats (QoS emac2): Q_HIGH(0) Pkts: N/A, Q_LOW(1) Pkts: N/A
===================================================================
(Ctrl+C to exit)


















































=====================================================[ 3495.765720] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
===[ 3495.772253] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
===========
      PFE-Based TSN Visual Simulation (Extremely Experime[ 3495.785542] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
nta[ 3495.792035] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
l)
=================================================================== pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
[0m[ 3495.812412] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2

 Target Ports: IN/PTP_Master=emac0, OUT/PTP_Slave/Sched=emac2 3495.825868] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
0m[ 3495.832357] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2

 Gate Interval: 3s, PTP Sync Display: 1s
 Total Duration: 60s
-------------------------------------------------------------------
 Simulation Time: 37s / 60s
-------------------------------------------------------------------
 PTP Status   : Slave Received Announce (emac2)
 Gate Status  : Q_HIGH(0) [******] Q_LOW(1) [******] (Open for: HIGH_PRIO)
-------------------------------------------------------------------
 Stats (emac0): RX Pkts: N/A, TX Pkts: N/A
 Stats (emac2): RX Pkts: N/A, TX Pkts: N/A
 Stats (QoS emac2): Q_HIGH(0) Pkts: N/A, Q_LOW(1) Pkts: N/A
===================================================================
(Ctrl+C to exit)




















































=====================================================[ 3496.861972] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
===[ 3496.868548] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
===========
      PFE-Based TSN Visual Simulation (Extremely Experimental[ 3496.882171] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
)  [ 3496.888707] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2

===================================================================
 [ 3496.902700] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
Tar[ 3496.909245] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
get Ports: IN/PTP_Master=emac0, OUT/PTP_Slave/Sched=emac2
[ 3496.922536] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
 Ga[ 3496.929044] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
te Interval: 3s, PTP Sync Display: 1s
 Total Duration: 60s
-------------------------------------------------------------------
 Simulation Time: 38s / 60s
-------------------------------------------------------------------
 PTP Status   : Master Sync Sent (emac0)
 Gate Status  : Q_HIGH(0) [******] Q_LOW(1) [******] (Open for: HIGH_PRIO)
-------------------------------------------------------------------
 Stats (emac0): RX Pkts: N/A, TX Pkts: N/A
 Stats (emac2): RX Pkts: N/A, TX Pkts: N/A
 Stats (QoS emac2): Q_HIGH(0) Pkts: N/A, Q_LOW(1) Pkts: N/A
===================================================================
(Ctrl+C to exit)






















































===================================================================
   [ 3497.961376] pfeng 46000000.pfe: Setting scheduler 0 mode: Data rate
  [ 3497.967830] pfeng 46000000.pfe: Setting scheduler 0 algorithm: SCHED_ALGO_DWRR
 PFE-Based TSN Visual Simulation (Extremely Experimental) [ 3497.980079] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
   [ 3497.986638] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2

=================================================================== pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
[0m[ 3498.006501] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2

 Target Ports: IN/PTP_Master=emac0, OUT/PTP_Slave/Sched=emac2 3498.019989] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
m
[ 3498.026558] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
 Gate Interval: 3s, PTP Sync Display: 1s
 Total Duration: 60s
---------------------------------------[ 3498.042267] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
---[ 3498.048885] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
-------------------------
 Simulation Time: 39s / 60s
-------------------------------------------------------------------
 PTP Status   : Slave Synced to Master (emac2) - Offset: 0ns
[INFO] 2024-10-09 16:16:23 Visual: Gate OPEN for Q_LOW_PRIO
 Gate Status  : Q_HIGH(0) [******] Q_LOW(1) [******] (Open for: LOW_PRIO)
-------------------------------------------------------------------
 Stats (emac0): RX Pkts: N/A, TX Pkts: N/A
 Stats (emac2): RX Pkts: N/A, TX Pkts: N/A
 Stats (QoS emac2): Q_HIGH(0) Pkts: N/A, Q_LOW(1) Pkts: N/A
===================================================================
(Ctrl+C to exit)


















































====================================================[ 3499.078598] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
===============
 [ 3499.087415] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
     PFE-Based TSN Visual Simulation (Extremely Experimental)
[ 3499.100509] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
====[ 3499.107113] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
===============================================================
 Target Ports:[ 3499.120595] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
 IN[ 3499.127137] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
/PTP_Master=emac0, OUT/PTP_Slave/Sched=emac2
 Gate Interval: 3s, PTP Sync Display: 1s
[ 3499.142885] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
 To[ 3499.149430] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
tal Duration: 60s
-------------------------------------------------------------------
 Simulation Time: 40s / 60s
-------------------------------------------------------------------
 PTP Status   : Master Announce Sent (emac0)
 Gate Status  : Q_HIGH(0) [******] Q_LOW(1) [******] (Open for: LOW_PRIO)
-------------------------------------------------------------------
 Stats (emac0): RX Pkts: N/A, TX Pkts: N/A
 Stats (emac2): RX Pkts: N/A, TX Pkts: N/A
 Stats (QoS emac2): Q_HIGH(0) Pkts: N/A, Q_LOW(1) Pkts: N/A
===================================================================
(Ctrl+C to exit)























































====================================================[ 3500.179154] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
===[ 3500.185717] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
============
      PFE-Based TSN Visual Simulation (Extremely Experime[ 3500.199076] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
nta[ 3500.205585] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
l)
==================================================================[ 3500.219306] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
= 3500.225857] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
m
 Target Ports: IN/PTP_Master=emac0, OUT/PTP_Slave/Sched=emac2[ 3500.239257] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
 3500.245787] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
m
 Gate Interval: 3s, PTP Sync Display: 1s
 Total Duration: 60s
-------------------------------------------------------------------
 Simulation Time: 41s / 60s
-------------------------------------------------------------------
 PTP Status   : Slave Received Announce (emac2)
 Gate Status  : Q_HIGH(0) [******] Q_LOW(1) [******] (Open for: LOW_PRIO)
-------------------------------------------------------------------
 Stats (emac0): RX Pkts: N/A, TX Pkts: N/A
 Stats (emac2): RX Pkts: N/A, TX Pkts: N/A
 Stats (QoS emac2): Q_HIGH(0) Pkts: N/A, Q_LOW(1) Pkts: N/A
===================================================================
(Ctrl+C to exit)




















































===================================================================
   [ 3501.278155] pfeng 46000000.pfe: Setting scheduler 0 mode: Data rate
  [ 3501.284560] pfeng 46000000.pfe: Setting scheduler 0 algorithm: SCHED_ALGO_DWRR
 PFE-Based TSN Visual Simulation (Extremely Experimental)[ 3501.296703] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
    [ 3501.303314] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2

===============================================================[ 3501.316265] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
===[ 3501.322811] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
=
 Target Ports: IN/PTP_Master=emac0, OUT/PTP_Slave/Sched=em[ 3501.336226] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
ac2[ 3501.342775] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2

 Gate Interval: 3s, PTP Sync Display: 1s
 Total Duration: 60s
---------[ 3501.356457] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
---[ 3501.362969] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
-------------------------------------------------------
 Simulation Time: 42s / 60s
-------------------------------------------------------------------
 PTP Status   : Master Sync Sent (emac0)
[INFO] 2024-10-09 16:16:26 Visual: Gate OPEN for Q_HIGH_PRIO
 Gate Status  : Q_HIGH(0) [******] Q_LOW(1) [******] (Open for: HIGH_PRIO)
-------------------------------------------------------------------
 Stats (emac0): RX Pkts: N/A, TX Pkts: N/A
 Stats (emac2): RX Pkts: N/A, TX Pkts: N/A
 Stats (QoS emac2): Q_HIGH(0) Pkts: N/A, Q_LOW(1) Pkts: N/A
===================================================================
(Ctrl+C to exit)


















































====================================================[ 3502.392618] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
===[ 3502.399209] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
============
      PFE-Based TSN Visual Simulation (Extremely Experiment[ 3502.412717] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
al) [ 3502.419314] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2

===================================================================
 Target Ports: IN/PTP_[ 3502.435252] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
Mas[ 3502.441800] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
ter=emac0, OUT/PTP_Slave/Sched=emac2
 Gate Interval: 3s, PT[ 3502.455112] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
P S[ 3502.461683] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
ync Display: 1s
 Total Duration: 60s
-------------------------------------------------------------------
 Simulation Time: 43s / 60s
-------------------------------------------------------------------
 PTP Status   : Slave Synced to Master (emac2) - Offset: 0ns
 Gate Status  : Q_HIGH(0) [******] Q_LOW(1) [******] (Open for: HIGH_PRIO)
-------------------------------------------------------------------
 Stats (emac0): RX Pkts: N/A, TX Pkts: N/A
 Stats (emac2): RX Pkts: N/A, TX Pkts: N/A
 Stats (QoS emac2): Q_HIGH(0) Pkts: N/A, Q_LOW(1) Pkts: N/A
===================================================================
(Ctrl+C to exit)






















































===================================================[ 3503.491522] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
===[ 3503.498064] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
=============
      PFE-Based TSN Visual Simulation (Extremely Experim[ 3503.511401] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
ent[ 3503.517947] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
al)
===================================================================
 Ta[ 3503.532577] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
rge[ 3503.539144] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
t Ports: IN/PTP_Master=emac0, OUT/PTP_Slave/Sched=emac2
 Ga[ 3503.552411] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
te I[ 3503.559103] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
nterval: 3s, PTP Sync Display: 1s
 Total Duration: 60s
-------------------------------------------------------------------
 Simulation Time: 44s / 60s
-------------------------------------------------------------------
 PTP Status   : Master Announce Sent (emac0)
 Gate Status  : Q_HIGH(0) [******] Q_LOW(1) [******] (Open for: HIGH_PRIO)
-------------------------------------------------------------------
 Stats (emac0): RX Pkts: N/A, TX Pkts: N/A
 Stats (emac2): RX Pkts: N/A, TX Pkts: N/A
 Stats (QoS emac2): Q_HIGH(0) Pkts: N/A, Q_LOW(1) Pkts: N/A
===================================================================
(Ctrl+C to exit)






















































===================================================================
 [ 3504.591452] pfeng 46000000.pfe: Setting scheduler 0 mode: Data rate
  [ 3504.597890] pfeng 46000000.pfe: Setting scheduler 0 algorithm: SCHED_ALGO_DWRR
   PFE-Based TSN Visual Simulation (Extremely Experimental[ 3504.610118] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
)  [ 3504.616682] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2

=================================================================[ 3504.629940] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
== pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
[0m
 Target Ports: IN/PTP_Master=emac0, OUT/PTP_Slave/Sched=emac[ 3504.649902] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
2 3504.656441] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
0m
 Gate Interval: 3s, PTP Sync Display: 1s
 Total Duration: 60s
-------[ 3504.669746] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
---[ 3504.676269] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
---------------------------------------------------------
 Simulation Time: 45s / 60s
-------------------------------------------------------------------
 PTP Status   : Slave Received Announce (emac2)
[INFO] 2024-10-09 16:16:30 Visual: Gate OPEN for Q_LOW_PRIO
 Gate Status  : Q_HIGH(0) [******] Q_LOW(1) [******] (Open for: LOW_PRIO)
-------------------------------------------------------------------
 Stats (emac0): RX Pkts: N/A, TX Pkts: N/A
 Stats (emac2): RX Pkts: N/A, TX Pkts: N/A
 Stats (QoS emac2): Q_HIGH(0) Pkts: N/A, Q_LOW(1) Pkts: N/A
===================================================================
(Ctrl+C to exit)


















































====================================================[ 3505.706282] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
===[ 3505.712809] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
============
      PFE-Based TSN Visual Simulation (Extremely Experimental[ 3505.726485] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
)  [ 3505.733032] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2

=================================================================== 3505.746653] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
0m
 Target Ports: IN/[ 3505.754770] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
PTP_Master=emac0, OUT/PTP_Slave/Sched=emac2
 Gate Interval[ 3505.768060] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
: 3[ 3505.774628] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
s, PTP Sync Display: 1s
 Total Duration: 60s
-------------------------------------------------------------------
 Simulation Time: 46s / 60s
-------------------------------------------------------------------
 PTP Status   : Master Sync Sent (emac0)
 Gate Status  : Q_HIGH(0) [******] Q_LOW(1) [******] (Open for: LOW_PRIO)
-------------------------------------------------------------------
 Stats (emac0): RX Pkts: N/A, TX Pkts: N/A
 Stats (emac2): RX Pkts: N/A, TX Pkts: N/A
 Stats (QoS emac2): Q_HIGH(0) Pkts: N/A, Q_LOW(1) Pkts: N/A
===================================================================
(Ctrl+C to exit)





















































====================================================[ 3506.804570] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
====[ 3506.811197] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
===========
      PFE-Based TSN Visual Simulation (Extremely Experimen[ 3506.824564] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
tal[ 3506.831156] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
)
=================================================================== 3506.844964] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
[ 3506.851501] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2

 Target Ports: IN/PTP_Master=emac0, OUT/PTP_Slave/Sched=emac2 pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
[ 3506.871370] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2

 Gate Interval: 3s, PTP Sync Display: 1s
 Total Duration: 60s
-------------------------------------------------------------------
 Simulation Time: 47s / 60s
-------------------------------------------------------------------
 PTP Status   : Slave Synced to Master (emac2) - Offset: 0ns
 Gate Status  : Q_HIGH(0) [******] Q_LOW(1) [******] (Open for: LOW_PRIO)
-------------------------------------------------------------------
 Stats (emac0): RX Pkts: N/A, TX Pkts: N/A
 Stats (emac2): RX Pkts: N/A, TX Pkts: N/A
 Stats (QoS emac2): Q_HIGH(0) Pkts: N/A, Q_LOW(1) Pkts: N/A
===================================================================
(Ctrl+C to exit)





















































===================================================================
[ 3507.903529] pfeng 46000000.pfe: Setting scheduler 0 mode: Data rate
  [ 3507.909952] pfeng 46000000.pfe: Setting scheduler 0 algorithm: SCHED_ALGO_DWRR
    PFE-Based TSN Visual Simulation (Extremely Experimenta[ 3507.922186] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
l) [ 3507.928754] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2

=================================================================[ 3507.942023] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
== pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
[0m
 Target Ports: IN/PTP_Master=emac0, OUT/PTP_Slave/Sched=ema[ 3507.961980] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
c2 pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
[0m
 Gate Interval: 3s, PTP Sync Display: 1s
 Total Duration: 60s
------[ 3507.981838] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
---[ 3507.988399] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
----------------------------------------------------------
 Simulation Time: 48s / 60s
-------------------------------------------------------------------
 PTP Status   : Master Announce Sent (emac0)
[INFO] 2024-10-09 16:16:33 Visual: Gate OPEN for Q_HIGH_PRIO
 Gate Status  : Q_HIGH(0) [******] Q_LOW(1) [******] (Open for: HIGH_PRIO)
-------------------------------------------------------------------
 Stats (emac0): RX Pkts: N/A, TX Pkts: N/A
 Stats (emac2): RX Pkts: N/A, TX Pkts: N/A
 Stats (QoS emac2): Q_HIGH(0) Pkts: N/A, Q_LOW(1) Pkts: N/A
===================================================================
(Ctrl+C to exit)


















































====================================================[ 3509.017864] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
===[ 3509.024462] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
============
      PFE-Based TSN Visual Simulation (Extremely Experim[ 3509.037698] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
enta[ 3509.044300] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
l)
=================================================================== pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
[0m
 Tar[ 3509.065270] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
get Ports: IN/PTP_Master=emac0, OUT/PTP_Slave/Sched=emac2
 [ 3509.078539] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
Gat[ 3509.085075] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
e Interval: 3s, PTP Sync Display: 1s
 Total Duration: 60s
-------------------------------------------------------------------
 Simulation Time: 49s / 60s
-------------------------------------------------------------------
 PTP Status   : Slave Received Announce (emac2)
 Gate Status  : Q_HIGH(0) [******] Q_LOW(1) [******] (Open for: HIGH_PRIO)
-------------------------------------------------------------------
 Stats (emac0): RX Pkts: N/A, TX Pkts: N/A
 Stats (emac2): RX Pkts: N/A, TX Pkts: N/A
 Stats (QoS emac2): Q_HIGH(0) Pkts: N/A, Q_LOW(1) Pkts: N/A
===================================================================
(Ctrl+C to exit)





















































=====================================================[ 3510.116336] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
===[ 3510.122875] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
===========
      PFE-Based TSN Visual Simulation (Extremely Experimen[ 3510.136146] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
tal[ 3510.142743] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
)
==================================================================[ 3510.156326] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
= 3510.162842] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
0m
 Target Ports: IN/PTP_Master=emac0, OUT/PTP_Slave/Sched=emac2 3510.176574] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
m
[ 3510.183080] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
 Gate Interval: 3s, PTP Sync Display: 1s
 Total Duration: 60s
-------------------------------------------------------------------
 Simulation Time: 50s / 60s
-------------------------------------------------------------------
 PTP Status   : Master Sync Sent (emac0)
 Gate Status  : Q_HIGH(0) [******] Q_LOW(1) [******] (Open for: HIGH_PRIO)
-------------------------------------------------------------------
 Stats (emac0): RX Pkts: N/A, TX Pkts: N/A
 Stats (emac2): RX Pkts: N/A, TX Pkts: N/A
 Stats (QoS emac2): Q_HIGH(0) Pkts: N/A, Q_LOW(1) Pkts: N/A
===================================================================
(Ctrl+C to exit)




















































===================================================================
  [ 3511.215133] pfeng 46000000.pfe: Setting scheduler 0 mode: Data rate
  [ 3511.221504] pfeng 46000000.pfe: Setting scheduler 0 algorithm: SCHED_ALGO_DWRR
  PFE-Based TSN Visual Simulation (Extremely Experimenta[ 3511.233562] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
l) [ 3511.240120] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2

===============================================================[ 3511.253247] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
===[ 3511.259816] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
=
 Target Ports: IN/PTP_Master=emac0, OUT/PTP_Slave/Sched=emac2 3511.273797] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
m
 [ 3511.280375] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
Gate Interval: 3s, PTP Sync Display: 1s
 Total Duration: 60s
-------------[ 3511.293816] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
--[ 3511.300304] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
----------------------------------------------------
 Simulation Time: 51s / 60s
-------------------------------------------------------------------
 PTP Status   : Slave Synced to Master (emac2) - Offset: 0ns
[INFO] 2024-10-09 16:16:36 Visual: Gate OPEN for Q_LOW_PRIO
 Gate Status  : Q_HIGH(0) [******] Q_LOW(1) [******] (Open for: LOW_PRIO)
-------------------------------------------------------------------
 Stats (emac0): RX Pkts: N/A, TX Pkts: N/A
 Stats (emac2): RX Pkts: N/A, TX Pkts: N/A
 Stats (QoS emac2): Q_HIGH(0) Pkts: N/A, Q_LOW(1) Pkts: N/A
===================================================================
(Ctrl+C to exit)


















































====================================================[ 3512.329795] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
===[ 3512.336365] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
============
      PFE-Based TSN Visual Simulation (Extremely Experimenta[ 3512.349935] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
l) [ 3512.356513] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2

===================================================================[ 3512.370400] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2

[ 3512.376857] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
 Target Ports: IN/PTP_Master=emac0, OUT/PTP_Slave/Sched=emac2
 Gate[ 3512.390821] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
 In[ 3512.397380] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
terval: 3s, PTP Sync Display: 1s
 Total Duration: 60s
-------------------------------------------------------------------
 Simulation Time: 52s / 60s
-------------------------------------------------------------------
 PTP Status   : Master Announce Sent (emac0)
 Gate Status  : Q_HIGH(0) [******] Q_LOW(1) [******] (Open for: LOW_PRIO)
-------------------------------------------------------------------
 Stats (emac0): RX Pkts: N/A, TX Pkts: N/A
 Stats (emac2): RX Pkts: N/A, TX Pkts: N/A
 Stats (QoS emac2): Q_HIGH(0) Pkts: N/A, Q_LOW(1) Pkts: N/A
===================================================================
(Ctrl+C to exit)





















































====================================================[ 3513.427219] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
===[ 3513.433782] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
============
      PFE-Based TSN Visual Simulation (Extremely Experime[ 3513.447060] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
ntal[ 3513.453693] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
)
===================================================================
 Ta[ 3513.468218] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
rge[ 3513.474685] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
t Ports: IN/PTP_Master=emac0, OUT/PTP_Slave/Sched=emac2
 G[ 3513.487931] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
ate [ 3513.494577] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
Interval: 3s, PTP Sync Display: 1s
 Total Duration: 60s
-------------------------------------------------------------------
 Simulation Time: 53s / 60s
-------------------------------------------------------------------
 PTP Status   : Slave Received Announce (emac2)
 Gate Status  : Q_HIGH(0) [******] Q_LOW(1) [******] (Open for: LOW_PRIO)
-------------------------------------------------------------------
 Stats (emac0): RX Pkts: N/A, TX Pkts: N/A
 Stats (emac2): RX Pkts: N/A, TX Pkts: N/A
 Stats (QoS emac2): Q_HIGH(0) Pkts: N/A, Q_LOW(1) Pkts: N/A
===================================================================
(Ctrl+C to exit)






















































===================================================================
  [ 3514.527614] pfeng 46000000.pfe: Setting scheduler 0 mode: Data rate
  [ 3514.534073] pfeng 46000000.pfe: Setting scheduler 0 algorithm: SCHED_ALGO_DWRR
  PFE-Based TSN Visual Simulation (Extremely Experimental[ 3514.546253] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
)  [ 3514.552786] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2

=================================================================[ 3514.565993] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
== 3514.572596] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
0m
 Target Ports: IN/PTP_Master=emac0, OUT/PTP_Slave/Sched=emac2 3514.586292] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
m
[ 3514.592822] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
 Gate Interval: 3s, PTP Sync Display: 1s
 Total Duration: 60s
---------------------------------[ 3514.608084] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
---[ 3514.614605] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
-------------------------------
 Simulation Time: 54s / 60s
-------------------------------------------------------------------
 PTP Status   : Master Sync Sent (emac0)
[INFO] 2024-10-09 16:16:40 Visual: Gate OPEN for Q_HIGH_PRIO
 Gate Status  : Q_HIGH(0) [******] Q_LOW(1) [******] (Open for: HIGH_PRIO)
-------------------------------------------------------------------
 Stats (emac0): RX Pkts: N/A, TX Pkts: N/A
 Stats (emac2): RX Pkts: N/A, TX Pkts: N/A
 Stats (QoS emac2): Q_HIGH(0) Pkts: N/A, Q_LOW(1) Pkts: N/A
===================================================================
(Ctrl+C to exit)


















































====================================================[ 3515.644592] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
===[ 3515.651169] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
============
      PFE-Based TSN Visual Simulation (Extremely Experim[ 3515.664396] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
enta[ 3515.670992] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
l)
===============================================================[ 3515.684388] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
===[ 3515.690953] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
=
 Target Ports: IN/PTP_Master=emac0, OUT/PTP_Slave/Sched=emac2[ 3515.704668] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
 3515.711230] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
m
 Gate Interval: 3s, PTP Sync Display: 1s
 Total Duration: 60s
-------------------------------------------------------------------
 Simulation Time: 55s / 60s
-------------------------------------------------------------------
 PTP Status   : Slave Synced to Master (emac2) - Offset: 0ns
 Gate Status  : Q_HIGH(0) [******] Q_LOW(1) [******] (Open for: HIGH_PRIO)
-------------------------------------------------------------------
 Stats (emac0): RX Pkts: N/A, TX Pkts: N/A
 Stats (emac2): RX Pkts: N/A, TX Pkts: N/A
 Stats (QoS emac2): Q_HIGH(0) Pkts: N/A, Q_LOW(1) Pkts: N/A
===================================================================
(Ctrl+C to exit)




















































====================================================[ 3516.740917] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
===[ 3516.747496] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
============
      PFE-Based TSN Visual Simulation (Extremely Experiment[ 3516.760988] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
al) [ 3516.767578] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2

=================================================================== 3516.781405] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
[ 3516.787859] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2

 Target Ports: IN/PTP_Master=emac0, OUT/PTP_Slave/Sched=emac2 pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
[0m[ 3516.807627] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2

 Gate Interval: 3s, PTP Sync Display: 1s
 Total Duration: 60s
-------------------------------------------------------------------
 Simulation Time: 56s / 60s
-------------------------------------------------------------------
 PTP Status   : Master Announce Sent (emac0)
 Gate Status  : Q_HIGH(0) [******] Q_LOW(1) [******] (Open for: HIGH_PRIO)
-------------------------------------------------------------------
 Stats (emac0): RX Pkts: N/A, TX Pkts: N/A
 Stats (emac2): RX Pkts: N/A, TX Pkts: N/A
 Stats (QoS emac2): Q_HIGH(0) Pkts: N/A, Q_LOW(1) Pkts: N/A
===================================================================
(Ctrl+C to exit)





















































===================================================================
  [ 3517.840002] pfeng 46000000.pfe: Setting scheduler 0 mode: Data rate
  [ 3517.846443] pfeng 46000000.pfe: Setting scheduler 0 algorithm: SCHED_ALGO_DWRR
  PFE-Based TSN Visual Simulation (Extremely Experimenta[ 3517.858465] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
l) [ 3517.865065] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2

==============================================================[ 3517.878065] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
====[ 3517.884727] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
=
 Target Ports: IN/PTP_Master=emac0, OUT/PTP_Slave/Sched=ema[ 3517.898252] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
c2[ 3517.904743] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2

 Gate Interval: 3s, PTP Sync Display: 1s
 Total Duration: 60s
-----------[ 3517.918584] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
----[ 3517.925159] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
----------------------------------------------------
 Simulation Time: 57s / 60s
-------------------------------------------------------------------
 PTP Status   : Slave Received Announce (emac2)
[INFO] 2024-10-09 16:16:43 Visual: Gate OPEN for Q_LOW_PRIO
 Gate Status  : Q_HIGH(0) [******] Q_LOW(1) [******] (Open for: LOW_PRIO)
-------------------------------------------------------------------
 Stats (emac0): RX Pkts: N/A, TX Pkts: N/A
 Stats (emac2): RX Pkts: N/A, TX Pkts: N/A
 Stats (QoS emac2): Q_HIGH(0) Pkts: N/A, Q_LOW(1) Pkts: N/A
===================================================================
(Ctrl+C to exit)


















































====================================================[ 3518.954715] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
====[ 3518.961314] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
===========
      PFE-Based TSN Visual Simulation (Extremely Experime[ 3518.974567] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
ntal)
[ 3518.982887] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
===================================================================
 Target P[ 3518.996246] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
ort[ 3519.002774] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
s: IN/PTP_Master=emac0, OUT/PTP_Slave/Sched=emac2
 Gate Interval[ 3519.016549] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
: 3[ 3519.023024] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
s, PTP Sync Display: 1s
 Total Duration: 60s
-------------------------------------------------------------------
 Simulation Time: 58s / 60s
-------------------------------------------------------------------
 PTP Status   : Master Sync Sent (emac0)
 Gate Status  : Q_HIGH(0) [******] Q_LOW(1) [******] (Open for: LOW_PRIO)
-------------------------------------------------------------------
 Stats (emac0): RX Pkts: N/A, TX Pkts: N/A
 Stats (emac2): RX Pkts: N/A, TX Pkts: N/A
 Stats (QoS emac2): Q_HIGH(0) Pkts: N/A, Q_LOW(1) Pkts: N/A
===================================================================
(Ctrl+C to exit)






















































====================================================[ 3520.052731] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
===[ 3520.059324] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
============
      PFE-Based TSN Visual Simulation (Extremely Experiment[ 3520.072836] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
al)  [ 3520.079526] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2

===================================================================
[ 3520.093425] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
 T[ 3520.099937] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
arget Ports: IN/PTP_Master=emac0, OUT/PTP_Slave/Sched=emac2
 [ 3520.113450] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
Ga[ 3520.119899] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
te Interval: 3s, PTP Sync Display: 1s
 Total Duration: 60s
-------------------------------------------------------------------
 Simulation Time: 59s / 60s
-------------------------------------------------------------------
 PTP Status   : Slave Synced to Master (emac2) - Offset: 0ns
 Gate Status  : Q_HIGH(0) [******] Q_LOW(1) [******] (Open for: LOW_PRIO)
-------------------------------------------------------------------
 Stats (emac0): RX Pkts: N/A, TX Pkts: N/A
 Stats (emac2): RX Pkts: N/A, TX Pkts: N/A
 Stats (QoS emac2): Q_HIGH(0) Pkts: N/A, Q_LOW(1) Pkts: N/A
===================================================================
(Ctrl+C to exit)
[INFO] 2024-10-09 16:16:46 Simulation finished.
[INFO] 2024-10-09 16:16:46 Performing initial cleanup...
[ 3521.160330] pfeng 46000000.pfe: Domain 887: Interface 0 removed
[ 3521.166392] pfeng 46000000.pfe: Domain 887: Interface 2 removed
[ 3521.180227] pfeng 46000000.pfe: Domain 776: Interface 0 removed
[ 3521.186213] pfeng 46000000.pfe: Domain 776: Interface 2 removed
[ 3521.195795] pfeng 46000000.pfe: Feature 'vlan_conf_check' is not available (not enabled in FW).
[ 3521.204128] pfeng 46000000.pfe: Feature 'ptp_conf_check' is not available (not enabled in FW).
[ 3521.212908] pfeng 46000000.pfe: emac0: Disabling Flexible Filter
[ 3521.253856] pfeng 46000000.pfe: Disabling HW bridge lookup PARSE_BRIDGE_EN
[ 3521.260753] pfeng 46000000.pfe: Feature 'vlan_conf_check' is not available (not enabled in FW).
[ 3521.269058] pfeng 46000000.pfe: Feature 'ptp_conf_check' is not available (not enabled in FW).
[ 3521.277868] pfeng 46000000.pfe: emac2: Disabling Flexible Filter
[INFO] 2024-10-09 16:16:47 Initial cleanup done.
Done.
root@s32g274ardb2:~# vi pfe_benchmark_simulation.sh























































































































    # Simple delta calculation example (for total, not per second)
    # This should be processed offline from the CSV for proper rates.
    log_info "$PFE_PORT_DST Total RX Pkts during test: $((end_rx_d - start_rx_d))"
    log_info "$PFE_PORT_DST Total TX Pkts during test: $((end_tx_d - start_tx_d)) (if observing egress on DST)"
    log_info "Data logged to $OUTPUT_FILE"
}

# Test 2: QoS Scheduling "Effect" Observation
run_qos_scheduling_test() {
    local test_name="QoS_Scheduling_VLAN${QOS_DATA_VLAN_ID}"
    log_info "Starting Test: $test_name (Duration: ${BENCH_DURATION_SECONDS}s per phase)"
    setup_l2_bridge "$QOS_DATA_VLAN_ID" # Use a data path

    # Configure QoS queues on PFE_PORT_DST (egress)
    run_libfci qos-que-update --interface "$PFE_PORT_DST" --que $QOS_QUEUE_A --qdisc TAIL_DROP
    run_libfci qos-que-update --interface "$PFE_PORT_DST" --que $QOS_QUEUE_B --qdisc TAIL_DROP

    log_info "Instructing: Send two types of L2 traffic to $PFE_PORT_SRC (VLAN $QOS_DATA_VLAN_ID):"
    log_info "  - Stream 'A' (e.g., specific MAC/PCP) intended for PFE Queue $QOS_QUEUE_A"
    log_info "  - Stream 'B' (e.g., different MAC/PCP) intended for PFE Queue $QOS_QUEUE_B"
    log_info "PFE must be configured (e.g. via fprule or logif) to map these streams to Q_A and Q_B."
    log_info "This script only changes scheduler weights, not classification."

    # Phase 1: Favor Queue A
    log_info "Phase 1: Favoring Queue A on $PFE_PORT_DST (High weight to Q_A, Low to Q_B)"
    run_libfci qos-sch-update --interface "$PFE_PORT_DST" --sch 0 --sch-algo DWRR --sch-in "que${QOS_QUEUE_A}:100,que
    for i in $(seq 1 "$BENCH_DURATION_SECONDS"); do
        sleep "$SAMPLING_INTERVAL_SECONDS"
        local q_a_pkts=$(get_qos_queue_stats "$PFE_PORT_DST" "$QOS_QUEUE_A")
        local q_b_pkts=$(get_qos_queue_stats "$PFE_PORT_DST" "$QOS_QUEUE_B")
        local ts=$(date '+%Y-%m-%dT%H:%M:%S')
        echo "$ts,${test_name}_FavorA,$PFE_PORT_DST,N/A,N/A,N/A,N/A,$q_a_pkts,$q_b_pkts,Iter_$i" >> "$OUTPUT_FILE"
        log_info "Sample $i (Favor A): Q_A Pkts: $q_a_pkts, Q_B Pkts: $q_b_pkts"
    done

    # Phase 2: Favor Queue B
    log_info "Phase 2: Favoring Queue B on $PFE_PORT_DST (Low weight to Q_A, High to Q_B)"
    run_libfci qos-sch-update --interface "$PFE_PORT_DST" --sch 0 --sch-algo DWRR --sch-in "que${QOS_QUEUE_A}:1,que${
    for i in $(seq 1 "$BENCH_DURATION_SECONDS"); do
        sleep "$SAMPLING_INTERVAL_SECONDS"
        local q_a_pkts=$(get_qos_queue_stats "$PFE_PORT_DST" "$QOS_QUEUE_A")
        local q_b_pkts=$(get_qos_queue_stats "$PFE_PORT_DST" "$QOS_QUEUE_B")
        local ts=$(date '+%Y-%m-%dT%H:%M:%S')
        echo "$ts,${test_name}_FavorB,$PFE_PORT_DST,N/A,N/A,N/A,N/A,$q_a_pkts,$q_b_pkts,Iter_$i" >> "$OUTPUT_FILE"
        log_info "Sample $i (Favor B): Q_A Pkts: $q_a_pkts, Q_B Pkts: $q_b_pkts"
    done

    log_info "Test $test_name Finished. Data logged to $OUTPUT_FILE"
}


# --- Main Execution ---
trap "log_info 'Script interrupted. Cleaning up.'; initial_setup_common; exit 1" SIGINT

initial_setup_common

# Run L2 Throughput Test
run_l2_throughput_test
sleep 5 # Pause between tests

# Run QoS Scheduling Observation Test
# IMPORTANT: This test requires external traffic streams that PFE can classify
# into QOS_QUEUE_A and QOS_QUEUE_B. Classification rules must be set separately
# using libfci_cli (e.g., fprule-add or logif-update with match rules) if not
# relying on PFE defaults (e.g., VLAN PCP bits).
run_qos_scheduling_test
sleep 5

# Add more test functions here (e.g., for PTP conf ON/OFF observation)

log_info "All benchmark simulations finished. Raw data in $OUTPUT_FILE"
log_info "Process this CSV file offline to calculate rates and visualize."

# Final cleanup (optional, or do it manually)
# initial_setup_common

exit 0




====================================================[ 3520.052731] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
===[ 3520.059324] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
============
      PFE-Based TSN Visual Simulation (Extremely Experiment[ 3520.072836] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
al)  [ 3520.079526] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2

===================================================================
[ 3520.093425] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
 T[ 3520.099937] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
arget Ports: IN/PTP_Master=emac0, OUT/PTP_Slave/Sched=emac2
 [ 3520.113450] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
Ga[ 3520.119899] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
te Interval: 3s, PTP Sync Display: 1s
 Total Duration: 60s
-------------------------------------------------------------------
 Simulation Time: 59s / 60s
-------------------------------------------------------------------
 PTP Status   : Slave Synced to Master (emac2) - Offset: 0ns
 Gate Status  : Q_HIGH(0) [******] Q_LOW(1) [******] (Open for: LOW_PRIO)
-------------------------------------------------------------------
 Stats (emac0): RX Pkts: N/A, TX Pkts: N/A
 Stats (emac2): RX Pkts: N/A, TX Pkts: N/A
 Stats (QoS emac2): Q_HIGH(0) Pkts: N/A, Q_LOW(1) Pkts: N/A
===================================================================
(Ctrl+C to exit)
[INFO] 2024-10-09 16:16:46 Simulation finished.
[INFO] 2024-10-09 16:16:46 Performing initial cleanup...
[ 3521.160330] pfeng 46000000.pfe: Domain 887: Interface 0 removed
[ 3521.166392] pfeng 46000000.pfe: Domain 887: Interface 2 removed
[ 3521.180227] pfeng 46000000.pfe: Domain 776: Interface 0 removed
[ 3521.186213] pfeng 46000000.pfe: Domain 776: Interface 2 removed
[ 3521.195795] pfeng 46000000.pfe: Feature 'vlan_conf_check' is not available (not enabled in FW).
[ 3521.204128] pfeng 46000000.pfe: Feature 'ptp_conf_check' is not available (not enabled in FW).
[ 3521.212908] pfeng 46000000.pfe: emac0: Disabling Flexible Filter
[ 3521.253856] pfeng 46000000.pfe: Disabling HW bridge lookup PARSE_BRIDGE_EN
[ 3521.260753] pfeng 46000000.pfe: Feature 'vlan_conf_check' is not available (not enabled in FW).
[ 3521.269058] pfeng 46000000.pfe: Feature 'ptp_conf_check' is not available (not enabled in FW).
[ 3521.277868] pfeng 46000000.pfe: emac2: Disabling Flexible Filter
[INFO] 2024-10-09 16:16:47 Initial cleanup done.
Done.
root@s32g274ardb2:~# vi pfe_benchmark_simulation.sh
root@s32g274ardb2:~# ./pfe_benchmark_simulation.sh
-sh: ./pfe_benchmark_simulation.sh: Permission denied
root@s32g274ardb2:~# sh ./pfe_benchmark_simulation.sh
./pfe_benchmark_simulation.sh: line 117: syntax error: unexpected redirection
root@s32g274ardb2:~# chmod +x ./pfe_benchmark_simulation.sh
root@s32g274ardb2:~# sh ./pfe_benchmark_simulation.sh
./pfe_benchmark_simulation.sh: line 117: syntax error: unexpected redirection
root@s32g274ardb2:~# ^C

root@s32g274ardb2:~# vi pfe_loopback_benchmark_sim.sh













































































































    # We use -w for duration based test, or -c for packet count based.
    log_info "Starting ping from $LINUX_IF_A ($IP_ADDR_A) to $IP_ADDR_B for approx ${BENCH_DURATION_PING_SECONDS}s...
    local ping_output_file="/tmp/ping_output.txt"
    ping -I "$LINUX_IF_A" -w "$BENCH_DURATION_PING_SECONDS" "$IP_ADDR_B" > "$ping_output_file" 2>&1 &
    local ping_pid=$!

    # Monitor PFE stats while ping is running
    local elapsed_time=0
    while kill -0 "$ping_pid" 2>/dev/null && [ "$elapsed_time" -lt "$BENCH_DURATION_PING_SECONDS" ]; do
        sleep "$SAMPLING_INTERVAL_SECONDS"
        elapsed_time=$((elapsed_time + SAMPLING_INTERVAL_SECONDS))
        local current_stats_a_str=$(get_phy_stats_str "$PFE_PORT_A")
        local current_stats_b_str=$(get_phy_stats_str "$PFE_PORT_B")
        local ts=$(date '+%Y-%m-%dT%H:%M:%S')
        echo "$ts,$test_name,$current_stats_a_str,$current_stats_b_str,N/A,N/A,PingRunning_Iter$elapsed_time" >> "$OU
        log_info "Sample $elapsed_time: $PFE_PORT_A=$current_stats_a_str | $PFE_PORT_B=$current_stats_b_str"
    done

    if kill -0 "$ping_pid" 2>/dev/null; then
        log_info "Ping process still running after duration, sending TERM signal."
        kill -TERM "$ping_pid" 2>/dev/null
        sleep 1
        if kill -0 "$ping_pid" 2>/dev/null; then
            log_info "Ping process did not terminate, sending KILL signal."
            kill -KILL "$ping_pid" 2>/dev/null
        fi
    fi
    wait "$ping_pid" 2>/dev/null # Wait for ping to finish if it hasn't

    # Get final PFE stats
    local stats_a_after_str=$(get_phy_stats_str "$PFE_PORT_A")
    local stats_b_after_str=$(get_phy_stats_str "$PFE_PORT_B")

    # Parse ping results
    local ping_success="FAIL"
    local avg_rtt="N/A"
    if grep -q "packets transmitted" "$ping_output_file" && grep -q "received" "$ping_output_file"; then
        local transmitted=$(grep "packets transmitted" "$ping_output_file" | awk '{print $1}')
        local received=$(grep "received" "$ping_output_file" | awk -F', ' '{print $2}' | awk '{print $1}')
        if [ "$received" -gt 0 ] && [ "$transmitted" -gt 0 ] ; then
            ping_success="OK (${received}/${transmitted})"
            # Example: rtt min/avg/max/mdev = 0.036/0.073/0.099/0.024 ms
            if grep -q "rtt min/avg/max/mdev" "$ping_output_file"; then
                avg_rtt=$(grep "rtt min/avg/max/mdev" "$ping_output_file" | cut -d '/' -f 2)
            fi
        fi
    fi
    rm -f "$ping_output_file"

    local ts_end=$(date '+%Y-%m-%dT%H:%M:%S')
    echo "$ts_end,${test_name}_End,$stats_a_after_str,$stats_b_after_str,$ping_success,$avg_rtt,TestFinished" >> "$OU
    log_info "Test $test_name Finished. Ping: $ping_success, Avg RTT: $avg_rtt ms"
    log_info "Final PFE Stats: $PFE_PORT_A=$stats_a_after_str | $PFE_PORT_B=$stats_b_after_str"
    log_info "Data logged to $OUTPUT_FILE"

    cleanup_linux_interfaces
}

# --- Main Execution ---
trap "log_info 'Script interrupted.'; cleanup_linux_interfaces; initial_pfe_setup; exit 1" SIGINT

initial_pfe_setup

# Run Ping Loopback Test
# This requires emac0 and emac2 to be physically connected (e.g. loopback cable)
# AND Linux interfaces pfe0sl and pfe2sl to exist and be configurable.
if command -v ping >/dev/null 2>&1; then
    run_ping_loopback_test
else
    log_info "ERROR: 'ping' command not found. Cannot run loopback test."
    echo "$(date '+%Y-%m-%dT%H:%M:%S'),PingLoopback_Error,N/A,N/A,N/A,N/A,N/A,N/A,N/A,N/A,N/A,N/A,PingCommandNotFound
fi

# Add other test functions here if more ideas arise that don't need external traffic.

log_info "All benchmark simulations finished. Raw data in $OUTPUT_FILE"
log_info "Process this CSV file offline."

exit 0


====================================================[ 3520.052731] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
===[ 3520.059324] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
============
      PFE-Based TSN Visual Simulation (Extremely Experiment[ 3520.072836] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
al)  [ 3520.079526] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2

===================================================================
[ 3520.093425] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
 T[ 3520.099937] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
arget Ports: IN/PTP_Master=emac0, OUT/PTP_Slave/Sched=emac2
 [ 3520.113450] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
Ga[ 3520.119899] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
te Interval: 3s, PTP Sync Display: 1s
 Total Duration: 60s
-------------------------------------------------------------------
 Simulation Time: 59s / 60s
-------------------------------------------------------------------
 PTP Status   : Slave Synced to Master (emac2) - Offset: 0ns
 Gate Status  : Q_HIGH(0) [******] Q_LOW(1) [******] (Open for: LOW_PRIO)
-------------------------------------------------------------------
 Stats (emac0): RX Pkts: N/A, TX Pkts: N/A
 Stats (emac2): RX Pkts: N/A, TX Pkts: N/A
 Stats (QoS emac2): Q_HIGH(0) Pkts: N/A, Q_LOW(1) Pkts: N/A
===================================================================
(Ctrl+C to exit)
[INFO] 2024-10-09 16:16:46 Simulation finished.
[INFO] 2024-10-09 16:16:46 Performing initial cleanup...
[ 3521.160330] pfeng 46000000.pfe: Domain 887: Interface 0 removed
[ 3521.166392] pfeng 46000000.pfe: Domain 887: Interface 2 removed
[ 3521.180227] pfeng 46000000.pfe: Domain 776: Interface 0 removed
[ 3521.186213] pfeng 46000000.pfe: Domain 776: Interface 2 removed
[ 3521.195795] pfeng 46000000.pfe: Feature 'vlan_conf_check' is not available (not enabled in FW).
[ 3521.204128] pfeng 46000000.pfe: Feature 'ptp_conf_check' is not available (not enabled in FW).
[ 3521.212908] pfeng 46000000.pfe: emac0: Disabling Flexible Filter
[ 3521.253856] pfeng 46000000.pfe: Disabling HW bridge lookup PARSE_BRIDGE_EN
[ 3521.260753] pfeng 46000000.pfe: Feature 'vlan_conf_check' is not available (not enabled in FW).
[ 3521.269058] pfeng 46000000.pfe: Feature 'ptp_conf_check' is not available (not enabled in FW).
[ 3521.277868] pfeng 46000000.pfe: emac2: Disabling Flexible Filter
[INFO] 2024-10-09 16:16:47 Initial cleanup done.
Done.
root@s32g274ardb2:~# vi pfe_benchmark_simulation.sh
root@s32g274ardb2:~# ./pfe_benchmark_simulation.sh
-sh: ./pfe_benchmark_simulation.sh: Permission denied
root@s32g274ardb2:~# sh ./pfe_benchmark_simulation.sh
./pfe_benchmark_simulation.sh: line 117: syntax error: unexpected redirection
root@s32g274ardb2:~# chmod +x ./pfe_benchmark_simulation.sh
root@s32g274ardb2:~# sh ./pfe_benchmark_simulation.sh
./pfe_benchmark_simulation.sh: line 117: syntax error: unexpected redirection
root@s32g274ardb2:~# ^C

root@s32g274ardb2:~# vi pfe_loopback_benchmark_sim.sh
root@s32g274ardb2:~# chmod +x  pfe_loopback_benchmark_sim.sh
root@s32g274ardb2:~# sh  pfe_loopback_benchmark_sim.sh
[INFO] 2024-10-09 16:24:55 Performing initial PFE setup...
[ 4010.445503] pfeng 46000000.pfe: Feature 'vlan_conf_check' is not available (not enabled in FW).
[ 4010.453828] pfeng 46000000.pfe: Feature 'ptp_conf_check' is not available (not enabled in FW).
[ 4010.462643] pfeng 46000000.pfe: emac0: Disabling Flexible Filter
[ 4010.472890] pfeng 46000000.pfe: Feature 'vlan_conf_check' is not available (not enabled in FW).
[ 4010.481318] pfeng 46000000.pfe: Feature 'ptp_conf_check' is not available (not enabled in FW).
[ 4010.490029] pfeng 46000000.pfe: emac2: Disabling Flexible Filter
[INFO] 2024-10-09 16:24:56 Starting Test: PingLoopback_VLAN250 (Pinging 192.168.250.2 from 192.168.250.1 for 10s)
[INFO] 2024-10-09 16:24:56 Setting up PFE L2 Bridge (VLA[ 4011.515591] pfeng 46000000.pfe: Domain 250: Interface 0 added
N 250) between emac0 and emac2
[ 4011.525317] pfeng 46000000.pfe: Interface 0 already added
[ 4011.530794] pfeng 46000000.pfe: Domain 250: Interface 0 updated
[ 4011.536449] pfeng 46000000.pfe: Domain 250: Interface 2 added
[ 4011.546258] pfeng 46000000.pfe: Enabling HW bridge lookup PARSE_BRIDGE_EN
[ 4011.553080] pfeng 46000000.pfe: Feature 'vlan_conf_check' is not available (not enabled in FW).
[ 4011.561390] pfeng 46000000.pfe: Feature 'ptp_conf_check' is not available (not enabled in FW).
[ 4011.570173] pfeng 46000000.pfe: emac0: Disabling Flexible Filter
[ 4011.580368] pfeng 46000000.pfe: Feature 'vlan_conf_check' is not available (not enabled in FW).
[ 4011.588738] pfeng 46000000.pfe: Feature 'ptp_conf_check' is not available (not enabled in FW).
[ 4011.597661] pfeng 46000000.pfe: emac2: Disabling Flexible Filter
[INFO] 2024-10-09 16:24:57 PFE L2 Bridge configured.
[INFO] 2024-10-09 16:24:57 Configuring Linux interfaces for loopback test...
[INFO] 2024-10-09 16:24:57 Executing (Linux): ip link set dev pfe0sl down
ip: SIOCGIFFLAGS: No such device
[INFO] 2024-10-09 16:24:57 WARN: Linux command failed: ip link set dev pfe0sl down (continuing)
[INFO] 2024-10-09 16:24:57 Executing (Linux): ip link set dev pfe2sl down
ip: SIOCGIFFLAGS: No such device
[INFO] 2024-10-09 16:24:57 WARN: Linux command failed: ip link set dev pfe2sl down (continuing)
[INFO] 2024-10-09 16:24:57 Executing (Linux): ip addr flush dev pfe0sl
ip: can't find device 'pfe0sl'
[INFO] 2024-10-09 16:24:57 WARN: Linux command failed: ip addr flush dev pfe0sl (continuing)
[INFO] 2024-10-09 16:24:57 Executing (Linux): ip addr flush dev pfe2sl
ip: can't find device 'pfe2sl'
[INFO] 2024-10-09 16:24:57 WARN: Linux command failed: ip addr flush dev pfe2sl (continuing)
[INFO] 2024-10-09 16:24:57 Executing (Linux): ip addr add 192.168.250.1/24 dev pfe0sl
ip: can't find device 'pfe0sl'
[INFO] 2024-10-09 16:24:57 WARN: Linux command failed: ip addr add 192.168.250.1/24 dev pfe0sl (continuing)
[INFO] 2024-10-09 16:24:57 Executing (Linux): ip addr add 192.168.250.2/24 dev pfe2sl
ip: can't find device 'pfe2sl'
[INFO] 2024-10-09 16:24:57 WARN: Linux command failed: ip addr add 192.168.250.2/24 dev pfe2sl (continuing)
[INFO] 2024-10-09 16:24:57 Executing (Linux): ip link set dev pfe0sl up
ip: SIOCGIFFLAGS: No such device
[INFO] 2024-10-09 16:24:57 WARN: Linux command failed: ip link set dev pfe0sl up (continuing)
[INFO] 2024-10-09 16:24:57 Executing (Linux): ip link set dev pfe2sl up
ip: SIOCGIFFLAGS: No such device
[INFO] 2024-10-09 16:24:57 WARN: Linux command failed: ip link set dev pfe2sl up (continuing)
[INFO] 2024-10-09 16:24:59 Linux interfaces configured[ 4013.819238] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
: p[ 4013.825778] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
fe0sl (192.168.250.1), pfe2sl (192.168.250.2)
[ 4013.862774] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
[ 4013.869082] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
[INFO] 2024-10-09 16:24:59 Starting ping from pfe0sl (192.168.250.1) to 192.168.250.2 for approx[ 4013.911994] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
 10[ 4013.918521] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
s...
[ 4013.954258] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
[ 4013.960348] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
[INFO] 2024-10-09 16:24:59 Sample 1: emac0=0,0,0,0 | emac2=0,0,0,0
root@s32g274ardb2:~# ls
pfe_benchmark_simulation.sh    pfe_tsn_simulation.sh          ptp_test.c
pfe_loopback_benchmark_sim.sh  pfe_tsn_visual_simulation.sh
root@s32g274ardb2:~# ^C

root@s32g274ardb2:~# libfci_cli phyif-print --interface emac0 -v
DISCLAIMER: Thi[ 4196.192894] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
s is[ 4196.199585] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
 a DEMO application. It is not part of the production code deliverables.
 0: emac0
      <ENABLED>
      <promisc:ON, mode:VLAN_BRIDGE, block-state:NORMAL>
      <vlan-conf:OFF, ptp-conf:OFF, ptp-promisc:OFF, q-in-q:ON>
      <discard-if-ttl-below-2:OFF, fast-forward-all-tcp:ON>
      ingress: 0 egress: 103 discarded: 8 malformed: 0
      flexible-filter: ---
      ptp-mgmt-if: ---
      MAC:
          00:04:9f:be:ef:00
          33:33:00:00:00:01
          01:00:5e:00:00:01
          33:33:ff:be:ef:00
          01:80:c2:00:00:00
          01:80:c2:00:00:03
          01:80:c2:00:00:0e
      mirrors:
          rxmirr0: ---
          rxmirr1: ---
          txmirr0: ---
          txmirr1: ---
      logical interfaces:
       0: emac0
            <ENABLED>
            <promisc:ON, match-mode:AND, discard-on-match:OFF>
            accepted: 0 rejected: 0 discarded: 0 processed: 0
            egress: hif0
            match-rules: ---
Command successfully executed.
root@s32g274ardb2:~# ^C

root@s32g274ardb2:~# vi pfe_loopback_benchmark_sim2.sh


















































































        log_info "Ping duration ended. Terminating ping process (PID $ping_pid)..."
        kill -TERM "$ping_pid" 2>/dev/null
        sleep 0.5
        if kill -0 "$ping_pid" 2>/dev/null; then
            log_info "Ping process (PID $ping_pid) did not respond to TERM, sending KILL."
            kill -KILL "$ping_pid" 2>/dev/null
        fi
    fi
    wait "$ping_pid" 2>/dev/null

    local stats_a_after_str=$(get_phy_stats_str "$PFE_PORT_A")
    local stats_b_after_str=$(get_phy_stats_str "$PFE_PORT_B")

    local ping_success="FAIL"
    local avg_rtt="N/A"
    if [ -s "$ping_output_file" ] && grep -q "packets transmitted" "$ping_output_file" && grep -q "received" "$ping_o
        local transmitted=$(grep "packets transmitted" "$ping_output_file" | awk '{print $1}')
        local received=$(grep "received" "$ping_output_file" | awk -F', ' '{print $2}' | awk '{print $1}')
        if [[ "$received" =~ ^[0-9]+$ ]] && [ "$received" -gt 0 ] && [[ "$transmitted" =~ ^[0-9]+$ ]] && [ "$transmit
            ping_success="OK (${received}rx/${transmitted}tx)"
            if grep -q "rtt min/avg/max/mdev" "$ping_output_file"; then
                avg_rtt=$(grep "rtt min/avg/max/mdev" "$ping_output_file" | cut -d '=' -f 2 | cut -d '/' -f 2 | sed '
            fi
        else
             ping_success="FAIL (${received}rx/${transmitted}tx)"
        fi
    else
        ping_success="FAIL (No ping output or parse error)"
    fi
    rm -f "$ping_output_file"

    local ts_end=$(date '+%Y-%m-%dT%H:%M:%S')
    echo "$ts_end,${test_name}_End,$stats_a_after_str,$stats_b_after_str,$ping_success,$avg_rtt,TestFinished" >> "$OU
    log_info "Test $test_name Finished. Ping: $ping_success, Avg RTT: $avg_rtt ms"
    log_info "Final PFE Stats: $PFE_PORT_A=$stats_a_after_str | $PFE_PORT_B=$stats_b_after_str"
    log_info "Data logged to $OUTPUT_FILE"

    cleanup_linux_interfaces
}

trap "echo; log_info 'Script interrupted by user.'; cleanup_linux_interfaces; initial_pfe_setup; echo 'Exiting.'; exi

initial_pfe_setup

if command -v ping >/dev/null 2>&1; then
    if ip link show "$LINUX_IF_A" >/dev/null 2>&1 && ip link show "$LINUX_IF_B" >/dev/null 2>&1; then
        run_ping_loopback_test
    else
        log_info "ERROR: Linux interfaces '$LINUX_IF_A' or '$LINUX_IF_B' not found. Cannot run loopback test."
        echo "$(date '+%Y-%m-%dT%H:%M:%S'),PingLoopback_Error,N/A,N/A,N/A,N/A,N/A,N/A,N/A,N/A,N/A,N/A,LinuxIF_Not_Fou
    fi
else
    log_info "ERROR: 'ping' command not found. Cannot run loopback test."
    echo "$(date '+%Y-%m-%dT%H:%M:%S'),PingLoopback_Error,N/A,N/A,N/A,N/A,N/A,N/A,N/A,N/A,N/A,N/A,PingCommandNotFound
fi

log_info "All benchmark simulations finished. Raw data in $OUTPUT_FILE"
log_info "Process this CSV file offline."


~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~

[INFO] 2024-10-09 16:24:57 PFE L2 Bridge configured.
[INFO] 2024-10-09 16:24:57 Configuring Linux interfaces for loopback test...
[INFO] 2024-10-09 16:24:57 Executing (Linux): ip link set dev pfe0sl down
ip: SIOCGIFFLAGS: No such device
[INFO] 2024-10-09 16:24:57 WARN: Linux command failed: ip link set dev pfe0sl down (continuing)
[INFO] 2024-10-09 16:24:57 Executing (Linux): ip link set dev pfe2sl down
ip: SIOCGIFFLAGS: No such device
[INFO] 2024-10-09 16:24:57 WARN: Linux command failed: ip link set dev pfe2sl down (continuing)
[INFO] 2024-10-09 16:24:57 Executing (Linux): ip addr flush dev pfe0sl
ip: can't find device 'pfe0sl'
[INFO] 2024-10-09 16:24:57 WARN: Linux command failed: ip addr flush dev pfe0sl (continuing)
[INFO] 2024-10-09 16:24:57 Executing (Linux): ip addr flush dev pfe2sl
ip: can't find device 'pfe2sl'
[INFO] 2024-10-09 16:24:57 WARN: Linux command failed: ip addr flush dev pfe2sl (continuing)
[INFO] 2024-10-09 16:24:57 Executing (Linux): ip addr add 192.168.250.1/24 dev pfe0sl
ip: can't find device 'pfe0sl'
[INFO] 2024-10-09 16:24:57 WARN: Linux command failed: ip addr add 192.168.250.1/24 dev pfe0sl (continuing)
[INFO] 2024-10-09 16:24:57 Executing (Linux): ip addr add 192.168.250.2/24 dev pfe2sl
ip: can't find device 'pfe2sl'
[INFO] 2024-10-09 16:24:57 WARN: Linux command failed: ip addr add 192.168.250.2/24 dev pfe2sl (continuing)
[INFO] 2024-10-09 16:24:57 Executing (Linux): ip link set dev pfe0sl up
ip: SIOCGIFFLAGS: No such device
[INFO] 2024-10-09 16:24:57 WARN: Linux command failed: ip link set dev pfe0sl up (continuing)
[INFO] 2024-10-09 16:24:57 Executing (Linux): ip link set dev pfe2sl up
ip: SIOCGIFFLAGS: No such device
[INFO] 2024-10-09 16:24:57 WARN: Linux command failed: ip link set dev pfe2sl up (continuing)
[INFO] 2024-10-09 16:24:59 Linux interfaces configured[ 4013.819238] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
: p[ 4013.825778] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
fe0sl (192.168.250.1), pfe2sl (192.168.250.2)
[ 4013.862774] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
[ 4013.869082] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
[INFO] 2024-10-09 16:24:59 Starting ping from pfe0sl (192.168.250.1) to 192.168.250.2 for approx[ 4013.911994] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
 10[ 4013.918521] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
s...
[ 4013.954258] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
[ 4013.960348] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
[INFO] 2024-10-09 16:24:59 Sample 1: emac0=0,0,0,0 | emac2=0,0,0,0
root@s32g274ardb2:~# ls
pfe_benchmark_simulation.sh    pfe_tsn_simulation.sh          ptp_test.c
pfe_loopback_benchmark_sim.sh  pfe_tsn_visual_simulation.sh
root@s32g274ardb2:~# ^C

root@s32g274ardb2:~# libfci_cli phyif-print --interface emac0 -v
DISCLAIMER: Thi[ 4196.192894] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
s is[ 4196.199585] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
 a DEMO application. It is not part of the production code deliverables.
 0: emac0
      <ENABLED>
      <promisc:ON, mode:VLAN_BRIDGE, block-state:NORMAL>
      <vlan-conf:OFF, ptp-conf:OFF, ptp-promisc:OFF, q-in-q:ON>
      <discard-if-ttl-below-2:OFF, fast-forward-all-tcp:ON>
      ingress: 0 egress: 103 discarded: 8 malformed: 0
      flexible-filter: ---
      ptp-mgmt-if: ---
      MAC:
          00:04:9f:be:ef:00
          33:33:00:00:00:01
          01:00:5e:00:00:01
          33:33:ff:be:ef:00
          01:80:c2:00:00:00
          01:80:c2:00:00:03
          01:80:c2:00:00:0e
      mirrors:
          rxmirr0: ---
          rxmirr1: ---
          txmirr0: ---
          txmirr1: ---
      logical interfaces:
       0: emac0
            <ENABLED>
            <promisc:ON, match-mode:AND, discard-on-match:OFF>
            accepted: 0 rejected: 0 discarded: 0 processed: 0
            egress: hif0
            match-rules: ---
Command successfully executed.
root@s32g274ardb2:~# ^C

root@s32g274ardb2:~# vi pfe_loopback_benchmark_sim2.sh
root@s32g274ardb2:~# vi pfetest.sh


















































































            ping_success="OK (${received}rx/${transmitted}tx)"
            if grep -q "rtt min/avg/max/mdev" "$ping_output_file"; then
                avg_rtt=$(grep "rtt min/avg/max/mdev" "$ping_output_file" | cut -d '=' -f 2 | cut -d '/' -f 2 | sed '
            fi
        else
             ping_success="FAIL (${received}rx/${transmitted}tx)"
        fi
    else
        ping_success="FAIL (No ping output or parse error)"
    fi
    rm -f "$ping_output_file"

    local ts_end=$(date '+%Y-%m-%dT%H:%M:%S')
    echo "$ts_end,${test_name}_End,$stats_a_after_str,$stats_b_after_str,$ping_success,$avg_rtt,TestFinished" >> "$OU
    log_info "Test $test_name Finished. Ping: $ping_success, Avg RTT: $avg_rtt ms"
    log_info "Final PFE Stats: $PFE_PORT_A=$stats_a_after_str | $PFE_PORT_B=$stats_b_after_str"
    log_info "Data logged to $OUTPUT_FILE"

    cleanup_linux_interfaces
}

trap "echo; log_info 'Script interrupted by user.'; cleanup_linux_interfaces; initial_pfe_setup; echo 'Exiting.'; exi

initial_pfe_setup

if command -v ping >/dev/null 2>&1; then
    if ip link show "$LINUX_IF_A" >/dev/null 2>&1 && ip link show "$LINUX_IF_B" >/dev/null 2>&1; then
        run_ping_loopback_test
    else
        log_info "ERROR: Linux interfaces '$LINUX_IF_A' or '$LINUX_IF_B' not found. Cannot run loopback test."
        echo "$(date '+%Y-%m-%dT%H:%M:%S'),PingLoopback_Error,N/A,N/A,N/A,N/A,N/A,N/A,N/A,N/A,N/A,N/A,LinuxIF_Not_Fou
    fi
else
    log_info "ERROR: 'ping' command not found. Cannot run loopback test."
    echo "$(date '+%Y-%m-%dT%H:%M:%S'),PingLoopback_Error,N/A,N/A,N/A,N/A,N/A,N/A,N/A,N/A,N/A,N/A,PingCommandNotFound
fi

log_info "All benchmark simulations finished. Raw data in $OUTPUT_FILE"
log_info "Process this CSV file offline."

exit 0


~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~

[INFO] 2024-10-09 16:24:57 Configuring Linux interfaces for loopback test...
[INFO] 2024-10-09 16:24:57 Executing (Linux): ip link set dev pfe0sl down
ip: SIOCGIFFLAGS: No such device
[INFO] 2024-10-09 16:24:57 WARN: Linux command failed: ip link set dev pfe0sl down (continuing)
[INFO] 2024-10-09 16:24:57 Executing (Linux): ip link set dev pfe2sl down
ip: SIOCGIFFLAGS: No such device
[INFO] 2024-10-09 16:24:57 WARN: Linux command failed: ip link set dev pfe2sl down (continuing)
[INFO] 2024-10-09 16:24:57 Executing (Linux): ip addr flush dev pfe0sl
ip: can't find device 'pfe0sl'
[INFO] 2024-10-09 16:24:57 WARN: Linux command failed: ip addr flush dev pfe0sl (continuing)
[INFO] 2024-10-09 16:24:57 Executing (Linux): ip addr flush dev pfe2sl
ip: can't find device 'pfe2sl'
[INFO] 2024-10-09 16:24:57 WARN: Linux command failed: ip addr flush dev pfe2sl (continuing)
[INFO] 2024-10-09 16:24:57 Executing (Linux): ip addr add 192.168.250.1/24 dev pfe0sl
ip: can't find device 'pfe0sl'
[INFO] 2024-10-09 16:24:57 WARN: Linux command failed: ip addr add 192.168.250.1/24 dev pfe0sl (continuing)
[INFO] 2024-10-09 16:24:57 Executing (Linux): ip addr add 192.168.250.2/24 dev pfe2sl
ip: can't find device 'pfe2sl'
[INFO] 2024-10-09 16:24:57 WARN: Linux command failed: ip addr add 192.168.250.2/24 dev pfe2sl (continuing)
[INFO] 2024-10-09 16:24:57 Executing (Linux): ip link set dev pfe0sl up
ip: SIOCGIFFLAGS: No such device
[INFO] 2024-10-09 16:24:57 WARN: Linux command failed: ip link set dev pfe0sl up (continuing)
[INFO] 2024-10-09 16:24:57 Executing (Linux): ip link set dev pfe2sl up
ip: SIOCGIFFLAGS: No such device
[INFO] 2024-10-09 16:24:57 WARN: Linux command failed: ip link set dev pfe2sl up (continuing)
[INFO] 2024-10-09 16:24:59 Linux interfaces configured[ 4013.819238] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
: p[ 4013.825778] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
fe0sl (192.168.250.1), pfe2sl (192.168.250.2)
[ 4013.862774] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
[ 4013.869082] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
[INFO] 2024-10-09 16:24:59 Starting ping from pfe0sl (192.168.250.1) to 192.168.250.2 for approx[ 4013.911994] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
 10[ 4013.918521] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
s...
[ 4013.954258] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
[ 4013.960348] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
[INFO] 2024-10-09 16:24:59 Sample 1: emac0=0,0,0,0 | emac2=0,0,0,0
root@s32g274ardb2:~# ls
pfe_benchmark_simulation.sh    pfe_tsn_simulation.sh          ptp_test.c
pfe_loopback_benchmark_sim.sh  pfe_tsn_visual_simulation.sh
root@s32g274ardb2:~# ^C

root@s32g274ardb2:~# libfci_cli phyif-print --interface emac0 -v
DISCLAIMER: Thi[ 4196.192894] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
s is[ 4196.199585] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
 a DEMO application. It is not part of the production code deliverables.
 0: emac0
      <ENABLED>
      <promisc:ON, mode:VLAN_BRIDGE, block-state:NORMAL>
      <vlan-conf:OFF, ptp-conf:OFF, ptp-promisc:OFF, q-in-q:ON>
      <discard-if-ttl-below-2:OFF, fast-forward-all-tcp:ON>
      ingress: 0 egress: 103 discarded: 8 malformed: 0
      flexible-filter: ---
      ptp-mgmt-if: ---
      MAC:
          00:04:9f:be:ef:00
          33:33:00:00:00:01
          01:00:5e:00:00:01
          33:33:ff:be:ef:00
          01:80:c2:00:00:00
          01:80:c2:00:00:03
          01:80:c2:00:00:0e
      mirrors:
          rxmirr0: ---
          rxmirr1: ---
          txmirr0: ---
          txmirr1: ---
      logical interfaces:
       0: emac0
            <ENABLED>
            <promisc:ON, match-mode:AND, discard-on-match:OFF>
            accepted: 0 rejected: 0 discarded: 0 processed: 0
            egress: hif0
            match-rules: ---
Command successfully executed.
root@s32g274ardb2:~# ^C

root@s32g274ardb2:~# vi pfe_loopback_benchmark_sim2.sh
root@s32g274ardb2:~# vi pfetest.sh
root@s32g274ardb2:~# chmod +x pfetest.sh
root@s32g274ardb2:~# sh pfetest.sh
[INFO] 2024-10-09 16:31:38 Performing initial PFE setup...
[ 4412.685392] pfeng 46000000.pfe: Domain 250: Interface 0 removed
[ 4412.691344] pfeng 46000000.pfe: Domain 250: Interface 2 removed
[ 4412.700986] pfeng 46000000.pfe: Feature 'vlan_conf_check' is not available (not enabled in FW).
[ 4412.709470] pfeng 46000000.pfe: Feature 'ptp_conf_check' is not available (not enabled in FW).
[ 4412.718113] pfeng 46000000.pfe: emac0: Disabling Flexible Filter
[ 4412.727953] pfeng 46000000.pfe: Disabling HW bridge lookup PARSE_BRIDGE_EN
[ 4412.734958] pfeng 46000000.pfe: Feature 'vlan_conf_check' is not available (not enabled in FW).
[ 4412.743323] pfeng 46000000.pfe: Feature 'ptp_conf_check' is not available (not enabled in FW).
[ 4412.752055] pfeng 46000000.pfe: emac2: Disabling Flexible Filter
[INFO] 2024-10-09 16:31:39 Starting Test: PingLoopback_VLAN250 (Pinging 192.168.250.2 from 192.168.250.1 for 10s)
[INFO] 2024-10-09 16:31:39 Setting up PFE L2 Bridge (VLA[ 4413.786853] pfeng 46000000.pfe: Domain 250: Interface 0 added
N 250) between emac0 and emac2
[ 4413.796634] pfeng 46000000.pfe: Interface 0 already added
[ 4413.801781] pfeng 46000000.pfe: Domain 250: Interface 0 updated
[ 4413.807608] pfeng 46000000.pfe: Domain 250: Interface 2 added
[ 4413.817222] pfeng 46000000.pfe: Enabling HW bridge lookup PARSE_BRIDGE_EN
[ 4413.824052] pfeng 46000000.pfe: Feature 'vlan_conf_check' is not available (not enabled in FW).
[ 4413.832353] pfeng 46000000.pfe: Feature 'ptp_conf_check' is not available (not enabled in FW).
[ 4413.841184] pfeng 46000000.pfe: emac0: Disabling Flexible Filter
[ 4413.851170] pfeng 46000000.pfe: Feature 'vlan_conf_check' is not available (not enabled in FW).
[ 4413.859596] pfeng 46000000.pfe: Feature 'ptp_conf_check' is not available (not enabled in FW).
[ 4413.868292] pfeng 46000000.pfe: emac2: Disabling Flexible Filter
[INFO] 2024-10-09 16:31:39 PFE L2 Bridge configured.
[INFO] 2024-10-09 16:31:39 Configuring Linux interfaces for loopback test...
[[ 4413.889718] pfeng 46000000.pfe pfe0: Link is Down
INFO] [ 4413.895024] br0: port 1(pfe0) entered disabled state
2024-10-09 16:31:39 Executing (Linux): ip link set dev pfe0 down
[INFO] 2024-10-09 16:31:39 Executing [ 4413.908942] br0: port 2(pfe2) entered disabled state
(Linux): ip link set dev pfe2 down
[INFO] 2024-10-09 16:31:39 Executing (Linux): ip addr flush dev pfe0
[INFO] 2024-10-09 16:31:39 Executing (Linux): ip addr flush dev pfe2
[INFO] 2024-10-09 16:31:39 Executing (Linux): ip addr add 192.168.250.1/24 dev pfe0
[INFO] 2024-10-09 16:31:39 Executing (Linux): ip addr add 192.168.250.2/24 dev pfe2
[INFO] 2024-10-09 16:31:39 Executing (Linux[ 4413.958155] pfeng 46000000.pfe pfe0: configuring for fixed/sgmii link mode
): ip link set d[ 4413.966474] pfeng 46000000.pfe pfe0: Link is Up - 2.5Gbps/Full - flow control off
ev[ 4413.967864] br0: port 1(pfe0) entered blocking state
 [ 4413.979148] br0: port 1(pfe0) entered forwarding state
pfe0 up
[INFO] 2024-10-09 16:31:39 Executing (Linux): ip link set dev pfe2 up
[ 4414.101375] pfeng 46000000.pfe pfe2: PHY [pfeng-emac-2:04] driver [Micrel KSZ9031 Gigabit PHY] (irq=POLL)
[ 4414.110576] pfeng 46000000.pfe pfe2: configuring for phy/rgmii-id link mode
[INFO] 2024-10-09 16:31:41 Linux interfaces configur[ 4416.129780] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
ed:[ 4416.136287] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
 pfe0 (192.168.250.1), pfe2 (192.168.250.2)
[ 4416.165937] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
[ 4416.171922] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
[INFO] 2024-10-09 16:31:41 Starting ping from pfe0 (192.168.250.1) to 192.168.250.2 for approx 10s...
[INFO] 2024-10-09 16:31:41 Monitoring PFE stats for 10 seconds...
[ 4417.209503] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
[ 4417.215540] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
[ 4417.244767] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
[ 4417.250813] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
[INFO] 2024-10-09 16:31:42 Sample 1/10: A=0,116,0,0 | B=0,131,0,0
[ 4418.288198] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
[ 4418.294320] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
[ 4418.323584] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
[ 4418.329640] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
[INFO] 2024-10-09 16:31:43 Sample 2/10: A=0,119,0,0 | B=0,131,0,0
[ 4419.274435] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
[ 4419.280497] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
[ 4419.309617] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
[ 4419.315592] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
[INFO] 2024-10-09 16:31:44 Sample 3/10: A=0,119,0,0 | B=0,131,0,0
root@s32g274ardb2:~# ^C

root@s32g274ardb2:~# ifconfig
br0       Link encap:Ethernet  HWaddr 0A:EC:73:C4:47:42
          inet addr:192.168.200.1  Bcast:0.0.0.0  Mask:255.255.255.0
          inet6 addr: fe80::885e:c5ff:fe8e:3243/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:18 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:0 (0.0 B)  TX bytes:1500 (1.4 KiB)

end0      Link encap:Ethernet  HWaddr EE:8D:FD:37:CC:95
          UP BROADCAST MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)
          Interrupt:54 Base address:0xe000

lo        Link encap:Local Loopback
          inet addr:127.0.0.1  Mask:255.0.0.0
          inet6 addr: ::1/128 Scope:Host
          UP LOOPBACK RUNNING  MTU:65536  Metric:1
          RX packets:990 errors:0 dropped:0 overruns:0 frame:0
          TX packets:990 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:50392 (49.2 KiB)  TX bytes:50392 (49.2 KiB)

pfe0      Link encap:Ethernet  HWaddr 00:04:9F:BE:EF:00
          inet addr:192.168.250.1  Bcast:0.0.0.0  Mask:255.255.255.0
          inet6 addr: fe80::204:9fff:febe:ef00/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:131 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:0 (0.0 B)  TX bytes:29132 (28.4 KiB)
          Memory:46000000-46ffffff

pfe1      Link encap:Ethernet  HWaddr 00:04:9F:BE:EF:01
          UP BROADCAST MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)
          Memory:46000000-46ffffff

pfe2      Link encap:Ethernet  HWaddr 00:04:9F:BE:EF:02
          inet addr:192.168.250.2  Bcast:0.0.0.0  Mask:255.255.255.0
          UP BROADCAST MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:131 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:0 (0.0 B)  TX bytes:21756 (21.2 KiB)
          Memory:46000000-46ffffff

root@s32g274ardb2:~# ^C

root@s32g274ardb2:~# vi pfetest2.sh


















































































    log_info "Starting main ping from $LINUX_IF_A ($IP_ADDR_A) to $IP_ADDR_B for approx ${BENCH_DURATION_PING_SECONDS
    local ping_output_file="/tmp/ping_output.txt"
    ping -I "$LINUX_IF_A" -w "$BENCH_DURATION_PING_SECONDS" -i 0.2 "$IP_ADDR_B" > "$ping_output_file" 2>&1 & # -i 0.2
    local ping_pid=$!

    local elapsed_time=0
    log_info "Monitoring PFE stats for $BENCH_DURATION_PING_SECONDS seconds..."
    while kill -0 "$ping_pid" 2>/dev/null && [ "$elapsed_time" -lt "$BENCH_DURATION_PING_SECONDS" ]; do
        sleep "$SAMPLING_INTERVAL_SECONDS"
        elapsed_time=$((elapsed_time + SAMPLING_INTERVAL_SECONDS))
        local current_stats_a_str=$(get_phy_stats_str "$PFE_PORT_A")
        local current_stats_b_str=$(get_phy_stats_str "$PFE_PORT_B")
        local ts=$(date '+%Y-%m-%dT%H:%M:%S')
        echo "$ts,$test_name,$current_stats_a_str,$current_stats_b_str,N/A,N/A,PingRunning_Iter${elapsed_time}" >> "$
        log_info "Sample $elapsed_time/$BENCH_DURATION_PING_SECONDS: A=$current_stats_a_str | B=$current_stats_b_str"
    done

    if kill -0 "$ping_pid" 2>/dev/null; then
        log_info "Ping duration ended. Terminating ping process (PID $ping_pid)..."
        kill -TERM "$ping_pid" 2>/dev/null
        sleep 0.5
        if kill -0 "$ping_pid" 2>/dev/null; then
            log_info "Ping process (PID $ping_pid) did not respond to TERM, sending KILL."
            kill -KILL "$ping_pid" 2>/dev/null
        fi
    fi
    wait "$ping_pid" 2>/dev/null

    local stats_a_after_str=$(get_phy_stats_str "$PFE_PORT_A")
    local stats_b_after_str=$(get_phy_stats_str "$PFE_PORT_B")

    local ping_success="FAIL"
    local avg_rtt="N/A"
    if [ -s "$ping_output_file" ] && grep -q "packets transmitted" "$ping_output_file" && grep -q "received" "$ping_o
        local transmitted=$(grep "packets transmitted" "$ping_output_file" | awk '{print $1}')
        local received=$(grep "received" "$ping_output_file" | awk -F', ' '{print $2}' | awk '{print $1}')
        if [[ "$received" =~ ^[0-9]+$ ]] && [ "$received" -gt 0 ] && [[ "$transmitted" =~ ^[0-9]+$ ]] && [ "$transmit
            ping_success="OK (${received}rx/${transmitted}tx)"
            if grep -q "rtt min/avg/max/mdev" "$ping_output_file"; then
                avg_rtt=$(grep "rtt min/avg/max/mdev" "$ping_output_file" | cut -d '=' -f 2 | cut -d '/' -f 2 | sed '
            fi
        else
             ping_success="FAIL (${received}rx/${transmitted}tx_NoReply)"
        fi
    else
        ping_success="FAIL (NoValidPingOutput)"
    fi
    rm -f "$ping_output_file"

    local ts_end=$(date '+%Y-%m-%dT%H:%M:%S')
    echo "$ts_end,${test_name}_End,$stats_a_after_str,$stats_b_after_str,$ping_success,$avg_rtt,TestFinished" >> "$OU
    log_info "Test $test_name Finished. Ping: $ping_success, Avg RTT: $avg_rtt ms"
    log_info "Final PFE Stats: $PFE_PORT_A=$stats_a_after_str | $PFE_PORT_B=$stats_b_after_str"
    log_info "Data logged to $OUTPUT_FILE"

    cleanup_linux_interfaces
}

trap "echo; log_info 'Script interrupted by user.'; cleanup_linux_interfaces; initial_pfe_setup; echo 'Exiting.'; exi

initial_pfe_setup

if command -v ping >/dev/null 2>&1; then
    if ip link show "$LINUX_IF_A" >/dev/null 2>&1 && ip link show "$LINUX_IF_B" >/dev/null 2>&1; then
        run_ping_loopback_test
    else
        log_info "ERROR: Crucial Linux interfaces '$LINUX_IF_A' or '$LINUX_IF_B' not found. Cannot run loopback test.
        echo "$(date '+%Y-%m-%dT%H:%M:%S'),PingLoopback_Error,N/A,N/A,N/A,N/A,N/A,N/A,N/A,N/A,N/A,N/A,CriticalLinuxIF
    fi
else
    log_info "ERROR: 'ping' command not found. Cannot run loopback test."
    echo "$(date '+%Y-%m-%dT%H:%M:%S'),PingLoopback_Error,N/A,N/A,N/A,N/A,N/A,N/A,N/A,N/A,N/A,N/A,PingCommandNotFound
fi

log_info "All benchmark simulations finished. Raw data in $OUTPUT_FILE"
log_info "Process this CSV file offline."

exit 0



ed:[ 4416.136287] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
 pfe0 (192.168.250.1), pfe2 (192.168.250.2)
[ 4416.165937] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
[ 4416.171922] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
[INFO] 2024-10-09 16:31:41 Starting ping from pfe0 (192.168.250.1) to 192.168.250.2 for approx 10s...
[INFO] 2024-10-09 16:31:41 Monitoring PFE stats for 10 seconds...
[ 4417.209503] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
[ 4417.215540] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
[ 4417.244767] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
[ 4417.250813] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
[INFO] 2024-10-09 16:31:42 Sample 1/10: A=0,116,0,0 | B=0,131,0,0
[ 4418.288198] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
[ 4418.294320] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
[ 4418.323584] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
[ 4418.329640] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
[INFO] 2024-10-09 16:31:43 Sample 2/10: A=0,119,0,0 | B=0,131,0,0
[ 4419.274435] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
[ 4419.280497] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
[ 4419.309617] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
[ 4419.315592] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
[INFO] 2024-10-09 16:31:44 Sample 3/10: A=0,119,0,0 | B=0,131,0,0
root@s32g274ardb2:~# ^C

root@s32g274ardb2:~# ifconfig
br0       Link encap:Ethernet  HWaddr 0A:EC:73:C4:47:42
          inet addr:192.168.200.1  Bcast:0.0.0.0  Mask:255.255.255.0
          inet6 addr: fe80::885e:c5ff:fe8e:3243/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:18 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:0 (0.0 B)  TX bytes:1500 (1.4 KiB)

end0      Link encap:Ethernet  HWaddr EE:8D:FD:37:CC:95
          UP BROADCAST MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)
          Interrupt:54 Base address:0xe000

lo        Link encap:Local Loopback
          inet addr:127.0.0.1  Mask:255.0.0.0
          inet6 addr: ::1/128 Scope:Host
          UP LOOPBACK RUNNING  MTU:65536  Metric:1
          RX packets:990 errors:0 dropped:0 overruns:0 frame:0
          TX packets:990 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:50392 (49.2 KiB)  TX bytes:50392 (49.2 KiB)

pfe0      Link encap:Ethernet  HWaddr 00:04:9F:BE:EF:00
          inet addr:192.168.250.1  Bcast:0.0.0.0  Mask:255.255.255.0
          inet6 addr: fe80::204:9fff:febe:ef00/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:131 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:0 (0.0 B)  TX bytes:29132 (28.4 KiB)
          Memory:46000000-46ffffff

pfe1      Link encap:Ethernet  HWaddr 00:04:9F:BE:EF:01
          UP BROADCAST MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)
          Memory:46000000-46ffffff

pfe2      Link encap:Ethernet  HWaddr 00:04:9F:BE:EF:02
          inet addr:192.168.250.2  Bcast:0.0.0.0  Mask:255.255.255.0
          UP BROADCAST MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:131 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:0 (0.0 B)  TX bytes:21756 (21.2 KiB)
          Memory:46000000-46ffffff

root@s32g274ardb2:~# ^C

root@s32g274ardb2:~# vi pfetest2.sh
root@s32g274ardb2:~# chmod +x pfetest2.sh
root@s32g274ardb2:~# sh pfetest2.sh
[INFO] 2024-10-09 16:34:56 Performing initial PFE setup...
[INFO] 2024-10-09 16:34:56 Attempting to remove pfe0 and pfe2 from any Linux bridge (e.g., br0)...
ip: can't find device 'master'
root@s32g274ardb2:~# ^C

root@s32g274ardb2:~# libfci_cli bd-print --vlan 250 -v
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
domain 250
    phyifs (tagged)   : ---
    phyifs (untagged) : emac0,emac2
    ucast-hit  action : 3 (DISCARD)
    ucast-miss action : 1 (FLOOD)
    mcast-hit  action : 3 (DISCARD)
    mcast-miss action : 1 (FLOOD)
    ingress           : 0
    ingress bytes     : 0
    egress            : 0
    egress bytes      : 0
    static entries: ---
Command successfully executed.
root@s32g274ardb2:~# ^C

root@s32g274ardb2:~#
root@s32g274ardb2:~#
root@s32g274ardb2:~# vi pfetest3.sh


















































































    log_info "Starting main ping from $LINUX_IF_A ($IP_ADDR_A) to $IP_ADDR_B for approx ${BENCH_DURATION_PING_SECONDS
    local ping_output_file="/tmp/ping_output.txt"
    ping -I "$LINUX_IF_A" -w "$BENCH_DURATION_PING_SECONDS" -i 0.2 "$IP_ADDR_B" > "$ping_output_file" 2>&1 &
    local ping_pid=$!

    local elapsed_time=0
    log_info "Monitoring PFE stats for $BENCH_DURATION_PING_SECONDS seconds..."
    while kill -0 "$ping_pid" 2>/dev/null && [ "$elapsed_time" -lt "$BENCH_DURATION_PING_SECONDS" ]; do
        sleep "$SAMPLING_INTERVAL_SECONDS"
        elapsed_time=$((elapsed_time + SAMPLING_INTERVAL_SECONDS))
        local current_stats_a_str=$(get_phy_stats_str "$PFE_PORT_A")
        local current_stats_b_str=$(get_phy_stats_str "$PFE_PORT_B")
        local ts=$(date '+%Y-%m-%dT%H:%M:%S')
        echo "$ts,$test_name,$current_stats_a_str,$current_stats_b_str,N/A,N/A,PingRunning_Iter${elapsed_time}" >> "$
        log_info "Sample $elapsed_time/$BENCH_DURATION_PING_SECONDS: A=$current_stats_a_str | B=$current_stats_b_str"
    done

    if kill -0 "$ping_pid" 2>/dev/null; then
        log_info "Ping duration ended. Terminating ping process (PID $ping_pid)..."
        kill -TERM "$ping_pid" 2>/dev/null
        sleep 0.5
        if kill -0 "$ping_pid" 2>/dev/null; then
            log_info "Ping process (PID $ping_pid) did not respond to TERM, sending KILL."
            kill -KILL "$ping_pid" 2>/dev/null
        fi
    fi
    wait "$ping_pid" 2>/dev/null

    local stats_a_after_str=$(get_phy_stats_str "$PFE_PORT_A")
    local stats_b_after_str=$(get_phy_stats_str "$PFE_PORT_B")

    local ping_success="FAIL"
    local avg_rtt="N/A"
    if [ -s "$ping_output_file" ] && grep -q "packets transmitted" "$ping_output_file" && grep -q "received" "$ping_o
        local transmitted=$(grep "packets transmitted" "$ping_output_file" | awk '{print $1}')
        local received=$(grep "received" "$ping_output_file" | awk -F', ' '{print $2}' | awk '{print $1}')
        if [[ "$received" =~ ^[0-9]+$ ]] && [ "$received" -gt 0 ] && [[ "$transmitted" =~ ^[0-9]+$ ]] && [ "$transmit
            ping_success="OK (${received}rx/${transmitted}tx)"
            if grep -q "rtt min/avg/max/mdev" "$ping_output_file"; then
                avg_rtt=$(grep "rtt min/avg/max/mdev" "$ping_output_file" | cut -d '=' -f 2 | cut -d '/' -f 2 | sed '
            fi
        else
             ping_success="FAIL (${received}rx/${transmitted}tx_NoReply)"
        fi
    else
        ping_success="FAIL (NoValidPingOutput)"
    fi
    rm -f "$ping_output_file"

    local ts_end=$(date '+%Y-%m-%dT%H:%M:%S')
    echo "$ts_end,${test_name}_End,$stats_a_after_str,$stats_b_after_str,$ping_success,$avg_rtt,TestFinished" >> "$OU
    log_info "Test $test_name Finished. Ping: $ping_success, Avg RTT: $avg_rtt ms"
    log_info "Final PFE Stats: $PFE_PORT_A=$stats_a_after_str | $PFE_PORT_B=$stats_b_after_str"
    log_info "Data logged to $OUTPUT_FILE"

    cleanup_linux_interfaces
}

trap "echo; log_info 'Script interrupted by user.'; cleanup_linux_interfaces; initial_pfe_setup; echo 'Exiting.'; exi

initial_pfe_setup

if command -v ping >/dev/null 2>&1; then
    if ip link show "$LINUX_IF_A" >/dev/null 2>&1 && ip link show "$LINUX_IF_B" >/dev/null 2>&1; then
        run_ping_loopback_test
    else
        log_info "ERROR: Crucial Linux interfaces '$LINUX_IF_A' or '$LINUX_IF_B' not found. Cannot run loopback test.
        echo "$(date '+%Y-%m-%dT%H:%M:%S'),PingLoopback_Error,N/A,N/A,N/A,N/A,N/A,N/A,N/A,N/A,N/A,N/A,CriticalLinuxIF
    fi
else
    log_info "ERROR: 'ping' command not found. Cannot run loopback test."
    echo "$(date '+%Y-%m-%dT%H:%M:%S'),PingLoopback_Error,N/A,N/A,N/A,N/A,N/A,N/A,N/A,N/A,N/A,N/A,PingCommandNotFound
fi

log_info "All benchmark simulations finished. Raw data in $OUTPUT_FILE"
log_info "Process this CSV file offline."

exit 0



          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:18 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:0 (0.0 B)  TX bytes:1500 (1.4 KiB)

end0      Link encap:Ethernet  HWaddr EE:8D:FD:37:CC:95
          UP BROADCAST MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)
          Interrupt:54 Base address:0xe000

lo        Link encap:Local Loopback
          inet addr:127.0.0.1  Mask:255.0.0.0
          inet6 addr: ::1/128 Scope:Host
          UP LOOPBACK RUNNING  MTU:65536  Metric:1
          RX packets:990 errors:0 dropped:0 overruns:0 frame:0
          TX packets:990 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:50392 (49.2 KiB)  TX bytes:50392 (49.2 KiB)

pfe0      Link encap:Ethernet  HWaddr 00:04:9F:BE:EF:00
          inet addr:192.168.250.1  Bcast:0.0.0.0  Mask:255.255.255.0
          inet6 addr: fe80::204:9fff:febe:ef00/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:131 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:0 (0.0 B)  TX bytes:29132 (28.4 KiB)
          Memory:46000000-46ffffff

pfe1      Link encap:Ethernet  HWaddr 00:04:9F:BE:EF:01
          UP BROADCAST MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)
          Memory:46000000-46ffffff

pfe2      Link encap:Ethernet  HWaddr 00:04:9F:BE:EF:02
          inet addr:192.168.250.2  Bcast:0.0.0.0  Mask:255.255.255.0
          UP BROADCAST MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:131 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:0 (0.0 B)  TX bytes:21756 (21.2 KiB)
          Memory:46000000-46ffffff

root@s32g274ardb2:~# ^C

root@s32g274ardb2:~# vi pfetest2.sh
root@s32g274ardb2:~# chmod +x pfetest2.sh
root@s32g274ardb2:~# sh pfetest2.sh
[INFO] 2024-10-09 16:34:56 Performing initial PFE setup...
[INFO] 2024-10-09 16:34:56 Attempting to remove pfe0 and pfe2 from any Linux bridge (e.g., br0)...
ip: can't find device 'master'
root@s32g274ardb2:~# ^C

root@s32g274ardb2:~# libfci_cli bd-print --vlan 250 -v
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
domain 250
    phyifs (tagged)   : ---
    phyifs (untagged) : emac0,emac2
    ucast-hit  action : 3 (DISCARD)
    ucast-miss action : 1 (FLOOD)
    mcast-hit  action : 3 (DISCARD)
    mcast-miss action : 1 (FLOOD)
    ingress           : 0
    ingress bytes     : 0
    egress            : 0
    egress bytes      : 0
    static entries: ---
Command successfully executed.
root@s32g274ardb2:~# ^C

root@s32g274ardb2:~#
root@s32g274ardb2:~#
root@s32g274ardb2:~# vi pfetest3.sh
root@s32g274ardb2:~# chmod +x pfetest3.sh
root@s32g274ardb2:~# sh pfetest3.sh
[INFO] 2024-10-09 16:37:08 Performing initial PFE setup...
[INFO] 2024-10-09 16:37:08 Attempting to remove pfe0 and pfe2 from any Linux bridge...
[INFO] 2024-10-09 16:37:08 pfe0 is currently part of Linux bridge 'ff:ff:ff:ff:ff:ff'. [ 4743.120133] pfeng 46000000.pfe pfe0: left allmulticast mode
Att[ 4743.125987] pfeng 46000000.pfe pfe0: left promiscuous mode
empting [ 4743.132141] br0: port 1(pfe0) entered disabled state
to remove.
[INFO] 2024-10-09 16:37:08 Executing (Linux): ip link set pfe0 nomaster
[INFO] 2024-10-09 16:37:08 pfe2 is currently part of Linux bridge 'ff:ff:ff:ff:ff:ff'.[ 4743.180128] pfeng 46000000.pfe pfe2: left allmulticast mode
 At[ 4743.185990] pfeng 46000000.pfe pfe2: left promiscuous mode
temp[ 4743.191813] br0: port 2(pfe2) entered disabled state
ting to remove.
[INFO] 2024-10-09 16:37:08 Executing (Linux): ip link set pfe2 nomaster
[ 4743.240855] pfeng 46000000.pfe: Domain 250: Interface 0 removed
[ 4743.247391] pfeng 46000000.pfe: Domain 250: Interface 2 removed
[ 4743.256959] pfeng 46000000.pfe: Feature 'vlan_conf_check' is not available (not enabled in FW).
[ 4743.265413] pfeng 46000000.pfe: Feature 'ptp_conf_check' is not available (not enabled in FW).
[ 4743.274139] pfeng 46000000.pfe: emac0: Disabling Flexible Filter
[ 4743.284162] pfeng 46000000.pfe: Disabling HW bridge lookup PARSE_BRIDGE_EN
[ 4743.291179] pfeng 46000000.pfe: Feature 'vlan_conf_check' is not available (not enabled in FW).
[ 4743.299507] pfeng 46000000.pfe: Feature 'ptp_conf_check' is not available (not enabled in FW).
[ 4743.308282] pfeng 46000000.pfe: emac2: Disabling Flexible Filter
[INFO] 2024-10-09 16:37:09 Starting Test: PingLoopback_VLAN250 (Pinging 192.168.250.2 from 192.168.250.1 for 10s)
[INFO] 2024-10-09 16:37:09 Setting up PFE L2 Bridge (VLAN[ 4744.342874] pfeng 46000000.pfe: Domain 250: Interface 0 added
 250) between emac0 and emac2
[ 4744.352650] pfeng 46000000.pfe: Interface 0 already added
[ 4744.357808] pfeng 46000000.pfe: Domain 250: Interface 0 updated
[ 4744.363620] pfeng 46000000.pfe: Domain 250: Interface 2 added
[ 4744.373277] pfeng 46000000.pfe: Enabling HW bridge lookup PARSE_BRIDGE_EN
[ 4744.380241] pfeng 46000000.pfe: Feature 'vlan_conf_check' is not available (not enabled in FW).
[ 4744.388682] pfeng 46000000.pfe: Feature 'ptp_conf_check' is not available (not enabled in FW).
[ 4744.397376] pfeng 46000000.pfe: emac0: Disabling Flexible Filter
[ 4744.407708] pfeng 46000000.pfe: Feature 'vlan_conf_check' is not available (not enabled in FW).
[ 4744.416059] pfeng 46000000.pfe: Feature 'ptp_conf_check' is not available (not enabled in FW).
[ 4744.424839] pfeng 46000000.pfe: emac2: Disabling Flexible Filter
[INFO] 2024-10-09 16:37:09 PFE L2 Bridge configured. Verifying bridge domain status (expect ucast-hit: FORWARD):
DISCLAIMER: This is a DEMO application. It is not part of the [ 4744.450142] pfeng 46000000.pfe pfe0: Link is Down
production code deliverables.
domain 250
    phyifs (tagged)   : ---
    phyifs (untagged) : emac0,emac2
    ucast-hit  action : 0 (FORWARD)
    ucast-miss action : 1 (FLOOD)
    mcast-hit  action : 0 (FORWARD)
    mcast-miss action : 1 (FLOOD)
    ingress           : 0
    ingress bytes     : 0
    egress            : 0
    egress bytes      : 0
    static entries: ---
Command successfully executed.
[INFO] 2024-10-09 16:37:09 Configuring Linux interfaces for loopback test...
[INFO] 2024-10-09 16:37:09 Executing (Linux): ip link set dev pfe0 down
[INFO] [ 4744.505034] pfeng 46000000.pfe pfe0: configuring for fixed/sgmii link mode
2024-10-09 16[ 4744.513017] pfeng 46000000.pfe pfe0: Link is Up - 2.5Gbps/Full - flow control off
:37:09 Executing (Linux): ip link set dev pfe2 down
[INFO] 2024-10-09 16:37:09 Executing (Linux): ip addr flush dev pfe0
[INFO] 2024-10-09 16:37:09 Executing (Linux): ip addr flush dev pfe2
[INFO] 2024-10-09 16:37:09 Executing (Linux): ip addr add 192.168.250.1/24 dev pfe0
[INFO] 2024-10-09 16:37:09 Executing (Linux): ip addr add 192.168.250.2/24 dev pfe2
[INFO] 2024-10-09 16:37:09 Executing (Linux): ip link set dev pfe0 up
[INFO] 2024-10-09 16:37:10 Executing (Linux): ip link set dev pfe2 up
[ 4744.637367] pfeng 46000000.pfe pfe2: PHY [pfeng-emac-2:04] driver [Micrel KSZ9031 Gigabit PHY] (irq=POLL)
[ 4744.646563] pfeng 46000000.pfe pfe2: configuring for phy/rgmii-id link mode
[INFO] 2024-10-09 16:37:13 Linux interfaces configured. Current status:
6: pfe0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast qlen 1000
    link/ether 00:04:9f:be:ef:00 brd ff:ff:ff:ff:ff:ff
    inet 192.168.250.1/24 scope global pfe0
       valid_lft forever preferred_lft forever
    inet6 fe80::204:9fff:febe:ef00/64 scope link
       valid_lft forever preferred_lft forever
8: pfe2: <NO-CARRIER,BROADCAST,MULTICAST,UP> mtu 1500 qdisc pfifo_fast qlen 1000
    link/ether 00:04:9f:be:ef:02 brd ff:ff:ff:ff:ff:ff
    inet 192.168.250.2/24 scope global pfe2
       valid_lft forever preferred_lft forever
[INFO] 2024-10-09 16:37:13 Performing a quick pre-test ping (3 packets)...
[INFO] 2024-10-09 16:37:16 WARN: Pre-test ping to 192[ 4750.742027] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
.16[ 4750.748605] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
8.250.2 FAILED. Benchmark might not produce useful data.
[ 4750.778229] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
[ 4750.784256] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
[INFO] 2024-10-09 16:37:16 Starting main ping from pfe0 (192.168.250.1) to 192.168.250.2 for approx 10s...
[INFO] 2024-10-09 16:37:16 Monitoring PFE stats for 10 seconds...
[ 4751.824099] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
[ 4751.830211] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
[ 4751.859530] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
[ 4751.865502] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
[INFO] 2024-10-09 16:37:17 Sample 1/10: A=0,145,0,0 | B=0,131,0,0
[ 4752.902996] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
[ 4752.909108] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
[ 4752.938313] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
[ 4752.944290] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
[INFO] 2024-10-09 16:37:18 Sample 2/10: A=0,149,0,0 | B=0,131,0,0
[ 4753.898327] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
[ 4753.904370] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
[ 4753.936136] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
[ 4753.942143] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
[INFO] 2024-10-09 16:37:19 Sample 3/10: A=0,150,0,0 | B=0,131,0,0
root@s32g274ardb2:~# ^C

root@s32g274ardb2:~# ls
pfe_benchmark_simulation.sh    pfe_tsn_visual_simulation.sh   pfetest3.sh
pfe_loopback_benchmark_sim.sh  pfetest.sh                     ptp_test.c
pfe_tsn_simulation.sh          pfetest2.sh
root@s32g274ardb2:~# libfci_cli phyif-print --interface emac2 -v
DISCLAIMER: Thi[ 4807.132882] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
s i[ 4807.139418] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
s a DEMO application. It is not part of the production code deliverables.
 2: emac2
      <ENABLED>
      <promisc:ON, mode:VLAN_BRIDGE, block-state:NORMAL>
      <vlan-conf:OFF, ptp-conf:OFF, ptp-promisc:OFF, q-in-q:ON>
      <discard-if-ttl-below-2:OFF, fast-forward-all-tcp:ON>
      ingress: 0 egress: 131 discarded: 0 malformed: 0
      flexible-filter: ---
      ptp-mgmt-if: ---
      MAC:
          00:04:9f:be:ef:02
          01:00:5e:00:00:01
      mirrors:
          rxmirr0: ---
          rxmirr1: ---
          txmirr0: ---
          txmirr1: ---
      logical interfaces:
       2: emac2
            <ENABLED>
            <promisc:ON, match-mode:AND, discard-on-match:OFF>
            accepted: 0 rejected: 0 discarded: 0 processed: 0
            egress: hif2
            match-rules: ---
Command successfully executed.
root@s32g274ardb2:~# vi ping.sh


















































































# 1. Load bridge module (usually loaded automatically, but good practice)
log_info "Loading bridge module..."
modprobe bridge || log_info "Bridge module already loaded or not available."

# 2. Create bridge interface
log_info "Creating bridge interface $BRIDGE_NAME..."
ip link add name "$BRIDGE_NAME" type bridge
ip link set dev "$BRIDGE_NAME" up

# 3. Add pfe0 and pfe2 to the bridge
log_info "Adding $IF_A and $IF_B to bridge $BRIDGE_NAME..."
ip link set dev "$IF_A" master "$BRIDGE_NAME"
ip link set dev "$IF_B" master "$BRIDGE_NAME"

# 4. Bring up pfe0 and pfe2
log_info "Bringing up $IF_A and $IF_B..."
ip link set dev "$IF_A" up
ip link set dev "$IF_B" up

# 5. Assign IP address to the bridge
log_info "Assigning IP $BRIDGE_IP/24 to $BRIDGE_NAME..."
ip addr add "${BRIDGE_IP}/24" dev "$BRIDGE_NAME"

# Wait for bridge and interfaces to settle
log_info "Waiting for network to settle (5 seconds)..."
sleep 5

log_info "Network setup complete. Bridge status:"
ip addr show dev "$BRIDGE_NAME"
brctl show "$BRIDGE_NAME" 2>/dev/null || echo "brctl not available to show bridge details."

# 6. Start continuous ping and log latency
log_info "Starting continuous ping to $TARGET_IP_TO_PING (via $BRIDGE_NAME) for $PING_DURATION_SECONDS seconds..."
log_info "RTT data will be saved to $OUTPUT_CSV_FILE"
echo "Timestamp,Seq,RTT_ms" > "$OUTPUT_CSV_FILE"

# Ping for a specified duration.
# The ping command will run in the foreground, and we'll rely on the trap for cleanup.
# For truly "infinite" ping, remove timeout and rely on Ctrl+C.
# -O option prints "time=<val> ms" for each reply, making parsing easier.
# If -O is not available, awk pattern needs to be more robust.
ping_cmd="ping -i $PING_INTERVAL -w $PING_DURATION_SECONDS -O $TARGET_IP_TO_PING"
if ! ping -c 1 -O $TARGET_IP_TO_PING >/dev/null 2>&1; then
    log_info "Ping -O option not available, falling back to standard time parsing."
    ping_cmd="ping -i $PING_INTERVAL -w $PING_DURATION_SECONDS $TARGET_IP_TO_PING"
fi


# Execute ping and parse its output line by line
# This approach allows real-time logging to CSV
log_info "Executing: $ping_cmd"
log_info "Press Ctrl+C to stop and cleanup."

# Use a named pipe for better control if needed, but for now, direct pipe.
# We need to capture the PID of ping to ensure it's killed on timeout if -w isn't perfect
# or if we want a truly infinite ping stopped by script.
# However, with -w, ping should self-terminate.

eval "$ping_cmd" | while IFS= read -r line; do
    echo "$line" # Show ping output on console
    # Try to parse "time=X.Y ms" or "icmp_seq=Z time=X.Y ms"
    if echo "$line" | grep -q "time="; then
        rtt_ms=$(echo "$line" | awk -F'time=' '{print $2}' | awk -F' ms' '{print $1}' || echo "PARSE_ERROR")
        seq_num=$(echo "$line" | awk -F'icmp_seq=' '{print $2}' | awk -F' ' '{print $1}' || echo "N/A")
        timestamp=$(date '+%Y-%m-%dT%H:%M:%S.%3N') # Millisecond precision timestamp

        if [ "$rtt_ms" != "PARSE_ERROR" ]; then
            echo "$timestamp,$seq_num,$rtt_ms" >> "$OUTPUT_CSV_FILE"
        fi
    fi
done

log_info "Ping test finished or duration met."

# 7. Cleanup
cleanup_network

log_info "Script finished. Latency data saved in $OUTPUT_CSV_FILE"
exit 0


2024-10-09 16[ 4744.513017] pfeng 46000000.pfe pfe0: Link is Up - 2.5Gbps/Full - flow control off
:37:09 Executing (Linux): ip link set dev pfe2 down
[INFO] 2024-10-09 16:37:09 Executing (Linux): ip addr flush dev pfe0
[INFO] 2024-10-09 16:37:09 Executing (Linux): ip addr flush dev pfe2
[INFO] 2024-10-09 16:37:09 Executing (Linux): ip addr add 192.168.250.1/24 dev pfe0
[INFO] 2024-10-09 16:37:09 Executing (Linux): ip addr add 192.168.250.2/24 dev pfe2
[INFO] 2024-10-09 16:37:09 Executing (Linux): ip link set dev pfe0 up
[INFO] 2024-10-09 16:37:10 Executing (Linux): ip link set dev pfe2 up
[ 4744.637367] pfeng 46000000.pfe pfe2: PHY [pfeng-emac-2:04] driver [Micrel KSZ9031 Gigabit PHY] (irq=POLL)
[ 4744.646563] pfeng 46000000.pfe pfe2: configuring for phy/rgmii-id link mode
[INFO] 2024-10-09 16:37:13 Linux interfaces configured. Current status:
6: pfe0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast qlen 1000
    link/ether 00:04:9f:be:ef:00 brd ff:ff:ff:ff:ff:ff
    inet 192.168.250.1/24 scope global pfe0
       valid_lft forever preferred_lft forever
    inet6 fe80::204:9fff:febe:ef00/64 scope link
       valid_lft forever preferred_lft forever
8: pfe2: <NO-CARRIER,BROADCAST,MULTICAST,UP> mtu 1500 qdisc pfifo_fast qlen 1000
    link/ether 00:04:9f:be:ef:02 brd ff:ff:ff:ff:ff:ff
    inet 192.168.250.2/24 scope global pfe2
       valid_lft forever preferred_lft forever
[INFO] 2024-10-09 16:37:13 Performing a quick pre-test ping (3 packets)...
[INFO] 2024-10-09 16:37:16 WARN: Pre-test ping to 192[ 4750.742027] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
.16[ 4750.748605] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
8.250.2 FAILED. Benchmark might not produce useful data.
[ 4750.778229] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
[ 4750.784256] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
[INFO] 2024-10-09 16:37:16 Starting main ping from pfe0 (192.168.250.1) to 192.168.250.2 for approx 10s...
[INFO] 2024-10-09 16:37:16 Monitoring PFE stats for 10 seconds...
[ 4751.824099] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
[ 4751.830211] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
[ 4751.859530] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
[ 4751.865502] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
[INFO] 2024-10-09 16:37:17 Sample 1/10: A=0,145,0,0 | B=0,131,0,0
[ 4752.902996] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
[ 4752.909108] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
[ 4752.938313] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
[ 4752.944290] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
[INFO] 2024-10-09 16:37:18 Sample 2/10: A=0,149,0,0 | B=0,131,0,0
[ 4753.898327] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
[ 4753.904370] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
[ 4753.936136] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
[ 4753.942143] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
[INFO] 2024-10-09 16:37:19 Sample 3/10: A=0,150,0,0 | B=0,131,0,0
root@s32g274ardb2:~# ^C

root@s32g274ardb2:~# ls
pfe_benchmark_simulation.sh    pfe_tsn_visual_simulation.sh   pfetest3.sh
pfe_loopback_benchmark_sim.sh  pfetest.sh                     ptp_test.c
pfe_tsn_simulation.sh          pfetest2.sh
root@s32g274ardb2:~# libfci_cli phyif-print --interface emac2 -v
DISCLAIMER: Thi[ 4807.132882] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
s i[ 4807.139418] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
s a DEMO application. It is not part of the production code deliverables.
 2: emac2
      <ENABLED>
      <promisc:ON, mode:VLAN_BRIDGE, block-state:NORMAL>
      <vlan-conf:OFF, ptp-conf:OFF, ptp-promisc:OFF, q-in-q:ON>
      <discard-if-ttl-below-2:OFF, fast-forward-all-tcp:ON>
      ingress: 0 egress: 131 discarded: 0 malformed: 0
      flexible-filter: ---
      ptp-mgmt-if: ---
      MAC:
          00:04:9f:be:ef:02
          01:00:5e:00:00:01
      mirrors:
          rxmirr0: ---
          rxmirr1: ---
          txmirr0: ---
          txmirr1: ---
      logical interfaces:
       2: emac2
            <ENABLED>
            <promisc:ON, match-mode:AND, discard-on-match:OFF>
            accepted: 0 rejected: 0 discarded: 0 processed: 0
            egress: hif2
            match-rules: ---
Command successfully executed.
root@s32g274ardb2:~# vi ping.sh
root@s32g274ardb2:~# chmod +x ping.sh
root@s32g274ardb2:~# sh ping.sh
[INFO] 2024-10-09 16:39:52 Performing initial cleanup...
[INFO] 2024-10-09 16:39:52 Cle[ 4907.251958] pfeng 46000000.pfe pfe0: Link is Down
aning up network configuration...
[INFO] 2024-10-09 16:39:52 Cleanup complete.
[INFO] 2024-10-09 16:39:52 Loading bridge module...
[INFO] 2024-10-09 16:39:52 Creating bridge interface br0...
[INFO] 2024-10-09 16:39:52 Adding pfe0 and pf[ 4907.388848] br0: port 1(pfe0) entered blocking state
e2 to[ 4907.394182] br0: port 1(pfe0) entered disabled state
 b[ 4907.399369] pfeng 46000000.pfe pfe0: entered allmulticast mode
ridge[ 4907.405563] pfeng 46000000.pfe pfe0: entered promiscuous mode
 br0...
[ 4907.417953] br0: port 2(pfe2) entered blocking state
[ 4907.422662] br0: port 2(pfe2) entered disabled state
[ 4907.427557] pfeng 46000000.pfe pfe2: entered allmulticast mode
[ 4907.433616] pfeng 46000000.pfe pfe2: entered promiscuous mode
[INFO] 2024-10-09 16:39:52 Bringing up p[ 4907.448488] pfeng 46000000.pfe pfe0: configuring for fixed/sgmii link mode
fe0 and pfe2...[ 4907.456667] pfeng 46000000.pfe pfe0: Link is Up - 2.5Gbps/Full - flow control off

[ 4907.573375] pfeng 46000000.pfe pfe2: PHY [pfeng-emac-2:04] driver [Micrel KSZ9031 Gigabit PHY] (irq=POLL)
[ 4907.582565] pfeng 46000000.pfe pfe2: configuring for phy/rgmii-id link mode
[INFO] 2024-10-09 16:39:53 Assigning IP 192.168.200.1/24 to br0...
[INFO] 2024-10-09 16:39:53 Waiting for network to settle (5 seconds)...
[ 4908.261609] br0: port 1(pfe0) entered blocking state
[ 4908.266203] br0: port 1(pfe0) entered forwarding state
[INFO] 2024-10-09 16:39:58 Network setup complete. Bridge status:
10: br0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc noqueue qlen 1000
    link/ether 0a:ec:73:c4:47:42 brd ff:ff:ff:ff:ff:ff
    inet 192.168.200.1/24 scope global br0
       valid_lft forever preferred_lft forever
    inet6 fe80::8ec:73ff:fec4:4742/64 scope link
       valid_lft forever preferred_lft forever
brctl not available to show bridge details.
[INFO] 2024-10-09 16:39:58 Starting continuous ping to 192.168.200.1 (via br0) for 60 seconds...
[INFO] 2024-10-09 16:39:58 RTT data will be saved to /tmp/bridge_ping_latency.csv
[INFO] 2024-10-09 16:39:58 Executing: ping -i 0.2 -w 60 -O 192.168.200.1
[INFO] 2024-10-09 16:39:58 Press Ctrl+C to stop and cleanup.
PING 192.168.200.1 (192.168.200.1) 56(84) bytes of data.
64 bytes from 192.168.200.1: icmp_seq=1 ttl=64 time=0.095 ms
64 bytes from 192.168.200.1: icmp_seq=2 ttl=64 time=0.115 ms
64 bytes from 192.168.200.1: icmp_seq=3 ttl=64 time=0.115 ms
64 bytes from 192.168.200.1: icmp_seq=4 ttl=64 time=0.117 ms
64 bytes from 192.168.200.1: icmp_seq=5 ttl=64 time=0.100 ms
64 bytes from 192.168.200.1: icmp_seq=6 ttl=64 time=0.114 ms
64 bytes from 192.168.200.1: icmp_seq=7 ttl=64 time=0.119 ms
64 bytes from 192.168.200.1: icmp_seq=8 ttl=64 time=0.115 ms
64 bytes from 192.168.200.1: icmp_seq=9 ttl=64 time=0.116 ms
64 bytes from 192.168.200.1: icmp_seq=10 ttl=64 time=0.114 ms
64 bytes from 192.168.200.1: icmp_seq=11 ttl=64 time=0.117 ms
64 bytes from 192.168.200.1: icmp_seq=12 ttl=64 time=0.116 ms
64 bytes from 192.168.200.1: icmp_seq=13 ttl=64 time=0.115 ms
64 bytes from 192.168.200.1: icmp_seq=14 ttl=64 time=0.115 ms
64 bytes from 192.168.200.1: icmp_seq=15 ttl=64 time=0.118 ms
64 bytes from 192.168.200.1: icmp_seq=16 ttl=64 time=0.104 ms
64 bytes from 192.168.200.1: icmp_seq=17 ttl=64 time=0.115 ms
64 bytes from 192.168.200.1: icmp_seq=18 ttl=64 time=0.117 ms
64 bytes from 192.168.200.1: icmp_seq=19 ttl=64 time=0.101 ms
64 bytes from 192.168.200.1: icmp_seq=20 ttl=64 time=0.117 ms
64 bytes from 192.168.200.1: icmp_seq=21 ttl=64 time=0.117 ms
64 bytes from 192.168.200.1: icmp_seq=22 ttl=64 time=0.117 ms
64 bytes from 192.168.200.1: icmp_seq=23 ttl=64 time=0.117 ms
64 bytes from 192.168.200.1: icmp_seq=24 ttl=64 time=0.116 ms
64 bytes from 192.168.200.1: icmp_seq=25 ttl=64 time=0.117 ms
64 bytes from 192.168.200.1: icmp_seq=26 ttl=64 time=0.117 ms
64 bytes from 192.168.200.1: icmp_seq=27 ttl=64 time=0.115 ms
64 bytes from 192.168.200.1: icmp_seq=28 ttl=64 time=0.115 ms
64 bytes from 192.168.200.1: icmp_seq=29 ttl=64 time=0.114 ms
64 bytes from 192.168.200.1: icmp_seq=30 ttl=64 time=0.114 ms
64 bytes from 192.168.200.1: icmp_seq=31 ttl=64 time=0.122 ms
64 bytes from 192.168.200.1: icmp_seq=32 ttl=64 time=0.115 ms
64 bytes from 192.168.200.1: icmp_seq=33 ttl=64 time=0.116 ms
64 bytes from 192.168.200.1: icmp_seq=34 ttl=64 time=0.116 ms
64 bytes from 192.168.200.1: icmp_seq=35 ttl=64 time=0.115 ms
64 bytes from 192.168.200.1: icmp_seq=36 ttl=64 time=0.114 ms
64 bytes from 192.168.200.1: icmp_seq=37 ttl=64 time=0.115 ms
64 bytes from 192.168.200.1: icmp_seq=38 ttl=64 time=0.115 ms
64 bytes from 192.168.200.1: icmp_seq=39 ttl=64 time=0.126 ms
64 bytes from 192.168.200.1: icmp_seq=40 ttl=64 time=0.114 ms
64 bytes from 192.168.200.1: icmp_seq=41 ttl=64 time=0.118 ms
64 bytes from 192.168.200.1: icmp_seq=42 ttl=64 time=0.114 ms
64 bytes from 192.168.200.1: icmp_seq=43 ttl=64 time=0.115 ms
64 bytes from 192.168.200.1: icmp_seq=44 ttl=64 time=0.115 ms
64 bytes from 192.168.200.1: icmp_seq=45 ttl=64 time=0.100 ms
64 bytes from 192.168.200.1: icmp_seq=46 ttl=64 time=0.115 ms
64 bytes from 192.168.200.1: icmp_seq=47 ttl=64 time=0.116 ms
64 bytes from 192.168.200.1: icmp_seq=48 ttl=64 time=0.112 ms
64 bytes from 192.168.200.1: icmp_seq=49 ttl=64 time=0.117 ms
64 bytes from 192.168.200.1: icmp_seq=50 ttl=64 time=0.115 ms
64 bytes from 192.168.200.1: icmp_seq=51 ttl=64 time=0.115 ms
64 bytes from 192.168.200.1: icmp_seq=52 ttl=64 time=0.115 ms
64 bytes from 192.168.200.1: icmp_seq=53 ttl=64 time=0.117 ms
64 bytes from 192.168.200.1: icmp_seq=54 ttl=64 time=0.122 ms
64 bytes from 192.168.200.1: icmp_seq=55 ttl=64 time=0.110 ms
64 bytes from 192.168.200.1: icmp_seq=56 ttl=64 time=0.102 ms
64 bytes from 192.168.200.1: icmp_seq=57 ttl=64 time=0.102 ms
64 bytes from 192.168.200.1: icmp_seq=58 ttl=64 time=0.116 ms
64 bytes from 192.168.200.1: icmp_seq=59 ttl=64 time=0.114 ms
64 bytes from 192.168.200.1: icmp_seq=60 ttl=64 time=0.118 ms
64 bytes from 192.168.200.1: icmp_seq=61 ttl=64 time=0.116 ms
64 bytes from 192.168.200.1: icmp_seq=62 ttl=64 time=0.115 ms
64 bytes from 192.168.200.1: icmp_seq=63 ttl=64 time=0.116 ms
64 bytes from 192.168.200.1: icmp_seq=64 ttl=64 time=0.117 ms
64 bytes from 192.168.200.1: icmp_seq=65 ttl=64 time=0.117 ms
64 bytes from 192.168.200.1: icmp_seq=66 ttl=64 time=0.115 ms
64 bytes from 192.168.200.1: icmp_seq=67 ttl=64 time=0.116 ms
64 bytes from 192.168.200.1: icmp_seq=68 ttl=64 time=0.115 ms
64 bytes from 192.168.200.1: icmp_seq=69 ttl=64 time=0.117 ms
64 bytes from 192.168.200.1: icmp_seq=70 ttl=64 time=0.118 ms
64 bytes from 192.168.200.1: icmp_seq=71 ttl=64 time=0.115 ms
64 bytes from 192.168.200.1: icmp_seq=72 ttl=64 time=0.116 ms
64 bytes from 192.168.200.1: icmp_seq=73 ttl=64 time=0.117 ms
64 bytes from 192.168.200.1: icmp_seq=74 ttl=64 time=0.114 ms
64 bytes from 192.168.200.1: icmp_seq=75 ttl=64 time=0.115 ms
64 bytes from 192.168.200.1: icmp_seq=76 ttl=64 time=0.114 ms
64 bytes from 192.168.200.1: icmp_seq=77 ttl=64 time=0.118 ms
64 bytes from 192.168.200.1: icmp_seq=78 ttl=64 time=0.120 ms
64 bytes from 192.168.200.1: icmp_seq=79 ttl=64 time=0.115 ms
64 bytes from 192.168.200.1: icmp_seq=80 ttl=64 time=0.115 ms
64 bytes from 192.168.200.1: icmp_seq=81 ttl=64 time=0.115 ms
64 bytes from 192.168.200.1: icmp_seq=82 ttl=64 time=0.119 ms
64 bytes from 192.168.200.1: icmp_seq=83 ttl=64 time=0.115 ms
64 bytes from 192.168.200.1: icmp_seq=84 ttl=64 time=0.114 ms
64 bytes from 192.168.200.1: icmp_seq=85 ttl=64 time=0.116 ms
64 bytes from 192.168.200.1: icmp_seq=86 ttl=64 time=0.116 ms
64 bytes from 192.168.200.1: icmp_seq=87 ttl=64 time=0.114 ms
64 bytes from 192.168.200.1: icmp_seq=88 ttl=64 time=0.116 ms
64 bytes from 192.168.200.1: icmp_seq=89 ttl=64 time=0.117 ms
64 bytes from 192.168.200.1: icmp_seq=90 ttl=64 time=0.114 ms
64 bytes from 192.168.200.1: icmp_seq=91 ttl=64 time=0.116 ms
64 bytes from 192.168.200.1: icmp_seq=92 ttl=64 time=0.121 ms
64 bytes from 192.168.200.1: icmp_seq=93 ttl=64 time=0.117 ms
64 bytes from 192.168.200.1: icmp_seq=94 ttl=64 time=0.115 ms
64 bytes from 192.168.200.1: icmp_seq=95 ttl=64 time=0.115 ms
64 bytes from 192.168.200.1: icmp_seq=96 ttl=64 time=0.116 ms
64 bytes from 192.168.200.1: icmp_seq=97 ttl=64 time=0.117 ms
64 bytes from 192.168.200.1: icmp_seq=98 ttl=64 time=0.117 ms
64 bytes from 192.168.200.1: icmp_seq=99 ttl=64 time=0.116 ms
64 bytes from 192.168.200.1: icmp_seq=100 ttl=64 time=0.114 ms
64 bytes from 192.168.200.1: icmp_seq=101 ttl=64 time=0.115 ms
64 bytes from 192.168.200.1: icmp_seq=102 ttl=64 time=0.118 ms
64 bytes from 192.168.200.1: icmp_seq=103 ttl=64 time=0.114 ms
64 bytes from 192.168.200.1: icmp_seq=104 ttl=64 time=0.116 ms
64 bytes from 192.168.200.1: icmp_seq=105 ttl=64 time=0.114 ms
64 bytes from 192.168.200.1: icmp_seq=106 ttl=64 time=0.114 ms
64 bytes from 192.168.200.1: icmp_seq=107 ttl=64 time=0.115 ms
64 bytes from 192.168.200.1: icmp_seq=108 ttl=64 time=0.116 ms
64 bytes from 192.168.200.1: icmp_seq=109 ttl=64 time=0.116 ms
64 bytes from 192.168.200.1: icmp_seq=110 ttl=64 time=0.114 ms
64 bytes from 192.168.200.1: icmp_seq=111 ttl=64 time=0.116 ms
64 bytes from 192.168.200.1: icmp_seq=112 ttl=64 time=0.117 ms
64 bytes from 192.168.200.1: icmp_seq=113 ttl=64 time=0.115 ms
64 bytes from 192.168.200.1: icmp_seq=114 ttl=64 time=0.114 ms
64 bytes from 192.168.200.1: icmp_seq=115 ttl=64 time=0.115 ms
64 bytes from 192.168.200.1: icmp_seq=116 ttl=64 time=0.116 ms
64 bytes from 192.168.200.1: icmp_seq=117 ttl=64 time=0.117 ms
64 bytes from 192.168.200.1: icmp_seq=118 ttl=64 time=0.113 ms
64 bytes from 192.168.200.1: icmp_seq=119 ttl=64 time=0.116 ms
64 bytes from 192.168.200.1: icmp_seq=120 ttl=64 time=0.115 ms
64 bytes from 192.168.200.1: icmp_seq=121 ttl=64 time=0.116 ms
64 bytes from 192.168.200.1: icmp_seq=122 ttl=64 time=0.117 ms
64 bytes from 192.168.200.1: icmp_seq=123 ttl=64 time=0.117 ms
64 bytes from 192.168.200.1: icmp_seq=124 ttl=64 time=0.102 ms
64 bytes from 192.168.200.1: icmp_seq=125 ttl=64 time=0.114 ms
64 bytes from 192.168.200.1: icmp_seq=126 ttl=64 time=0.112 ms
64 bytes from 192.168.200.1: icmp_seq=127 ttl=64 time=0.115 ms
64 bytes from 192.168.200.1: icmp_seq=128 ttl=64 time=0.116 ms
64 bytes from 192.168.200.1: icmp_seq=129 ttl=64 time=0.122 ms
64 bytes from 192.168.200.1: icmp_seq=130 ttl=64 time=0.123 ms
64 bytes from 192.168.200.1: icmp_seq=131 ttl=64 time=0.114 ms
64 bytes from 192.168.200.1: icmp_seq=132 ttl=64 time=0.116 ms
64 bytes from 192.168.200.1: icmp_seq=133 ttl=64 time=0.116 ms
64 bytes from 192.168.200.1: icmp_seq=134 ttl=64 time=0.103 ms
64 bytes from 192.168.200.1: icmp_seq=135 ttl=64 time=0.115 ms
64 bytes from 192.168.200.1: icmp_seq=136 ttl=64 time=0.114 ms
64 bytes from 192.168.200.1: icmp_seq=137 ttl=64 time=0.115 ms
64 bytes from 192.168.200.1: icmp_seq=138 ttl=64 time=0.095 ms
64 bytes from 192.168.200.1: icmp_seq=139 ttl=64 time=0.113 ms
64 bytes from 192.168.200.1: icmp_seq=140 ttl=64 time=0.115 ms
64 bytes from 192.168.200.1: icmp_seq=141 ttl=64 time=0.116 ms
64 bytes from 192.168.200.1: icmp_seq=142 ttl=64 time=0.117 ms
64 bytes from 192.168.200.1: icmp_seq=143 ttl=64 time=0.114 ms
64 bytes from 192.168.200.1: icmp_seq=144 ttl=64 time=0.115 ms
64 bytes from 192.168.200.1: icmp_seq=145 ttl=64 time=0.116 ms
64 bytes from 192.168.200.1: icmp_seq=146 ttl=64 time=0.116 ms
64 bytes from 192.168.200.1: icmp_seq=147 ttl=64 time=0.117 ms
64 bytes from 192.168.200.1: icmp_seq=148 ttl=64 time=0.113 ms
64 bytes from 192.168.200.1: icmp_seq=149 ttl=64 time=0.115 ms
64 bytes from 192.168.200.1: icmp_seq=150 ttl=64 time=0.115 ms
64 bytes from 192.168.200.1: icmp_seq=151 ttl=64 time=0.117 ms
64 bytes from 192.168.200.1: icmp_seq=152 ttl=64 time=0.118 ms
64 bytes from 192.168.200.1: icmp_seq=153 ttl=64 time=0.117 ms
64 bytes from 192.168.200.1: icmp_seq=154 ttl=64 time=0.120 ms
64 bytes from 192.168.200.1: icmp_seq=155 ttl=64 time=0.114 ms
64 bytes from 192.168.200.1: icmp_seq=156 ttl=64 time=0.115 ms
64 bytes from 192.168.200.1: icmp_seq=157 ttl=64 time=0.119 ms
64 bytes from 192.168.200.1: icmp_seq=158 ttl=64 time=0.115 ms
64 bytes from 192.168.200.1: icmp_seq=159 ttl=64 time=0.120 ms
64 bytes from 192.168.200.1: icmp_seq=160 ttl=64 time=0.119 ms
64 bytes from 192.168.200.1: icmp_seq=161 ttl=64 time=0.115 ms
64 bytes from 192.168.200.1: icmp_seq=162 ttl=64 time=0.114 ms
64 bytes from 192.168.200.1: icmp_seq=163 ttl=64 time=0.114 ms
64 bytes from 192.168.200.1: icmp_seq=164 ttl=64 time=0.116 ms
64 bytes from 192.168.200.1: icmp_seq=165 ttl=64 time=0.114 ms
64 bytes from 192.168.200.1: icmp_seq=166 ttl=64 time=0.114 ms
64 bytes from 192.168.200.1: icmp_seq=167 ttl=64 time=0.116 ms
64 bytes from 192.168.200.1: icmp_seq=168 ttl=64 time=0.117 ms
64 bytes from 192.168.200.1: icmp_seq=169 ttl=64 time=0.114 ms
64 bytes from 192.168.200.1: icmp_seq=170 ttl=64 time=0.113 ms
64 bytes from 192.168.200.1: icmp_seq=171 ttl=64 time=0.114 ms
64 bytes from 192.168.200.1: icmp_seq=172 ttl=64 time=0.115 ms
64 bytes from 192.168.200.1: icmp_seq=173 ttl=64 time=0.116 ms
^C
[INFO] 2024-10-09 16:40:33 Ping test interrupted by user. Cleaning up...
[INFO] 2024-[ 4947.828656] pfeng 46000000.pfe pfe0: Link is Down
10-09 [ 4947.833835] br0: port 1(pfe0) entered disabled state
16:40:33 Cleaning up network configuration...
[ 4947.843854] br0: port 2(pfe2) entered disabled state
[ 4947.857439] pfeng 46000000.pfe pfe2: left allmulticast mode
[ 4947.862646] pfeng 46000000.pfe pfe2: left promiscuous mode
[ 4947.868188] br0: port 2(pfe2) entered disabled state
[ 4947.901426] pfeng 46000000.pfe pfe0: left allmulticast mode
[ 4947.906614] pfeng 46000000.pfe pfe0: left promiscuous mode
[ 4947.912133] br0: port 1(pfe0) entered disabled state
[INFO] 2024-10-09 16:40:33 Cleanup complete.
root@s32g274ardb2:~# [ 4948.105378] pfeng 46000000.pfe pfe2: PHY [pfeng-emac-2:04] driver [Micrel KSZ9031 Gigabit PHY] (irq=POLL)
[ 4948.114577] pfeng 46000000.pfe pfe2: configuring for phy/rgmii-id link mode
[ 4948.126579] pfeng 46000000.pfe pfe0: configuring for fixed/sgmii link mode
[ 4948.136667] pfeng 46000000.pfe pfe0: Link is Up - 2.5Gbps/Full - flow control off
^C

root@s32g274ardb2:~# ^C

root@s32g274ardb2:~# ^C

root@s32g274ardb2:~# ^C

root@s32g274ardb2:~# ^C

root@s32g274ardb2:~# # --- 0. 이전 설정 확인 및 간단 정리 (선택적) ---
root@s32g274ardb2:~# echo "[INFO] 현재 네트워크 인터페이스 상태 확인 (br0, pfe0, pfe2 위주)"
[INFO] 현재 네트워크 인터페이스 상태 확인 (br0, pfe0, pfe2 위주)
root@s32g274ardb2:~# ifconfig br0 2>/dev/null || echo "br0 not found"
br0 not found
root@s32g274ardb2:~# ifconfig pfe0 2>/dev/null || echo "pfe0 not found"
pfe0      Link encap:Ethernet  HWaddr 00:04:9F:BE:EF:00
          inet addr:192.168.250.1  Bcast:0.0.0.0  Mask:255.255.255.0
          inet6 addr: fe80::204:9fff:febe:ef00/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:206 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:0 (0.0 B)  TX bytes:40786 (39.8 KiB)
          Memory:46000000-46ffffff

root@s32g274ardb2:~# ifconfig pfe2 2>/dev/null || echo "pfe2 not found"
pfe2      Link encap:Ethernet  HWaddr 00:04:9F:BE:EF:02
          inet addr:192.168.250.2  Bcast:0.0.0.0  Mask:255.255.255.0
          UP BROADCAST MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:131 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:0 (0.0 B)  TX bytes:21756 (21.2 KiB)
          Memory:46000000-46ffffff

root@s32g274ardb2:~#
root@s32g274ardb2:~# echo "[INFO] 만약 br0이 이미 존재하고 pfe0/pfe2가 연결되어 있다면, 먼저 해��
� 시도"
[INFO] 만약 br0이 이미 존재하고 pfe0/pfe2가 연결되어 있다면, 먼저 해제 시도
root@s32g274ardb2:~# # ip link set pfe0 nomaster 2>/dev/null || true
root@s32g274ardb2:~# # ip link set pfe2 nomaster 2>/dev/null || true
root@s32g274ardb2:~# # ip link set br0 down 2>/dev/null || true
root@s32g274ardb2:~# # ip link delete br0 type bridge 2>/dev/null || true
root@s32g274ardb2:~# # sleep 1
root@s32g274ardb2:~# # echo "[INFO] 이전 브릿지 설정 정리 시도 완료 (오류 무시)"
root@s32g274ardb2:~#
root@s32g274ardb2:~# # --- 1. 브릿지 커널 모듈 로드 ---
root@s32g274ardb2:~# echo "[STEP 1] 브릿지 커널 모듈 로드"
[STEP 1] 브릿지 커널 모듈 로드
root@s32g274ardb2:~# modprobe bridge
root@s32g274ardb2:~#
root@s32g274ardb2:~# # --- 2. 브릿지 인터페이스 생성 및 활성화 ---
root@s32g274ardb2:~# echo "[STEP 2] 브릿지 인터페이스 br0 생성 및 활성화"
[STEP 2] 브릿지 인터페이스 br0 생성 및 활성화
root@s32g274ardb2:~# ip link add name br0 type bridge
root@s32g274ardb2:~# ip link set dev br0 up
root@s32g274ardb2:~#
root@s32g274ardb2:~# # --- 3. pfe0 및 pfe2를 브[ 5005.797374] br0: port 1(pfe0) entered blocking state
릿[ 5005.802558] br0: port 1(pfe0) entered disabled state
��[ 5005.807692] pfeng 46000000.pfe pfe0: entered allmulticast mode
�에 �[ 5005.813987] pfeng 46000000.pfe pfe0: entered promiscuous mode
��버로[ 5005.820429] br0: port 1(pfe0) entered blocking state
 [ 5005.825538] br0: port 1(pfe0) entered forwarding state
추가 ---
root@s32g274ardb2:~# echo "[STEP 3] pfe0 및 pfe2��[ 5005.836098] br0: port 2(pfe2) entered blocking state
� b[ 5005.841265] br0: port 2(pfe2) entered disabled state
r0�[ 5005.846506] pfeng 46000000.pfe pfe2: entered allmulticast mode
�� 멤�[ 5005.852919] pfeng 46000000.pfe pfe2: entered promiscuous mode
��로 추가"
[STEP 3] pfe0 및 pfe2를 br0에 멤버로 추가
root@s32g274ardb2:~# ip link set dev pfe0 master br0
root@s32g274ardb2:~# ip link set dev pfe2 master br0
root@s32g274ardb2:~#
root@s32g274ardb2:~# # --- 4. pfe0 및 pfe2 인터페이스 활성화 ---
root@s32g274ardb2:~# echo "[STEP 4] pfe0 및 pfe2 인터페이스 활성화"
[STEP 4] pfe0 및 pfe2 인터페이스 활성화
root@s32g274ardb2:~# ip link set dev pfe0 up
root@s32g274ardb2:~# ip link set dev pfe2 up
root@s32g274ardb2:~#
root@s32g274ardb2:~# # --- 5. 브릿지 인터페이스에 IP 주소 할당 ---
root@s32g274ardb2:~# # 이전에 192.168.200.1로 성공했으므로 동일하게 사용
root@s32g274ardb2:~# BRIDGE_IP="192.168.200.1"
root@s32g274ardb2:~# echo "[STEP 5] br0에 IP 주소 $BRIDGE_IP/24 할당"
[STEP 5] br0에 IP 주소 192.168.200.1/24 할당
root@s32g274ardb2:~# ip addr add "${BRIDGE_IP}/24" dev br0
root@s32g274ardb2:~#
root@s32g274ardb2:~# # --- 네트워크 안정화 대기 ---
root@s32g274ardb2:~# echo "[INFO] 네트워크 안정화를 위해 5초 대기..."
[INFO] 네트워크 안정화를 위해 5초 대기...
root@s32g274ardb2:~# sleep 5
echo "--- br0 ---"
ip addr show dev br0
echo "--- pfe0 ---"
ip link show dev pfe0
echo "--- pfe2 ---"
ip link show dev pfe2
brctl show br0 2>/dev/null || echo "(brctl show br0 명령을 사용할 수 없거나 br0이 없음)"

# --- 6. Ping 테스트 및 결과 수동 기록 준비 ---
# 이전에 192.168.200.2로 ping이 성공했으므로, 루프백된 반대편에서
# 이 IP를 사용한다고 가정하거나, 브릿지 자신의 IP로 ping합니다.
# 가장 간단한 것은 브릿지 자신의 IP로 ping하여 루프백 경로를 테스트하는 것입니다.
TARGET_IP_TO_PING="$BRIDGE_IP"
# 또는, 만약 pfe0/pfe2 루프백 연결 시 반대편이 자동으로 다른 IP를 갖는다면 그 IP 사용
# 예: TARGET_IP_TO_PING="192.168.200.2" (이전 성공 사례 기반)

OUTPUT_FILE_MANUAL="/tmp/manual_ping_latency.txt"
echo "[STEP 6] Ping 테스트 시작. 대상: $TARGET_IP_TO_PING"
echo "[INFO] 결과를 $OUTPUT_FILE_MANUAL 파일에 수동으로 복사/붙여넣기 하거나, 아래 명령을 수정하여 파일로 직접 저장하세요."
echo "[INFO] 예: ping -c 100 -i 0.2 $TARGET_IP_TO_PING > $OUTPUT_FILE_MANUAL"
echo "[INFO] 지금부터 ping을 수동으로 실행하고 결과를 관찰합니다. (예: 100회)"
echo "---------------------------------------------------------------------"
echo "수동 PING 명령어 예시 (100회, 0.2초 간격):"
echo "ping -c 100 -i 0.2 $TARGET_IP_TO_PING"
echo "---------------------------------------------------------------------"
echo "위 명령어를 직접 입력하거나, 아래처럼 파일로 저장할 수 있습니다:"
echo "ping -c 100 -i 0.2 $TARGET_IP_TO_PING > $OUTPUT_FILE_MANUAL &"
echo "백그라운드 실행 후 'jobs'로 확인, 'fg %1'로 다시 가져오거나 'kill %1'로 중지 가능."
echo "또는 그냥 터미널에 직접 입력하고 Ctrl+C로 중지 후 결과 확인."

# --- 사용자에게 Ping 실행 유도 ---
# 여기서 사용자는 새 터미널이나 현재 터미널에서 직접 ping 명령을 실행해야 합니다.
# 예시:
# ping -c 100 -i 0.2 192.168.200.1
# 또는
# ping -c 100 -i 0.2 192.168.200.2 (이전 성공 사례 기준)

# --- 7. 테스트 완료 후 정리 (수동 실행 필요) ---
echo "[STEP 7] 테스트 완료 후 아래 명령으로 정리할 수 있습니다 (필요시)."
echo "ip link set pfe0 down"
echo "ip link set pfe2 down"
echo "ip link set br0 down"
echo "ip link delete br0 type bridge"
echo "ip addr flush dev pfe0" # IP도 제거
echo "ip addr flush dev pfe2"
echo "echo '[INFO] 수동 정리 완료 (실행했다면).'"
root@s32g274ardb2:~#
root@s32g274ardb2:~# # --- 상태 확인 ---
root@s32g274ardb2:~# echo "[INFO] 현재 네트워크 설정 상태:"
[INFO] 현재 네트워크 설정 상태:
root@s32g274ardb2:~# echo "--- br0 ---"
--- br0 ---
root@s32g274ardb2:~# ip addr show dev br0
11: br0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc noqueue qlen 1000
    link/ether 0a:ec:73:c4:47:42 brd ff:ff:ff:ff:ff:ff
    inet 192.168.200.1/24 scope global br0
       valid_lft forever preferred_lft forever
    inet6 fe80::8ec:73ff:fec4:4742/64 scope link
       valid_lft forever preferred_lft forever
root@s32g274ardb2:~# echo "--- pfe0 ---"
--- pfe0 ---
root@s32g274ardb2:~# ip link show dev pfe0
6: pfe0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast master br0 qlen 1000
    link/ether 00:04:9f:be:ef:00 brd ff:ff:ff:ff:ff:ff
root@s32g274ardb2:~# echo "--- pfe2 ---"
--- pfe2 ---
root@s32g274ardb2:~# ip link show dev pfe2
8: pfe2: <NO-CARRIER,BROADCAST,MULTICAST,UP> mtu 1500 qdisc pfifo_fast master br0 qlen 1000
    link/ether 00:04:9f:be:ef:02 brd ff:ff:ff:ff:ff:ff
root@s32g274ardb2:~# brctl show br0 2>/dev/null || echo "(brctl show br0 명령을 사용할 수 없거나 br0이 없
음)"
(brctl show br0 명령을 사용할 수 없거나 br0이 없음)
root@s32g274ardb2:~#
root@s32g274ardb2:~# # --- 6. Ping 테스트 및 결과 수동 기록 준비 ---
root@s32g274ardb2:~# # 이전에 192.168.200.2로 ping이 성공했으므로, 루프백된 반대편에서
root@s32g274ardb2:~# # 이 IP를 사용한다고 가정하거나, 브릿지 자신의 IP로 ping합니다.
root@s32g274ardb2:~# # 가장 간단한 것은 브릿지 자신의 IP로 ping하여 루프백 경로를 테스트하�
�� 것입니다.
root@s32g274ardb2:~# TARGET_IP_TO_PING="$BRIDGE_IP"
root@s32g274ardb2:~# # 또는, 만약 pfe0/pfe2 루프백 연결 시 반대편이 자동으로 다른 IP를 갖는다
면 그 IP 사용
root@s32g274ardb2:~# # 예: TARGET_IP_TO_PING="192.168.200.2" (이전 성공 사례 기반)
root@s32g274ardb2:~#
root@s32g274ardb2:~# OUTPUT_FILE_MANUAL="/tmp/manual_ping_latency.txt"
root@s32g274ardb2:~# echo "[STEP 6] Ping 테스트 시작. 대상: $TARGET_IP_TO_PING"
[STEP 6] Ping 테스트 시작. 대상: 192.168.200.1
root@s32g274ardb2:~# echo "[INFO] 결과를 $OUTPUT_FILE_MANUAL 파일에 수동으로 복사/붙여넣기 하거나,
 아래 명령을 수정하여 파일로 직접 저장하세요."
[INFO] 결과를 /tmp/manual_ping_latency.txt 파일에 수동으로 복사/붙여넣기 하거나, 아래 명령을 수정하여 파일로 직접 저 장하세요.
root@s32g274ardb2:~# echo "[INFO] 예: ping -c 100 -i 0.2 $TARGET_IP_TO_PING > $OUTPUT_FILE_MANUAL"
[INFO] 예: ping -c 100 -i 0.2 192.168.200.1 > /tmp/manual_ping_latency.txt
root@s32g274ardb2:~# echo "[INFO] 지금부터 ping을 수동으로 실행하고 결과를 관찰합니다. (예: 100
회)"
[INFO] 지금부터 ping을 수동으로 실행하고 결과를 관찰합니다. (예: 100회)
root@s32g274ardb2:~# echo "---------------------------------------------------------------------"
---------------------------------------------------------------------
root@s32g274ardb2:~# echo "수동 PING 명령어 예시 (100회, 0.2초 간격):"
수동 PING 명령어 예시 (100회, 0.2초 간격):
root@s32g274ardb2:~# echo "ping -c 100 -i 0.2 $TARGET_IP_TO_PING"
ping -c 100 -i 0.2 192.168.200.1
root@s32g274ardb2:~# echo "---------------------------------------------------------------------"
---------------------------------------------------------------------
root@s32g274ardb2:~# echo "위 명령어를 직접 입력하거나, 아래처럼 파일로 저장할 수 있습니다
:"
위 명령어를 직접 입력하거나, 아래처럼 파일로 저장할 수 있습니다:
root@s32g274ardb2:~# echo "ping -c 100 -i 0.2 $TARGET_IP_TO_PING > $OUTPUT_FILE_MANUAL &"
ping -c 100 -i 0.2 192.168.200.1 > /tmp/manual_ping_latency.txt &
root@s32g274ardb2:~# echo "백그라운드 실행 후 'jobs'로 확인, 'fg %1'로 다시 가져오거나 'kill %1'��
� 중지 가능."
백그라운드 실행 후 'jobs'로 확인, 'fg %1'로 다시 가져오거나 'kill %1'로 중지 가능.
root@s32g274ardb2:~# echo "또는 그냥 터미널에 직접 입력하고 Ctrl+C로 중지 후 결과 확인."
또는 그냥 터미널에 직접 입력하고 Ctrl+C로 중지 후 결과 확인.
root@s32g274ardb2:~#
root@s32g274ardb2:~# # --- 사용자에게 Ping 실행 유도 ---
root@s32g274ardb2:~# # 여기서 사용자는 새 터미널이나 현재 터미널에서 직접 ping 명령을 실행
해야 합니다.
root@s32g274ardb2:~# # 예시:
root@s32g274ardb2:~# # ping -c 100 -i 0.2 192.168.200.1
root@s32g274ardb2:~# # 또는
root@s32g274ardb2:~# # ping -c 100 -i 0.2 192.168.200.2 (이전 성공 사례 기준)
root@s32g274ardb2:~#
root@s32g274ardb2:~# # --- 7. 테스트 완료 후 정리 (수동 실행 필요) ---
root@s32g274ardb2:~# echo "[STEP 7] 테스트 완료 후 아래 명령으로 정리할 수 있습니다 (필요시)."
[STEP 7] 테스트 완료 후 아래 명령으로 정리할 수 있습니다 (필요시).
root@s32g274ardb2:~# echo "ip link set pfe0 down"
ip link set pfe0 down
root@s32g274ardb2:~# echo "ip link set pfe2 down"
ip link set pfe2 down
root@s32g274ardb2:~# echo "ip link set br0 down"
ip link set br0 down
root@s32g274ardb2:~# echo "ip link delete br0 type bridge"
ip link delete br0 type bridge
root@s32g274ardb2:~# echo "ip addr flush dev pfe0" # IP도 제거
ip addr flush dev pfe0
root@s32g274ardb2:~# echo "ip addr flush dev pfe2"
ip addr flush dev pfe2
root@s32g274ardb2:~# echo "echo '[INFO] 수동 정리 완료 (실행했다면).'"
echo '[INFO] 수동 정리 완료 (실행했다면).'
root@s32g274ardb2:~#
root@s32g274ardb2:~#
root@s32g274ardb2:~#
root@s32g274ardb2:~# # 1) 비예약 VLAN 생성 (여기서는 10 사용)
root@s32g274ardb2:~# libfci_cli bd-add --vlan 10
DISCLAIMER: This is a DEMO application. It is not part of the p[ 5021.815175] pfeng 46000000.pfe: Domain 10: Interface 0 added
roduction code deliverables.
Command successfully executed.
root@s32g274ardb2:~#
root@s32g274ardb2:~# # 2) P2A/​P2B/​P3B 물리 IF(emac0, emac1, emac2) 삽입 (tag OFF)
root@s32g274ardb2:~# libfci_cli bd-insif --vlan 10 --interface emac0 --tag OFF
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~# libfci_cli bd-insif --vlan 10 --interface emac1 --tag OFF
DISCLAIMER: This[ 5021.897728] pfeng 46000000.pfe: Interface 0 already added
 i[ 5021.903298] pfeng 46000000.pfe: Domain 10: Interface 0 updated
s [ 5021.909250] pfeng 46000000.pfe: Domain 10: Interface 1 added
a DEMO application. It is not part of the production code del[ 5021.920170] pfeng 46000000.pfe: Interface 0 already added
ive[ 5021.925866] pfeng 46000000.pfe: Domain 10: Interface 0 updated
r[ 5021.931775] pfeng 46000000.pfe: Interface 1 already added
abl[ 5021.937355] pfeng 46000000.pfe: Domain 10: Interface 1 updated
es[ 5021.943349] pfeng 46000000.pfe: Domain 10: Interface 2 added
.
Command successfully executed.
root@s32g274ardb2:~# libfci_cli bd-insif --vlan 10 --interface emac2 --tag OFF
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~#
root@s32g274ardb2:~# # 3) 브리지 도메인 동작 모드 설정 (유니캐스트/멀티캐스트 모두 포워드)
root@s32g274ardb2:~# libfci_cli bd-update \
>   --vlan       10 \
>   --ucas[ 5021.989048] pfeng 46000000.pfe: Interface 0 already added
t-h[ 5021.994674] pfeng 46000000.pfe: Domain 10: Interface 0 updated
i[ 5022.000604] pfeng 46000000.pfe: Interface 1 already added
t [ 5022.006148] pfeng 46000000.pfe: Domain 10: Interface 1 updated
 [ 5022.012046] pfeng 46000000.pfe: Interface 2 already added
0 [ 5022.017598] pfeng 46000000.pfe: Domain 10: Interface 2 updated
--ucast-miss 1 \
>   --mcast-hit  0 --mcast-miss 1
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~#
root@s32g274ardb2:~# # 4) Linux 인터페이스에 IP 붙이고 UP
root@s32g274ardb2:~# ip link set pfe0 up
root@s32g274ardb2:~# ip addr add 192.168.200.1/24 dev pfe0
root@s32g274ardb2:~#
root@s32g274ardb2:~# ip link set pfe2 up
root@s32g274ardb2:~# ip addr add 192.168.200.2/24 dev pfe2
root@s32g274ardb2:~#
root@s32g274ardb2:~# # 5) pfe0 → pfe2 ping 확인
root@s32g274ardb2:~# ping -I pfe0 -c4 192.168.200.2
PING 192.168.200.2 (192.168.200.2) from 192.168.200.1 pfe0: 56(84) bytes of data.

--- 192.168.200.2 ping statistics ---
4 packets transmitted, 0 received, 100% packet loss, time 3068ms

root@s32g274ardb2:~# NOTICE:  Reset status: External Reset: RESET_B (RUN)
NOTICE:  BL2: v2.10.14(release):bsp44.0_rc11-2.10.14
NOTICE:  BL2: Built : 08:13:32, May 13 2025
NOTICE:  BL2: Booting BL31


U-Boot 2022.04+g9a00323278+p0 (May 13 2025 - 06:57:56 +0000)

SoC:   NXP S32G274A rev. 2.1
CPU:   ARM Cortex-A53 r0p4 @ max 1000 MHz
Model: NXP S32G274A-RDB2
DRAM:  4 GiB
Core:  314 devices, 25 uclasses, devicetree: board
MMC:   FSL_SDHC: 0
Loading Environment from SPIFlash... SF: Detected mx25uw51245g with page size 256 Bytes, erase size 64 KiB, total 64 MiB
*** Warning - bad CRC, using default environment

s32cc_serdes_phy serdes@40480000: Using mode 0 for SerDes subsystem
pci_s32cc pcie@40400000: Could not set DEVICE ID
pci_s32cc pcie@40400000: Configuring as RootComplex
pci_s32cc pcie@40400000: Failed to get link up
In:    serial@401c8000
Out:   serial@401c8000
Err:   serial@401c8000
Board revision: RDB2/GLDBOX Revision E
PCIe:   BusDevFun       VendorId   DeviceId   Device Class       Sub-Class
__________________________________________________________________________
pcie@40400000 RootComplex
|   `-- 01:00.00        0x1957     0x4002     Bridge device           0x04
Net:
Warning: ethernet@4033c000 (eth0) using random MAC address - aa:9b:6d:86:c0:d0
eth0: ethernet@4033c000
Found PFE version 0x50300 (S32G2)
pfeng pfeng-base: Uploading CLASS firmware
pfeng pfeng-base: EMAC0 block was initialized
pfeng pfeng-base: EMAC1 block was initialized
pfeng pfeng-base: EMAC2 block was initialized
pfeng pfeng-base: Enabling the CLASS block
pfeng pfeng-base: PFE Platform started successfully (mask: 7)
s32cc_serdes_phy serdes@44180000: Using mode 4 for SerDes subsystem
s32cc_serdes_phy serdes@44180000: Unstable RX detected on XPCS0
, eth1: pfe0s32cc_serdes_phy serdes@44180000: Unstable RX detected on XPCS1
, eth2: pfe1, eth3: pfe2
Hit any key to stop autoboot:  0
Booting from flash...
Reading 17629184 byte(s) at offset 0x00000000
Reading 196608 byte(s) at offset 0x00000000
Reading 32571392 byte(s) at offset 0x00000000
## Loading init Ramdisk from Legacy Image at 90000000 ...
   Image Name:   fsl-image-base-s32g274ardb2-2025
   Image Type:   AArch64 Linux RAMDisk Image (uncompressed)
   Data Size:    27190637 Bytes = 25.9 MiB
   Load Address: 00000000
   Entry Point:  00000000
   Verifying Checksum ... OK
## Flattened Device Tree blob at 83000000
   Booting using the fdt blob at 0x83000000
   Using Device Tree in place at 0000000083000000, end 0000000083011761
   fixup: pfe1: update phy addr to 0x8
Failed to configure XPCS1_1
Failed to update XPCS1 for SerDes1

Starting kernel ...

[    0.000000] Booting Linux on physical CPU 0x0000000000 [0x410fd034]
[    0.000000] Linux version 6.6.85-rt53-00977-g6208e1d0d7b5 (oe-user@oe-host) (aarch64-fsl-linux-gcc (GCC) 13.3.0, GNU ld (GNU Binutils) 2.42.0.20240723) #1 SMP PREEMPT Wed May 14 13:40:03 UTC 2025
[    0.000000] Machine model: NXP S32G2 Reference Design Board 2 (S32G-VNP-RDB2)
[    0.000000] earlycon: linflex0 at MMIO 0x00000000401c8000 (options '')
[    0.000000] printk: legacy bootconsole [linflex0] enabled
[    0.000000] OF: reserved mem: 0x0000000034000000..0x000000003407ffff (512 KiB) nomap non-reusable pfebufs@34000000
[    0.000000] OF: reserved mem: 0x0000000034080000..0x000000003409ffff (128 KiB) nomap non-reusable pfebufs@34080000
[    0.000000] Reserved memory: created DMA memory pool at 0x0000000083200000, size 3 MiB
[    0.000000] OF: reserved mem: initialized node pfebufs@83200000, compatible id shared-dma-pool
[    0.000000] OF: reserved mem: 0x0000000083200000..0x00000000835dffff (3968 KiB) nomap non-reusable pfebufs@83200000
[    0.000000] OF: reserved mem: 0x00000000835e0000..0x00000000835fffff (128 KiB) map non-reusable pfebufs@835e0000
[    0.000000] OF: reserved mem: 0x0000000084000000..0x0000000084ffffff (16384 KiB) nomap non-reusable shm@84000000
[    0.000000] OF: reserved mem: 0x00000000c0000000..0x00000000c03fffff (4096 KiB) nomap non-reusable shm@c0000000
[    0.000000] OF: reserved mem: 0x00000000c0400000..0x00000000c07fffff (4096 KiB) nomap non-reusable shm@c0400000
[    0.000000] OF: reserved mem: 0x00000000d0000000..0x00000000d000007f (0 KiB) nomap non-reusable shm@d0000000
[    0.000000] OF: reserved mem: 0x00000000d0000080..0x00000000d00000ff (0 KiB) nomap non-reusable shm@d0000080
[    0.000000] OF: reserved mem: 0x00000000ff600000..0x00000000ff7fffff (2048 KiB) nomap non-reusable atf@ff600000
[    0.000000] Zone ranges:
[    0.000000]   DMA      [mem 0x0000000080000000-0x00000000ffffffff]
[    0.000000]   DMA32    empty
[    0.000000]   Normal   [mem 0x0000000100000000-0x00000008ffffffff]
[    0.000000] Movable zone start for each node
[    0.000000] Early memory node ranges
[    0.000000]   node   0: [mem 0x0000000080000000-0x00000000831fffff]
[    0.000000]   node   0: [mem 0x0000000083200000-0x00000000835dffff]
[    0.000000]   node   0: [mem 0x00000000835e0000-0x0000000083ffffff]
[    0.000000]   node   0: [mem 0x0000000084000000-0x0000000084ffffff]
[    0.000000]   node   0: [mem 0x0000000085000000-0x00000000bfffffff]
[    0.000000]   node   0: [mem 0x00000000c0000000-0x00000000c07fffff]
[    0.000000]   node   0: [mem 0x00000000c0800000-0x00000000cfffffff]
[    0.000000]   node   0: [mem 0x00000000d0001000-0x00000000ff5fffff]
[    0.000000]   node   0: [mem 0x00000000ff600000-0x00000000ff7fffff]
[    0.000000]   node   0: [mem 0x00000000ff800000-0x00000000ffffffff]
[    0.000000]   node   0: [mem 0x0000000880000000-0x00000008ffffffff]
[    0.000000] Initmem setup node 0 [mem 0x0000000080000000-0x00000008ffffffff]
[    0.000000] On node 0, zone DMA: 1 pages in unavailable ranges
[    0.000000] cma: Reserved 256 MiB at 0x00000000ef600000 on node -1
[    0.000000] psci: probing for conduit method from DT.
[    0.000000] psci: PSCIv1.1 detected in firmware.
[    0.000000] psci: Using standard PSCI v0.2 function IDs
[    0.000000] psci: MIGRATE_INFO_TYPE not supported.
[    0.000000] psci: SMC Calling Convention v1.4
[    0.000000] percpu: Embedded 19 pages/cpu s40104 r8192 d29528 u77824
[    0.000000] Detected VIPT I-cache on CPU0
[    0.000000] CPU features: detected: GIC system register CPU interface
[    0.000000] CPU features: detected: ARM erratum 845719
[    0.000000] CPU features: detected: NXP erratum ERR050481 (TLBI by VA handled incorrectly)
[    0.000000] CPU features: detected: ARM errata 1165522, 1319367, 1530923, or 1530924
[    0.000000] alternatives: applying boot alternatives
[    0.000000] Kernel command line: console=ttyLF0,115200 root=/dev/ram rw earlycon
[    0.000000] Dentry cache hash table entries: 524288 (order: 10, 4194304 bytes, linear)
[    0.000000] Inode-cache hash table entries: 262144 (order: 9, 2097152 bytes, linear)
[    0.000000] Built 1 zonelists, mobility grouping on.  Total pages: 1032191
[    0.000000] mem auto-init: stack:all(zero), heap alloc:off, heap free:off
[    0.000000] software IO TLB: area num 4.
[    0.000000] software IO TLB: mapped [mem 0x00000000eb600000-0x00000000ef600000] (64MB)
[    0.000000] Memory: 3712652K/4194300K available (9600K kernel code, 664K rwdata, 2968K rodata, 1792K init, 221K bss, 219504K reserved, 262144K cma-reserved)
[    0.000000] SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=4, Nodes=1
[    0.000000] rcu: Preemptible hierarchical RCU implementation.
[    0.000000] rcu:     RCU event tracing is enabled.
[    0.000000] rcu:     RCU restricting CPUs from NR_CPUS=8 to nr_cpu_ids=4.
[    0.000000]  Trampoline variant of Tasks RCU enabled.
[    0.000000]  Tracing variant of Tasks RCU enabled.
[    0.000000] rcu: RCU calculated value of scheduler-enlistment delay is 25 jiffies.
[    0.000000] rcu: Adjusting geometry for rcu_fanout_leaf=16, nr_cpu_ids=4
[    0.000000] NR_IRQS: 64, nr_irqs: 64, preallocated irqs: 0
[    0.000000] GICv3: GIC: Using split EOI/Deactivate mode
[    0.000000] GICv3: 544 SPIs implemented
[    0.000000] GICv3: 0 Extended SPIs implemented
[    0.000000] GICv3: MBI range [167:182]
[    0.000000] GICv3: Using MBI frame 0x0000000050800000
[    0.000000] Root IRQ handler: gic_handle_irq
[    0.000000] GICv3: GICv3 features: 16 PPIs
[    0.000000] GICv3: CPU0: found redistributor 0 region 0:0x0000000050880000
[    0.000000] ITS: No ITS available, not enabling LPIs
[    0.000000] rcu: srcu_init: Setting srcu_struct sizes based on contention.
[    0.000000] arch_timer: cp15 timer(s) running at 5.00MHz (phys).
[    0.000000] clocksource: arch_sys_counter: mask: 0xffffffffffffff max_cycles: 0x127350b88, max_idle_ns: 440795202120 ns
[    0.000001] sched_clock: 56 bits at 5MHz, resolution 200ns, wraps every 4398046511100ns
[    0.008456] Console: colour dummy device 80x25
[    0.012514] Calibrating delay loop (skipped), value calculated using timer frequency.. 10.00 BogoMIPS (lpj=20000)
[    0.022717] pid_max: default: 32768 minimum: 301
[    0.027442] Mount-cache hash table entries: 8192 (order: 4, 65536 bytes, linear)
[    0.034710] Mountpoint-cache hash table entries: 8192 (order: 4, 65536 bytes, linear)
[    0.044333] RCU Tasks: Setting shift to 2 and lim to 1 rcu_task_cb_adjust=1 rcu_task_cpu_ids=4.
[    0.052707] RCU Tasks Trace: Setting shift to 2 and lim to 1 rcu_task_cb_adjust=1 rcu_task_cpu_ids=4.
[    0.062049] rcu: Hierarchical SRCU implementation.
[    0.066589] rcu:     Max phase no-delay instances is 1000.
[    0.072874] smp: Bringing up secondary CPUs ...
[    0.077701] Detected VIPT I-cache on CPU1
[    0.077787] GICv3: CPU1: found redistributor 1 region 0:0x00000000508a0000
[    0.077843] CPU1: Booted secondary processor 0x0000000001 [0x410fd034]
[    0.078632] Detected VIPT I-cache on CPU2
[    0.078711] GICv3: CPU2: found redistributor 100 region 0:0x00000000508c0000
[    0.078752] CPU2: Booted secondary processor 0x0000000100 [0x410fd034]
[    0.079452] Detected VIPT I-cache on CPU3
[    0.079502] GICv3: CPU3: found redistributor 101 region 0:0x00000000508e0000
[    0.079526] CPU3: Booted secondary processor 0x0000000101 [0x410fd034]
[    0.079618] smp: Brought up 1 node, 4 CPUs
[    0.135738] SMP: Total of 4 processors activated.
[    0.140408] CPU features: detected: 32-bit EL0 Support
[    0.145549] CPU features: detected: CRC32 instructions
[    0.150729] CPU: All CPU(s) started at EL2
[    0.154743] alternatives: applying system-wide alternatives
[    0.162461] devtmpfs: initialized
[    0.176586] clocksource: jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 7645041785100000 ns
[    0.185949] futex hash table entries: 1024 (order: 4, 65536 bytes, linear)
[    0.202198] pinctrl core: initialized pinctrl subsystem
[    0.208023] NET: Registered PF_NETLINK/PF_ROUTE protocol family
[    0.214632] DMA: preallocated 512 KiB GFP_KERNEL pool for atomic allocations
[    0.221523] DMA: preallocated 512 KiB GFP_KERNEL|GFP_DMA pool for atomic allocations
[    0.229320] DMA: preallocated 512 KiB GFP_KERNEL|GFP_DMA32 pool for atomic allocations
[    0.237357] thermal_sys: Registered thermal governor 'step_wise'
[    0.237493] hw-breakpoint: found 6 breakpoint and 4 watchpoint registers.
[    0.249937] ASID allocator initialised with 65536 entries
[    0.255354] Serial: AMBA PL011 UART driver
[    0.259365] scmi_core: SCMI protocol bus registered
[    0.265464] scmi_protocol scmi_dev.1: Enabled polling mode TX channel - prot_id:16
[    0.273033] arm-scmi firmware:scmi: SCMI Notifications - Core Enabled.
[    0.279203] arm-scmi firmware:scmi: SCMI Protocol v2.0 'NXP:S32G274A' Firmware version 0x0
[    0.296393] /soc/interrupt-controller@50800000: Fixed dependency cycle(s) with /soc/interrupt-controller@50800000
[    0.308592] /soc/siul2@4009c000/siul2-pinctrl@4009c240: Fixed dependency cycle(s) with /soc/siul2@4009c000/siul2-pinctrl@4009c240/jtag_pins
[    0.331302] Modules: 28928 pages in range for non-PLT usage
[    0.331325] Modules: 520448 pages in range for PLT usage
[    0.337090] HugeTLB: registered 1.00 GiB page size, pre-allocated 0 pages
[    0.348747] HugeTLB: 0 KiB vmemmap can be freed for a 1.00 GiB page
[    0.354996] HugeTLB: registered 32.0 MiB page size, pre-allocated 0 pages
[    0.361764] HugeTLB: 0 KiB vmemmap can be freed for a 32.0 MiB page
[    0.368017] HugeTLB: registered 2.00 MiB page size, pre-allocated 0 pages
[    0.374783] HugeTLB: 0 KiB vmemmap can be freed for a 2.00 MiB page
[    0.381038] HugeTLB: registered 64.0 KiB page size, pre-allocated 0 pages
[    0.387803] HugeTLB: 0 KiB vmemmap can be freed for a 64.0 KiB page
[    0.403831] SCSI subsystem initialized
[    0.407390] usbcore: registered new interface driver usbfs
[    0.412666] usbcore: registered new interface driver hub
[    0.417971] usbcore: registered new device driver usb
[    0.423725] pps_core: LinuxPPS API ver. 1 registered
[    0.428259] pps_core: Software ver. 5.3.6 - Copyright 2005-2007 Rodolfo Giometti <giometti@linux.it>
[    0.437386] PTP clock support registered
[    0.442504] vgaarb: loaded
[    0.445142] clocksource: Switched to clocksource arch_sys_counter
[    0.459136] NET: Registered PF_INET protocol family
[    0.463879] IP idents hash table entries: 65536 (order: 7, 524288 bytes, linear)
[    0.474314] tcp_listen_portaddr_hash hash table entries: 2048 (order: 3, 32768 bytes, linear)
[    0.482508] Table-perturb hash table entries: 65536 (order: 6, 262144 bytes, linear)
[    0.490150] TCP established hash table entries: 32768 (order: 6, 262144 bytes, linear)
[    0.498294] TCP bind hash table entries: 32768 (order: 8, 1048576 bytes, linear)
[    0.506575] TCP: Hash tables configured (established 32768 bind 32768)
[    0.512913] UDP hash table entries: 2048 (order: 4, 65536 bytes, linear)
[    0.519485] UDP-Lite hash table entries: 2048 (order: 4, 65536 bytes, linear)
[    0.526765] NET: Registered PF_UNIX/PF_LOCAL protocol family
[    0.532678] RPC: Registered named UNIX socket transport module.
[    0.538175] RPC: Registered udp transport module.
[    0.542856] RPC: Registered tcp transport module.
[    0.547541] RPC: Registered tcp-with-tls transport module.
[    0.553010] RPC: Registered tcp NFSv4.1 backchannel transport module.
[    0.559469] PCI: CLS 0 bytes, default 64
[    0.563762] Unpacking initramfs...
[    0.564764] workingset: timestamp_bits=62 max_order=20 bucket_order=0
[    0.574199] fuse: init (API version 7.39)
[    0.578002] NET: Registered PF_ALG protocol family
[    0.582628] Block layer SCSI generic (bsg) driver version 0.4 loaded (major 248)
[    0.589950] io scheduler mq-deadline registered
[    0.594457] io scheduler kyber registered
[    0.598460] io scheduler bfq registered
[    0.606999] s32cc-siul2-pinctrl 4009c240.siul2-pinctrl: initialized s32 pinctrl driver
[    0.616302] s32cc-siul2-gpio 4009d700.siul2-gpio: No cache defaults, reading back from HW
[    0.624194] s32cc-siul2-gpio 4009d700.siul2-gpio: No cache defaults, reading back from HW
[    0.632712] gpio gpiochip0: Static allocation of GPIO base is deprecated, use dynamic allocation.
[    0.642283] s32cc-siul2-gpio 4009d700.siul2-gpio: No cache defaults, reading back from HW
[    0.650167] s32cc-siul2-gpio 4009d700.siul2-gpio: No cache defaults, reading back from HW
[    0.670247] printk: legacy console [ttyLF0] enabled000 (irq = 23, base_baud = 7812500) is a FSL_LINFLEX
[    0.670247] printk: legacy console [ttyLF0] enabled
[    0.680144] printk: legacy bootconsole [linflex0] disabled
[    0.680144] printk: legacy bootconsole [linflex0] disabled
[    0.705978] 401cc000.serial: ttyLF1 at MMIO 0x401cc000 (irq = 24, base_baud = 7812500) is a FSL_LINFLEX
[    0.717360] s32cc_fccu 4030c000.fccu: FCCU status is 0 (normal)
[    0.726575] sja1110-sw@1 enforce active low on GPIO handle
[    0.735069] spi-nor spi6.0: mx25uw51245g (65536 Kbytes)
[    2.095831] Freeing initrd memory: 26548K
[    2.108045] 8 fixed-partitions partitions found on MTD device 0.spi
[    2.114452] Creating 8 MTD partitions on "0.spi":
[    2.119233] 0x000000000000-0x000004000000 : "Flash-Image"
[    2.125266] 0x000000000000-0x0000000d0000 : "BL2"
[    2.130376] 0x0000000d0000-0x0000002a0000 : "FIP"
[    2.135474] 0x0000002a0000-0x0000002b0000 : "U-Boot-Env"
[    2.141289] 0x0000002b0000-0x000001380000 : "Kernel"
[    2.146645] 0x000001380000-0x0000013b0000 : "DTB"
[    2.151746] 0x0000013b0000-0x0000032c0000 : "Rootfs"
[    2.157098] 0x0000032c0000-0x000004000000 : "PFE-Firmware"
[    2.165211] vcan: Virtual CAN interface driver
[    2.169731] slcan: serial line CAN interface driver
[    2.174682] CAN device driver interface
[    2.180002] flexcan 401b4000.can: device registered (reg_base=(____ptrval____), irq(s):
[    2.188147] flexcan 401b4000.can:  30
[    2.191875] flexcan 401b4000.can:  31
[    2.195591] flexcan 401b4000.can:  32
[    2.199310] flexcan 401b4000.can:  33
[    2.203027] flexcan 401b4000.can: )
[    2.207569] flexcan 401be000.can: device registered (reg_base=(____ptrval____), irq(s):
[    2.215705] flexcan 401be000.can:  34
[    2.219432] flexcan 401be000.can:  35
[    2.223167] flexcan 401be000.can:  36
[    2.226890] flexcan 401be000.can:  37
[    2.230607] flexcan 401be000.can: )
[    2.234486] e100: Intel(R) PRO/100 Network Driver
[    2.239262] e100: Copyright(c) 1999-2006 Intel Corporation
[    2.244863] e1000: Intel(R) PRO/1000 Network Driver
[    2.249816] e1000: Copyright (c) 1999-2006 Intel Corporation.
[    2.255671] e1000e: Intel(R) PRO/1000 Network Driver
[    2.260711] e1000e: Copyright(c) 1999 - 2015 Intel Corporation.
[    2.266745] igb: Intel(R) Gigabit Ethernet Network Driver
[    2.272220] igb: Copyright (c) 2007-2014 Intel Corporation.
[    2.279156] hse-uio 40210000.mu0b: firmware not found
[    2.284927] usbcore: registered new interface driver uas
[    2.290355] usbcore: registered new interface driver usb-storage
[    2.297591] imx_usb 44064000.usb: No over current polarity defined
[    2.316495] ci_hdrc ci_hdrc.0: EHCI Host Controller
[    2.321714] ci_hdrc ci_hdrc.0: new USB bus registered, assigned bus number 1
[    2.341154] ci_hdrc ci_hdrc.0: USB 2.0 started, EHCI 1.00
[    2.346900] usb usb1: New USB device found, idVendor=1d6b, idProduct=0002, bcdDevice= 6.06
[    2.355299] usb usb1: New USB device strings: Mfr=3, Product=2, SerialNumber=1
[    2.362631] usb usb1: Product: EHCI Host Controller
[    2.367583] usb usb1: Manufacturer: Linux 6.6.85-rt53-00977-g6208e1d0d7b5 ehci_hcd
[    2.375262] usb usb1: SerialNumber: ci_hdrc.0
[    2.380188] hub 1-0:1.0: USB hub found
[    2.384043] hub 1-0:1.0: 1 port detected
[    2.390040] s32cc-rtc 40060000.rtc: registered as rtc0
[    2.395301] s32cc-rtc 40060000.rtc: setting system clock to 1970-01-01T00:00:00 UTC (0)
[    2.403628] i2c_dev: i2c /dev entries driver
[    2.408545] s32cc-wdt 4010c000.watchdog: S32CC Watchdog Timer Registered. timeout=30s (nowayout=0)
[    2.417970] s32cc-wdt 40200000.watchdog: S32CC Watchdog Timer Registered. timeout=30s (nowayout=0)
[    2.427264] s32cc-wdt 40204000.watchdog: S32CC Watchdog Timer Registered. timeout=30s (nowayout=0)
[    2.436542] s32cc-wdt 40208000.watchdog: S32CC Watchdog Timer Registered. timeout=30s (nowayout=0)
[    2.447645] sdhci: Secure Digital Host Controller Interface driver
[    2.453968] sdhci: Copyright(c) Pierre Ossman
[    2.458395] sdhci-pltfm: SDHCI platform and OF driver helper
[    2.464428] SMCCC: SOC_ID: ARCH_SOC_ID not implemented, skipping ....
[    2.471532] hse 40211000.mu1b: interface mu1b not active
[    2.477552] usbcore: registered new interface driver usbhid
[    2.483216] usbhid: USB HID core driver
[    2.496799] mmc0: SDHCI controller on 402f0000.mmc [402f0000.mmc] using ADMA
[    2.504157] s32-adc 401f8000.adc: using dma0chan4 for ADC DMA transfers
[    2.511518] s32-adc 401f8000.adc: Device initialized successfully.
[    2.529415] s32-adc 402e8000.adc: using dma1chan16 for ADC DMA transfers
[    2.536813] s32-adc 402e8000.adc: Device initialized successfully.
[    2.537784] mmc0: new high speed SDHC card at address 0001
[    2.548891] hw perfevents: enabled with armv8_cortex_a53 PMU driver, 7 counters available
[    2.549339] mmcblk0: mmc0:0001 BB1QT 29.8 GiB
[    2.559012] s32-siul2-nvmem 4009c000.nvram: Initialized s32cc siul2 nvmem driver
[    2.563894]  mmcblk0: p1 p2 p3
[    2.569427] s32-siul2-nvmem 44010000.nvram: Initialized s32cc siul2 nvmem driver
[    2.580736] NET: Registered PF_INET6 protocol family
[    2.586668] Segment Routing with IPv6
[    2.590476] In-situ OAM (IOAM) with IPv6
[    2.594523] sit: IPv6, IPv4 and MPLS over IPv4 tunneling driver
[    2.601083] NET: Registered PF_PACKET protocol family
[    2.606358] can: controller area network core
[    2.610828] NET: Registered PF_CAN protocol family
[    2.615693] can: raw protocol
[    2.618717] can: broadcast manager protocol
[    2.622969] can: netlink gateway - max_hops=1
[    2.627464] 8021q: 802.1Q VLAN Support v1.8
[    2.651420] i2c i2c-0: using pinctrl states for GPIO recovery
[    2.657396] i2c i2c-0: using generic GPIOs for recovery
[    2.663475] pca953x 0-0022: using AI
[    2.674131] rtc-pcf85063 0-0051: registered as rtc1
[    2.679143] i2c i2c-0: IMX I2C adapter registered
[    2.683971] i2c i2c-0: using dma0chan5 (tx) and dma0chan6 (rx) for DMA transfers
[    2.692347] i2c i2c-2: using pinctrl states for GPIO recovery
[    2.698269] i2c i2c-2: using generic GPIOs for recovery
[    2.703664] i2c i2c-2: IMX I2C adapter registered
[    2.708486] i2c i2c-2: using dma1chan17 (tx) and dma1chan18 (rx) for DMA transfers
[    2.716933] i2c i2c-4: using pinctrl states for GPIO recovery
[    2.722846] i2c i2c-4: using generic GPIOs for recovery
[    2.729669] ina2xx 4-0040: power monitor ina231 (Rshunt = 1000 uOhm)
[    2.736176] i2c i2c-4: IMX I2C adapter registered
[    2.741009] i2c i2c-4: using dma1chan19 (tx) and dma1chan20 (rx) for DMA transfers
[    2.770046] phy-s32cc-serdes 40480000.serdes: Using mode 0 for SerDes subsystem
[    2.777947] phy-s32cc-serdes 44180000.serdes: Using mode 4 for SerDes subsystem
[    3.109140] s32cc-pcie 40400000.pcie: Failed to stabilize PHY link
[    3.115420] s32cc-pcie 40400000.pcie: Configuring as RootComplex
[    3.121558] s32cc-pcie 40400000.pcie: host bridge /soc/pcie@40400000 ranges:
[    3.128743] s32cc-pcie 40400000.pcie:       IO 0x5ffffe0000..0x5ffffeffff -> 0x0000000000
[    3.137058] s32cc-pcie 40400000.pcie:      MEM 0x5800000000..0x5ffffdffff -> 0x0000000000
[    3.145378] s32cc-pcie 40400000.pcie: Memory resource size exceeds max for 32 bits
[    4.153224] s32cc-pcie 40400000.pcie: Phy link never came up
[    4.158977] s32cc-pcie 40400000.pcie: Link Up failed, EndPoint may not be connected
[    4.166772] s32cc-pcie 40400000.pcie: iATU: unroll T, 6 ob, 4 ib, align 4K, limit 1024G
[    5.175086] s32cc-pcie 40400000.pcie: Phy link never came up
[    5.180844] s32cc-pcie 40400000.pcie: Link Up failed, EndPoint may not be connected
[    6.188767] s32cc-pcie 40400000.pcie: Phy link never came up
[    6.195061] s32cc-pcie 40400000.pcie: PCI host bridge to bus 0000:00
[    6.201521] pci_bus 0000:00: root bus resource [bus 00-ff]
[    6.207096] pci_bus 0000:00: root bus resource [io  0x0000-0xffff]
[    6.213370] pci_bus 0000:00: root bus resource [mem 0x5800000000-0x5ffffdffff] (bus address [0x00000000-0x7fffdffff])
[    6.224169] pci 0000:00:00.0: [1957:4002] type 01 class 0x060400
[    6.230283] pci 0000:00:00.0: reg 0x10: [mem 0x5800000000-0x58000fffff]
[    6.237011] pci 0000:00:00.0: reg 0x38: [mem 0x5800000000-0x580000ffff pref]
[    6.244257] pci 0000:00:00.0: supports D1
[    6.248330] pci 0000:00:00.0: PME# supported from D0 D1 D3hot D3cold
[    6.258445] pci 0000:00:00.0: BAR 0: assigned [mem 0x5800000000-0x58000fffff]
[    6.265701] pci 0000:00:00.0: BAR 6: assigned [mem 0x5800100000-0x580010ffff pref]
[    6.273394] pci 0000:00:00.0: PCI bridge to [bus 01-ff]
[    6.279096] pcieport 0000:00:00.0: PME: Signaling with IRQ 51
[    6.286176] s32cc-dwmac 4033c000.ethernet: IRQ eth_wake_irq not found
[    6.292734] s32cc-dwmac 4033c000.ethernet: IRQ eth_lpi not found
[    6.299779] s32cc-dwmac 4033c000.ethernet: User ID: 0x10, Synopsys ID: 0x51
[    6.306861] s32cc-dwmac 4033c000.ethernet:   DWMAC4/5
[    6.311906] s32cc-dwmac 4033c000.ethernet: DMA HW capability register supported
[    6.319322] s32cc-dwmac 4033c000.ethernet: RX Checksum Offload Engine supported
[    6.326736] s32cc-dwmac 4033c000.ethernet: TX Checksum insertion supported
[    6.333711] s32cc-dwmac 4033c000.ethernet: Wake-Up On Lan supported
[    6.340127] s32cc-dwmac 4033c000.ethernet: Enable RX Mitigation via HW Watchdog Timer
[    6.348074] s32cc-dwmac 4033c000.ethernet: Enabled L3L4 Flow TC (entries=8)
[    6.355140] s32cc-dwmac 4033c000.ethernet: Enabled RFS Flow TC (entries=10)
[    6.362219] s32cc-dwmac 4033c000.ethernet: Enabling HW TC (entries=256, max_off=256)
[    6.370078] s32cc-dwmac 4033c000.ethernet: Using 32/32 bits DMA host/device width
[    6.433642] hwmon hwmon1: temp1_input not attached to any thermal zone
[    6.442981] qoriq_thermal 400a8000.tmu: Critical rising/falling temperature threshold = 5 degree(s)
[    6.457729] nxp_s32cc_ddr_perf 403e0000.ddr-perf: probing device
[    6.464201] nxp_s32cc_ddr_perf 403e0000.ddr-perf: device initialized successfully
[    6.472127] clk: Disabling unused clocks
[    6.477925] Freeing unused kernel memory: 1792K
[    6.482261] Run /init as init process
[    6.507955] systemd[1]: System time before build time, advancing clock.
[    6.527301] systemd[1]: systemd 255.13^ running in system mode (+PAM -AUDIT -SELINUX -APPARMOR +IMA -SMACK +SECCOMP -GCRYPT -GNUTLS -OPENSSL +ACL +BLKID -CURL -ELFUTILS -FIDO2 -IDN2 -IDN -IPTC +KMOD -LIBCRYPTSETUP +LIBFDISK -PCRE2 -PWQUALITY -P11KIT -QRENCODE -TPM2 -BZIP2 -LZ4 -XZ -ZLIB +ZSTD -BPF_FRAMEWORK +XKBCOMMON +UTMP +SYSVINIT default-hierarchy=unified)
[    6.558991] systemd[1]: Detected architecture arm64.

Welcome to Auto Linux BSP 44.0 (scarthgap)!

[    6.577365] systemd[1]: Hostname set to <s32g274ardb2>.
[    6.582370] systemd[1]: Initializing machine ID from random generator.
[    6.955437] systemd[1]: Queued start job for default target Multi-User System.
[    6.973939] systemd[1]: Created slice Slice /system/getty.
[  OK  ] Created slice Slice /system/getty.
[    7.002624] systemd[1]: Created slice Slice /system/modprobe.
[  OK  ] Created slice Slice /system/modprobe.
[    7.026577] systemd[1]: Created slice Slice /system/serial-getty.
[  OK  ] Created slice Slice /system/serial-getty.
[    7.050117] systemd[1]: Created slice User and Session Slice.
[  OK  ] Created slice User and Session Slice.
[    7.073616] systemd[1]: Started Dispatch Password Requests to Console Directory Watch.
[  OK  ] Started Dispatch Password Requests to Console Directory Watch.
[    7.101468] systemd[1]: Started Forward Password Requests to Wall Directory Watch.
[  OK  ] Started Forward Password Requests to Wall Directory Watch.
[    7.125445] systemd[1]: Reached target Path Units.
[  OK  ] Reached target Path Units.
[    7.145304] systemd[1]: Reached target Remote File Systems.
[  OK  ] Reached target Remote File Systems.
[    7.165257] systemd[1]: Reached target Slice Units.
[  OK  ] Reached target Slice Units.
[    7.185321] systemd[1]: Reached target Swaps.
[  OK  ] Reached target Swaps.
[    7.206005] systemd[1]: Listening on Syslog Socket.
[  OK  ] Listening on Syslog Socket.
[    7.225645] systemd[1]: Listening on initctl Compatibility Named Pipe.
[  OK  ] Listening on initctl Compatibility Named Pipe.
[    7.256059] systemd[1]: Journal Audit Socket was skipped because of an unmet condition check (ConditionSecurity=audit).
[    7.267132] systemd[1]: Listening on Journal Socket (/dev/log).
[  OK  ] Listening on Journal Socket (/dev/log).
[    7.290049] systemd[1]: Listening on Journal Socket.
[  OK  ] Listening on Journal Socket.
[    7.310106] systemd[1]: Listening on Network Service Netlink Socket.
[  OK  ] Listening on Network Service Netlink Socket.
[    7.334065] systemd[1]: Listening on udev Control Socket.
[  OK  ] Listening on udev Control Socket.
[    7.353821] systemd[1]: Listening on udev Kernel Socket.
[  OK  ] Listening on udev Kernel Socket.
[    7.373841] systemd[1]: Listening on User Database Manager Socket.
[  OK  ] Listening on User Database Manager Socket.
[    7.413429] systemd[1]: Mounting Huge Pages File System...
        [    7.419258] systemd[1]: POSIX Message Queue File System was skipped because of an unmet condition check (ConditionPathExists=/proc/sys/fs/mqueue).
 Mounting Huge Pages File S[    7.435427] systemd[1]: Mounting Kernel Debug File System...
ystem...
         Mounting Kernel Debug File System...
[    7.469770] systemd[1]: Kernel Trace File System was skipped because of an unmet condition check (ConditionPathExists=/sys/kernel/tracing).
[    7.482371] systemd[1]: Create List of Static Device Nodes was skipped because of an unmet condition check (ConditionFileNotEmpty=/lib/modules/6.6.85-rt53-00977-g6208e1d0d7b5/modules.devname).
[    7.502651] systemd[1]: Starting Load Kernel Module configfs...
         Starting Load Kernel Module configfs...
[    7.528685] systemd[1]: Starting Load Kernel Module drm...
         Starting Load Kernel Module drm...
[    7.556946] systemd[1]: Starting Load Kernel Module fuse...
         Starting Load Kernel Module fuse...
[    7.581557] systemd[1]: File System Check on Root Device was skipped because of an unmet condition check (ConditionPathIsReadWrite=!/).
[    7.600544] systemd[1]: Starting Journal Service...
         Starting Journal Service...
[    7.625241] systemd[1]: Starting Load Kernel Modules...
         Starting Load Kernel Modules...
[    7.652618] systemd[1]: Starting Generate network units from Kernel command line...
         Starting Generate network units from Kernel command line...
[    7.668887] sja1110: loading out-of-tree module taints kernel.
[    7.674925] SPI driver sja1110 has no spi_device_id for nxp,sja1110-switch
[    7.681380] SPI driver sja1110 has no spi_device_id for nxp,sja1110-uc
[    7.688007] sja1110 spi5.0: probing uc
[    7.691781] sja1110 spi5.1: probing switch
[    7.696070] sja1110 spi5.1: Could not get GPIO from device tree
[    7.701661] sja1110 spi5.1: [sja1110_post_probe_upload_worker] Trying to initialize switch
[    7.706421] systemd-journald[115]: Collecting audit messages is disabled.
[    7.709998] sja1110 spi5.1: Direct firmware load for sja1110_switch.bin failed with error -2
[    7.716520] systemd[1]: Starting Remount Root and Kernel File Systems...
[    7.731977] sja1110 spi5.1: request_firmware failed with -2
[    7.731991] sja1110 spi5.0: [sja1110_post_probe_upload_worker] Trying to initialize uC
[    7.732078] sja1110 spi5.0: Direct firmware load for sja1110_uc.bin failed with error -2
[    7.732089] sja1110 spi5.0: request_firmware failed with -2
         Starting Remount Root an[    7.762505] systemd[1]: Starting Create Static Device Nodes in /dev gracefully...
d Kernel File Systems...
         Starting Create Static Device Nodes in /dev gracefully...
[    7.814135] systemd[1]: Starting Coldplug All udev Devices...
         Starting Coldplug All udev Devices...
[    7.845371] systemd[1]: Started Journal Service.
[  OK  ] Started Journal Service.
[  OK  ] Mounted Huge Pages File System.
[  OK  ] Mounted Kernel Debug File System.
[  OK  ] Finished Load Kernel Module configfs.
[  OK  ] Finished Load Kernel Module drm.
[  OK  ] Finished Load Kernel Module fuse.
[  OK  ] Finished Load Kernel Modules.
[  OK  ] Finished Generate network units from Kernel command line.
[  OK  ] Finished Remount Root and Kernel File Systems.
[  OK  ] Finished Create Static Device Nodes in /dev gracefully.
[  OK  ] Reached target Preparation for Network.
         Mounting FUSE Control File System...
         Mounting Kernel Configuration File System...
         Starting Flush Journal to Persistent Storage...
         Starting Apply Kernel Variables...
         Starting Create System User[    8.157800] systemd-journald[115]: Received client request to flush runtime journal.
s...
[  OK  ] Mounted FUSE Control File System.
[  OK  ] Mounted Kernel Configuration File System.
[  OK  ] Finished Flush Journal to Persistent Storage.
[  OK  ] Finished Apply Kernel Variables.
         Starting User Database Manager...
[  OK  ] Finished Coldplug All udev Devices.
[  OK  ] Started User Database Manager.
[  OK  ] Finished Create System Users.
         Starting Create Static Device Nodes in /dev...
[  OK  ] Finished Create Static Device Nodes in /dev.
[  OK  ] Reached target Preparation for Local File Systems.
         Mounting /tmp...
         Mounting /var/volatile...
         Starting Rule-based Manager for Device Events and Files...
[  OK  ] Mounted /tmp.
[  OK  ] Mounted /var/volatile.
         Mounting /var/volatile/tmp...
         Starting Load/Save OS Random Seed...
[  OK  ] Mounted /var/volatile/tmp.
[  OK  ] Reached target Local File Systems.
         Starting Rebuild Dynamic Linker Cache...
         Starting Create System Files and Directories...
[  OK  ] Started Rule-based Manager for Device Events and Files.
[  OK  ] Finished Rebuild Dynamic Linker Cache.
[    8.837005] s32cc-dwmac 4033c000.ethernet end0: renamed from eth0
         Starting Network Configuration...
[  OK  ] Finished Create System Files and Directories.
         Starting Rebuild Journal Catalog...
         Starting Network Name Resolution...
         Starting Network Time Synchronization...
         Starting Record System Boot/Shutdown in UTMP...
[  OK  ] Finished Record System Boot/Shutdown in UTMP.
[    9.455577] pfeng 46000000.pfe: PFEng ethernet driver loading ...
[  OK  ] Finished Rebuild Journal Catalog.
[    9.475128] pfeng 46000000.pfe: Version: 1.9.0
[    9.486793] pfeng 46000000.pfe: Driver commit hash: M4_DRIVER_COMMIT_HASH
[    9.523727] pfeng 46000000.pfe: Multi instance support: disabled (standalone)
         Starting Update is Completed...
[    9.546309] pfeng 46000000.pfe: Compiled by: 13.3.0
[    9.556033] pfeng 46000000.pfe: Cbus addr 0x46000000 size 0x1000000
[    9.567998] pfeng 46000000.pfe: nxp,fw-class-name: s32g_pfe_class.fw
[    9.586231] pfeng 46000000.pfe: nxp,fw-util-name: s32g_pfe_util.fw
[    9.592488] pfeng 46000000.pfe: netif name: pfe0
[    9.596763] pfeng 46000000.pfe: DT mac addr: 00:04:9f:be:ef:00
[    9.606753] pfeng 46000000.pfe: netif(pfe0) linked phyif: 0
[    9.615884] pfeng 46000000.pfe: netif(pfe0) mode: std
[    9.628878] pfeng 46000000.pfe: netif(pfe0) HIFs: count 1 map 01
[    9.635281] pfeng 46000000.pfe: EMAC0 interface mode: 4
[    9.640421] pfeng 46000000.pfe: netif name: pfe1
[    9.644907] pfeng 46000000.pfe: DT mac addr: 00:04:9f:be:ef:01
[    9.650935] pfeng 46000000.pfe: netif(pfe1) linked phyif: 1
[    9.656529] pfeng 46000000.pfe: netif(pfe1) mode: std
[    9.661606] pfeng 46000000.pfe: netif(pfe1) HIFs: count 1 map 02
[    9.667486] pfeng 46000000.pfe: EMAC1 interface mode: 4
[    9.673025] pfeng 46000000.pfe: netif name: pfe2
[    9.677456] pfeng 46000000.pfe: DT mac addr: 00:04:9f:be:ef:02
[    9.685933] pfeng 46000000.pfe: netif(pfe2) linked phyif: 2
[    9.693116] pfeng 46000000.pfe: netif(pfe2) mode: std
[    9.704046] pfeng 46000000.pfe: netif(pfe2) HIFs: count 1 map 04
[[    9.710355] s32cc-dwmac 4033c000.ethernet end0: Register MEM_TYPE_PAGE_POOL RxQ-0
 [    9.711207] pfeng 46000000.pfe: EMAC2 interface mode: 10
 OK  [    9.723628] s32cc-dwmac 4033c000.ethernet end0: Register MEM_TYPE_PAGE_POOL RxQ-1
 pfeng 46000000.pfe: HIF channels mask: 0x0007
[0m] Started Network Configuration.
[    9.743325] pfeng 46000000.pfe: PFE port coherency enabled, mask 0x1e
[    9.748946] s32cc-dwmac 4033c000.ethernet end0: Register MEM_TYPE_PAGE_POOL RxQ-2
[    9.753917] pfeng 46000000.pfe: Clocks: sys=300MHz pe=600MHz
[    9.762998] s32cc-dwmac 4033c000.ethernet end0: Register MEM_TYPE_PAGE_POOL RxQ-3
[    9.763328] s32cc-dwmac 4033c000.ethernet end0: Register MEM_TYPE_PAGE_POOL RxQ-4
[    9.764087] pfeng 46000000.pfe: Interface selected: EMAC0: 0x4 EMAC1: 0x4 EMAC2: 0xa
[    9.764259] pfeng 46000000.pfe: PFE controller reset done
[[    9.764344] pfeng 46000000.pfe: TX clock on EMAC0 for interface sgmii installed
 pfeng 46000000.pfe: RX clock on EMAC0 for interface sgmii installed
[[    9.764444] pfeng 46000000.pfe: TX clock on EMAC1 for interface sgmii installed
0[    9.764486] pfeng 46000000.pfe: RX clock on EMAC1 for interface sgmii installed
;[    9.764543] pfeng 46000000.pfe: TX clock on EMAC2 for interface rgmii-id installed
32m[    9.830436] pfeng 46000000.pfe: RX clock on EMAC2 for interface rgmii-id installed
  OK [    9.838428] pfeng 46000000.pfe: assigned reserved memory node pfebufs@34000000
  pfeng 46000000.pfe: assigned reserved memory node pfebufs@34080000
[0m[    9.853262] pfeng 46000000.pfe: assigned reserved memory node pfebufs@83200000
] F[    9.860716] pfeng 46000000.pfe: assigned reserved memory node pfebufs@835e0000
i[    9.864986] s32cc-dwmac 4033c000.ethernet end0: PHY [stmmac-0:01] driver [Micrel KSZ9031 Gigabit PHY] (irq=POLL)
n[    9.868481] pfeng 46000000.pfe: Firmware: CLASS s32g_pfe_class.fw [45724 bytes]
i[    9.885217] dwmac4: Master AXI performs any burst length
s[    9.885699] pfeng 46000000.pfe: Firmware: UTIL s32g_pfe_util.fw [23352 bytes]
h[    9.894394] s32cc-dwmac 4033c000.ethernet end0: Enabling Safety Features
e[    9.899208] pfeng 46000000.pfe: PFE CBUS p0x46000000 mapped @ v0xffffffc082000000 (0x1000000 bytes)
d [    9.906754] s32cc-dwmac 4033c000.ethernet end0: IEEE 1588-2008 Advanced Timestamp supported
 pfeng 46000000.pfe: Silicon S32G2
[0;1;39mUpdate [    9.928324] s32cc-dwmac 4033c000.ethernet end0: registered PTP clock
i[    9.934352] pfeng 46000000.pfe: PFE_ERRORS:Parity instance created
s[    9.941007] pfeng 46000000.pfe: PFE_ERRORS:Watchdog instance created
 [    9.941298] s32cc-dwmac 4033c000.ethernet end0: FPE workqueue start
C[    9.947794] pfeng 46000000.pfe: BMU1 buffer base: p0xc0000000
o[    9.953736] s32cc-dwmac 4033c000.ethernet end0: configuring for phy/rgmii-id link mode
m[    9.959920] pfeng 46000000.pfe: BMU2 buffer base: p0x34000000 (0x80000 bytes)
p[    9.970001] 8021q: adding VLAN 0 to HW filter on device end0
l[    9.976244] pfeng 46000000.pfe: register IRQ 67 by name 'PFE BMU IRQ'
eted.
[    9.987961] pfeng 46000000.pfe: Firmware .elf detected
[    9.988110] pfeng 46000000.pfe: BMU_EMPTY_INT (BMU @ p0x(____ptrval____)). Pool ready.
[    9.993069] pfeng 46000000.pfe: Uploading CLASS firmware
[    9.993081] pfeng 46000000.pfe: Selected FW loading OPs to load 8 PEs in parallel
[   10.000966] pfeng 46000000.pfe: BMU_EMPTY_INT (BMU @ p0x(____ptrval____)). Pool ready.
[   10.025988] pfeng 46000000.pfe: pfe_ct.h file version"92367c0e25f21f49217a9b08168ad2c8"
[  OK  ] Started Network Time Synchronization.
[  OK  ] Started Network Name Resolution.
[   10.049143] pfeng 46000000.pfe: [FW VERSION] 1.11.0, Build: May 12 2025, 12:42:24 (52549baa), ID: 0x31454650
[   10.058868] pfeng 46000000.pfe: EMAC timestamp external mode bitmap: 0
[   10.065165] pfeng 46000000.pfe: Uploading UTIL firmware
[   10.070297] pfeng 46000000.pfe: Selected FW loading OPs to load 1 PEs in parallel
[   10.072770] pfeng 46000000.pfe: pfe_ct.h file version"92367c0e25f21f49217a9b08168ad2c8"
[  OK [   10.086962] pfeng 46000000.pfe: FW feature: drv_run_on_g3
 [   10.092415] pfeng 46000000.pfe: FW feature: jumbo_frames
 pfeng 46000000.pfe: FW feature: ptp_qos_mapping
[0[   10.103472] pfeng 46000000.pfe: FW feature: software_vlan_table
m[   10.109520] pfeng 46000000.pfe: FW feature: timestamping
][   10.114890] pfeng 46000000.pfe: FW feature: qos_mapping
 [   10.120180] pfeng 46000000.pfe: FW feature: core_functionality
R[   10.126077] pfeng 46000000.pfe: FW feature: extended_features
e[   10.131902] pfeng 46000000.pfe: FW feature: flexible_router
a[   10.137537] pfeng 46000000.pfe: FW feature: validate_hif_csum
c[   10.143352] pfeng 46000000.pfe: FW feature: err051211_workaround
he[   10.149474] pfeng 46000000.pfe: FW feature: IPsec
d[   10.154308] pfeng 46000000.pfe: FW feature: l2_bridge_aging
 [   10.159938] pfeng 46000000.pfe: FW feature: receive_malformed
t[   10.165774] pfeng 46000000.pfe: FW feature: ptp_conf_check
a[   10.171333] pfeng 46000000.pfe: FW feature: vlan_conf_check
r[   10.176952] pfeng 46000000.pfe: FW feature: hash_load_spread
g[   10.182700] pfeng 46000000.pfe: FW feature: ingress_vlan
e[   10.188054] pfeng 46000000.pfe: FW feature: safety
t Network.
[   10.195416] pfeng 46000000.pfe: VLAN ID incorrect or not set. Using default VLAN ID = 0x01.
[   10.203425] pfeng 46000000.pfe: VLAN stats size incorrect or not set. Using default VLAN stats size = 20.
[   10.203525] pfeng 46000000.pfe: Software vlan hash table @ p0x20001288
[   10.203702] pfeng 46000000.pfe: Fall-back bridge domain @ 0x20000a8c (class)
[[   10.203710] pfeng 46000000.pfe: Default bridge domain @ 0x20000a84 (class)
 pfeng 46000000.pfe: Routing table created, Hash Table @ p0x34080000, Pool @ p0x34088000 (65536 bytes)
[[   10.204493] pfeng 46000000.pfe: Feature err051211_workaround: DISABLED
0;32m  OK  ] Reached target Host and N[   10.255204] pfeng 46000000.pfe: HIF0 enabled
etwo[   10.259877] pfeng 46000000.pfe: HIF1 enabled
rk Na[   10.264487] pfeng 46000000.pfe: HIF2 enabled
m[   10.268861] pfeng 46000000.pfe: HIF3 not configured, skipped
e[   10.274587] pfeng 46000000.pfe: MDIO bus 0 disabled: Not found in DT
 [   10.281018] pfeng 46000000.pfe: MDIO bus 1 disabled: Not found in DT
Lookups.
[   10.296698] pfeng 46000000.pfe: MDIO bus 2 enabled
[   10.301212] pfeng 46000000.pfe pfe0 (uninitialized): fixed link full duplex 2500Mbps not recognised
[   10.310186] phy-s32cc-serdes 44180000.serdes: Unstable RX detected on XPCS0
[   10.317083] pfeng 46000000.pfe pfe0 (uninitialized): Subscribe to HIF0
[   10.323572] pfeng 46000000.pfe pfe0 (uninitialized): Host LLTX disabled
[   10.330347] pfeng 46000000.pfe pfe0 (uninitialized): Enable HIF0
[   10.336165] pfeng 46000000.pfe pfe0 (uninitialized): setting MAC addr: 00:04:9f:be:ef:00
[   10.336210] pfeng 46000000.pfe pfe0 (uninitialized): PTP HW addend 0x80000000, max_adj configured to 46566128 ppb
[   10.354532] pfeng 46000000.pfe: IEEE1588: Input Clock: 200000000Hz, Output: 100000000Hz, Accuracy: 10.0ns
[[   10.364741] pfeng 46000000.pfe pfe0 (uninitialized): Registered PTP HW clock successfully on EMAC0
  OK  [   10.374499] pfeng 46000000.pfe pfe0: registered
] R[   10.379317] phy-s32cc-serdes 44180000.serdes: Unstable RX detected on XPCS1
e[   10.386367] pfeng 46000000.pfe pfe1 (uninitialized): Subscribe to HIF1
ac[   10.392976] pfeng 46000000.pfe pfe1 (uninitialized): Host LLTX disabled
hed[   10.399896] pfeng 46000000.pfe pfe1 (uninitialized): Enable HIF1
 [   10.405992] pfeng 46000000.pfe pfe1 (uninitialized): setting MAC addr: 00:04:9f:be:ef:01
ta[   10.414166] pfeng 46000000.pfe pfe1 (uninitialized): PTP HW addend 0x80000000, max_adj configured to 46566128 ppb
r[   10.424562] pfeng 46000000.pfe: IEEE1588: Input Clock: 200000000Hz, Output: 100000000Hz, Accuracy: 10.0ns
get    10.434947] pfeng 46000000.pfe pfe1 (uninitialized): Registered PTP HW clock successfully on EMAC1
39mSystem Init[   10.445103] pfeng 46000000.pfe pfe1: registered
ia[   10.449799] pfeng 46000000.pfe pfe2 (uninitialized): Subscribe to HIF2
l[   10.456394] pfeng 46000000.pfe pfe2 (uninitialized): Host LLTX disabled
iza[   10.463255] pfeng 46000000.pfe pfe2 (uninitialized): Enable HIF2
t[   10.469327] pfeng 46000000.pfe pfe2 (uninitialized): setting MAC addr: 00:04:9f:be:ef:02
io[   10.477533] pfeng 46000000.pfe pfe2 (uninitialized): PTP HW addend 0x80000000, max_adj configured to 46566128 ppb
n pfeng 46000000.pfe: IEEE1588: Input Clock: 200000000Hz, Output: 100000000Hz, Accuracy: 10.0ns
[0m.
[   10.498301] pfeng 46000000.pfe pfe2 (uninitialized): Registered PTP HW clock successfully on EMAC2
[   10.507792] pfeng 46000000.pfe pfe2: registered
[  OK  ] Started Daily Cleanup of Temporary Directories.
[  OK  ] Reached target System Time Set.
[  OK  ] Reached target Timer Units.
[  OK  ] Listening on D-Bus System Message Bus Socket.
[  OK  ] Reached target Socket Units.
[  OK  ] Reached target Basic System.
[   10.587121] pfeng 46000000.pfe: HIF1 started
[   10.602776] pfeng 46000000.pfe pfe1: PHY [stmmac-0:08] driver [Aquantia AQR113C] (irq=POLL)
[   10.620851] pfeng 46000000.pfe pfe1: configuring for phy/sgmii link mode
[   10.639585] pfeng 46000000.pfe: HIF0 started
[   10.644070] pfeng 46000000.pfe pfe0: configuring for fixed/sgmii link mode
2m  OK[   10.651466] pfeng 46000000.pfe pfe0: Link is Up - 2.5Gbps/Full - flow control off
 [   10.657722] pfeng 46000000.pfe: HIF2 started
 ] Started Kernel Logging Service.
[  OK  ] Started System Logging Service.
         Starting D-Bus System Message Bus...
[  OK  ] Started Hardware RNG Entropy Gatherer Daemon.
[   10.733319] pfeng 46000000.pfe pfe2: PHY [pfeng-emac-2:04] driver [Micrel KSZ9031 Gigabit PHY] (irq=POLL)
         Starting User Login Management...
[   10.752057] pfeng 46000000.pfe pfe2: configuring for phy/rgmii-id link mode
         Starting Permit User Sessions...
[  OK  ] Finished Permit User Sessions.
[  OK  ] Started User Login Management.
[  OK  ] Created slice Slice /system/systemd-fsck.
[  OK  ] Started Getty on tty1.
[  OK  ] Started Serial Getty on ttyLF0.
[  OK  ] Reached target Login Prompts.
         Starting File System Check on /dev/mmcblk0p2...
         Starting File System Check on /dev/mmcblk0p3...
         Starting Virtual Console Setup...
[  OK  ] Finished File System Check on /dev/mmcblk0p2.
         Mounting /run/media/boot_s32g2-mmcblk0p2...
[  OK  ] Finished Virtual Console Setup.
[   11.690095] FAT-fs (mmcblk0p2): Volume was not properly unmounted. Some data may be corrupt. Please run fsck.
[  OK  ] Mounted /run/media/boot_s32g2-mmcblk0p2.
[  OK  ] Finished File System Check on /dev/mmcblk0p3.
[   12.829172] random: crng init done
[  OK  ] Finished Load/Save OS Random Seed.
[  OK  ] Started D-Bus System Message Bus.
[  OK  ] Reached target Multi-User System.
         Mounting /run/media/fsl-image-auto-s-mmcblk0p3...
         Starting Record Runlevel Change in UTMP...
[  OK  ] Finished Record Runlevel Change in UTMP.
[   13.059932] EXT4-fs (mmcblk0p3): mounted filesystem c8d6bf0d-db58-4b91-9d8d-949e6b280d4a r/w with ordered data mode. Quota mode: disabled.
[  OK  ] Mounted /run/media/fsl-image-auto-s-mmcblk0p3.

Auto Linux BSP 44.0 s32g274ardb2 ttyLF0

s32g274ardb2 login: root
root@s32g274ardb2:~# # 1) 비예약 VLAN 생성 (여기서는 10 사용)
root@s32g274ardb2:~# libfci_cli bd-add --vlan 10
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~#
root@s32g274ardb2:~# # 2) P2A/​P2B/​P3B 물리 IF(emac0, emac1, emac2) 삽입 (tag OFF)
root@s32g274ardb2:~# libfci_cli bd-insif --vlan 10[   29.207373] pfeng 46000000.pfe: Domain 10: Interface 0 added
 --interface emac0 --tag OFF
DISCLAIMER: This is a DEMO [   29.218030] pfeng 46000000.pfe: Interface 0 already added
app[   29.223621] pfeng 46000000.pfe: Domain 10: Interface 0 updated
li[   29.229610] pfeng 46000000.pfe: Domain 10: Interface 1 added
cation. It is not part of the production code deliverables.
[   29.240566] pfeng 46000000.pfe: Interface 0 already added
Comma[   29.246413] pfeng 46000000.pfe: Domain 10: Interface 0 updated
n[   29.252315] pfeng 46000000.pfe: Interface 1 already added
d s[   29.257916] pfeng 46000000.pfe: Domain 10: Interface 1 updated
uc[   29.263893] pfeng 46000000.pfe: Domain 10: Interface 2 added
cessfully executed.
root@s32g274ardb2:~# libfci_cli bd-insif --vlan 10 --interface emac1 --tag OFF
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~# libfci_cli bd-insif --vlan 10 --interface emac2 --ta[   29.295534] pfeng 46000000.pfe: Interface 0 already added
g O[   29.301174] pfeng 46000000.pfe: Domain 10: Interface 0 updated
F[   29.307077] pfeng 46000000.pfe: Interface 1 already added
[   29.312627] pfeng 46000000.pfe: Domain 10: Interface 1 updated

D[   29.318589] pfeng 46000000.pfe: Interface 2 already added
IS[   29.324181] pfeng 46000000.pfe: Domain 10: Interface 2 updated
CLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~#
root@s32g274ardb2:~# # 3) 브리지 도메인 동작 모드 설정 (유니캐스트/멀티캐스트 모두 포워드)
root@s32g274ardb2:~# libfci_cli bd-update \
>   --vlan       10 \
>   --ucast-hit  0 --ucast-miss 1 \
>   --mcast-hit  0 --mcast-miss 1
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~#
root@s32g274ardb2:~# # 4) Linux 인터페이스에 IP 붙이고 UP
root@s32g274ardb2:~# ip link set pfe0 up
root@s32g274ardb2:~# ip addr add 192.168.200.1/24 dev pfe0
root@s32g274ardb2:~#
root@s32g274ardb2:~# ip link set pfe2 up
root@s32g274ardb2:~# ip addr add 192.168.200.2/24 dev pfe2
root@s32g274ardb2:~#
root@s32g274ardb2:~# # 5) pfe0 → pfe2 ping 확인
root@s32g274ardb2:~# ping -I pfe0 -c4 192.168.200.2
PING 192.168.200.2 (192.168.200.2) from 192.168.200.1 pfe0: 56(84) bytes of data.
From 192.168.200.1 icmp_seq=1 Destination Host Unreachable
From 192.168.200.1 icmp_seq=2 Destination Host Unreachable
From 192.168.200.1 icmp_seq=3 Destination Host Unreachable
From 192.168.200.1 icmp_seq=4 Destination Host Unreachable

--- 192.168.200.2 ping statistics ---
4 packets transmitted, 0 received, +4 errors, 100% packet loss, time 3068ms
pipe 3
root@s32g274ardb2:~#
root@s32g274ardb2:~#
root@s32g274ardb2:~# libfci_cli phyif-print --interface emac0 -v
DISCLAIMER: Thi[   95.076230] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
s is [   95.082960] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
a DEMO application. It is not part of the production code delivera[   95.094926] pfeng 46000000.pfe: emac1: Unable to get MAC address: 2
ble[   95.101426] pfeng 46000000.pfe: emac1: Unable to get MAC address: 2
s.
 0: emac0
      <ENABLED>
      <promisc:OFF, mode:DEFAULT, block-state:NORMAL>
      <vlan-conf:OFF, ptp-conf:OFF, ptp-promisc:OFF, q-in-q:ON>
      <discard-if-ttl-below-2:OFF, fast-forward-all-tcp:ON>
      ingress: 0 egress: 22 discarded: 0 malformed: 0
      flexible-filter: ---
      ptp-mgmt-if: ---
      MAC:
          00:04:9f:be:ef:00
          33:33:00:00:00:01
          01:00:5e:00:00:01
          33:33:ff:be:ef:00
          01:80:c2:00:00:00
          01:80:c2:00:00:03
          01:80:c2:00:00:0e
      mirrors:
          rxmirr0: ---
          rxmirr1: ---
          txmirr0: ---
          txmirr1: ---
      logical interfaces:
       0: emac0
            <ENABLED>
            <promisc:ON, match-mode:AND, discard-on-match:OFF>
            accepted: 0 rejected: 0 discarded: 0 processed: 0
            egress: hif0
            match-rules: ---
Command successfully executed.
root@s32g274ardb2:~# libfci_cli phyif-print --interface emac1 -v
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
 1: emac1
      <ENABLED>
      <promisc:OFF, mode:DEFAULT, block-state:NORMAL>
      <vlan-conf:OFF, ptp-conf:OFF, ptp-promisc:OFF, q-in-q:ON>
      <discard-if-ttl-below-2:OFF, fast-forward-all-tcp:ON>
      ingress: 0 egress: 0 discarded: 0 malformed: 0
      flexible-filter: ---
      ptp-mgmt-if: ---
      MAC:
          00:04:9f:be:ef:01
          33:33:00:00:00:01
          01:00:5e:00:00:01
      mirrors:
          rxmirr0: ---
          rxmirr1: ---
          txmirr0: ---
          txmirr1: ---
      logical interfaces:
       1: emac1
            <ENABLED>
            <promisc:ON, match-mode:AND, discard-on-match:OFF>
            accepted: 0 rejected: 0 discarded: 0 processed: 0
            egress: hif1
            match-rules: ---
Command successfully executed.
root@s32g274ardb2:~# libfci_cli phyif-print --interface emac2 -v
DISCLAIMER: Thi[   96.360900] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
s i[   96.367422] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
s a DEMO application. It is not part of the production code deliverables.
 2: emac2
      <ENABLED>
      <promisc:OFF, mode:DEFAULT, block-state:NORMAL>
      <vlan-conf:OFF, ptp-conf:OFF, ptp-promisc:OFF, q-in-q:ON>
      <discard-if-ttl-below-2:OFF, fast-forward-all-tcp:ON>
      ingress: 0 egress: 0 discarded: 0 malformed: 0
      flexible-filter: ---
      ptp-mgmt-if: ---
      MAC:
          00:04:9f:be:ef:02
          33:33:00:00:00:01
          01:00:5e:00:00:01
      mirrors:
          rxmirr0: ---
          rxmirr1: ---
          txmirr0: ---
          txmirr1: ---
      logical interfaces:
       2: emac2
            <ENABLED>
            <promisc:ON, match-mode:AND, discard-on-match:OFF>
            accepted: 0 rejected: 0 discarded: 0 processed: 0
            egress: hif2
            match-rules: ---
Command successfully executed.
root@s32g274ardb2:~# libfci_cli logif-print -v
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
 0: emac0
      <ENABLED>
      <promisc:ON, match-mode:AND, discard-on-match:OFF>
      accepted: 0 rejected: 0 discarded: 0 processed: 0
      parent: emac0
      egress: hif0
      match-rules: ---
 1: emac1
      <ENABLED>
      <promisc:ON, match-mode:AND, discard-on-match:OFF>
      accepted: 0 rejected: 0 discarded: 0 processed: 0
      parent: emac1
      egress: hif1
      match-rules: ---
 2: emac2
      <ENABLED>
      <promisc:ON, match-mode:AND, discard-on-match:OFF>
      accepted: 0 rejected: 0 discarded: 0 processed: 0
      parent: emac2
      egress: hif2
      match-rules: ---
 3: hif0
      <ENABLED>
      <promisc:ON, match-mode:AND, discard-on-match:OFF>
      accepted: 0 rejected: 0 discarded: 0 processed: 0
      parent: hif0
      egress: ---
      match-rules: ---
 4: hif1
      <ENABLED>
      <promisc:ON, match-mode:AND, discard-on-match:OFF>
      accepted: 0 rejected: 0 discarded: 0 processed: 0
      parent: hif1
      egress: ---
      match-rules: ---
 5: hif2
      <ENABLED>
      <promisc:ON, match-mode:AND, discard-on-match:OFF>
      accepted: 0 rejected: 0 discarded: 0 processed: 0
      parent: hif2
      egress: ---
      match-rules: ---
 6: hif3
      <ENABLED>
      <promisc:ON, match-mode:AND, discard-on-match:OFF>
      accepted: 0 rejected: 0 discarded: 0 processed: 0
      parent: hif3
      egress: ---
      match-rules: ---
Command successfully executed.
root@s32g274ardb2:~#
root@s32g274ardb2:~# ^C

root@s32g274ardb2:~# ifconfig
end0      Link encap:Ethernet  HWaddr AA:9B:6D:86:C0:D0
          UP BROADCAST MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)
          Interrupt:54 Base address:0xe000

lo        Link encap:Local Loopback
          inet addr:127.0.0.1  Mask:255.0.0.0
          inet6 addr: ::1/128 Scope:Host
          UP LOOPBACK RUNNING  MTU:65536  Metric:1
          RX packets:22 errors:0 dropped:0 overruns:0 frame:0
          TX packets:22 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:1348 (1.3 KiB)  TX bytes:1348 (1.3 KiB)

pfe0      Link encap:Ethernet  HWaddr 00:04:9F:BE:EF:00
          inet addr:192.168.200.1  Bcast:0.0.0.0  Mask:255.255.255.0
          inet6 addr: fe80::204:9fff:febe:ef00/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:22 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:0 (0.0 B)  TX bytes:3016 (2.9 KiB)
          Memory:46000000-46ffffff

pfe1      Link encap:Ethernet  HWaddr 00:04:9F:BE:EF:01
          UP BROADCAST MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)
          Memory:46000000-46ffffff

pfe2      Link encap:Ethernet  HWaddr 00:04:9F:BE:EF:02
          inet addr:192.168.200.2  Bcast:0.0.0.0  Mask:255.255.255.0
          UP BROADCAST MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)
          Memory:46000000-46ffffff

root@s32g274ardb2:~# libfci_cli phyif-update --interface emac0 --mode VLAN_BRIDGE --enable
DISCLAIMER: [  146.230441] pfeng 46000000.pfe: Enabling HW bridge lookup PARSE_BRIDGE_EN
This is[  146.237788] pfeng 46000000.pfe: Feature 'vlan_conf_check' is not available (not enabled in FW).
 [  146.246621] pfeng 46000000.pfe: Feature 'ptp_conf_check' is not available (not enabled in FW).
a DE[  146.255487] pfeng 46000000.pfe: emac0: Disabling Flexible Filter
MO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~# libfci_cli phyif-update --interface emac1 --mode VLAN_BRIDGE --enable # 만약 emac1도 브릿��
�에 포함한다면
DISCLAIMER: This i[  146.325412] pfeng 46000000.pfe: Feature 'vlan_conf_check' is not available (not enabled in FW).
s[  146.334209] pfeng 46000000.pfe: Feature 'ptp_conf_check' is not available (not enabled in FW).
 a D[  146.343107] pfeng 46000000.pfe: emac1: Disabling Flexible Filter
EMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~# libfci_cli phyif-update --interface emac2 --mode VLAN_BRIDGE --enable
DISCLAIMER: This is[  147.237213] pfeng 46000000.pfe: Feature 'vlan_conf_check' is not available (not enabled in FW).
 [  147.246027] pfeng 46000000.pfe: Feature 'ptp_conf_check' is not available (not enabled in FW).
a DE[  147.254915] pfeng 46000000.pfe: emac2: Disabling Flexible Filter
MO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~# # --- 0. (선택적) Linux 브릿지에서 pfe0/pfe2 분리 (이전 스크립트 내용) ---
root@s32g274ardb2:~# # ip link set pfe0 nomaster 2>/dev/null || true
root@s32g274ardb2:~# # ip link set pfe2 nomaster 2>/dev/null || true
root@s32g274ardb2:~#
root@s32g274ardb2:~# # --- 1. PFE 인터페이스 모드 변경 및 활성화 ---
root@s32g274ardb2:~# echo "Setting PFE interfaces to VLAN_BRIDGE mode..."
Setting PFE interfaces to VLAN_BRIDGE mode...
root@s32g274ardb2:~# libfci_cli phyif-update --interface emac0 --mode VLAN_BRIDGE --enable
DISCLAIMER: This [  156.718655] pfeng 46000000.pfe: Feature 'vlan_conf_check' is not available (not enabled in FW).
i[  156.727497] pfeng 46000000.pfe: Feature 'ptp_conf_check' is not available (not enabled in FW).
s a [  156.736371] pfeng 46000000.pfe: emac0: Disabling Flexible Filter
DEMO application. It is not part of the production code deliverables.
Command succ[  156.749588] pfeng 46000000.pfe: Feature 'vlan_conf_check' is not available (not enabled in FW).
e[  156.758396] pfeng 46000000.pfe: Feature 'ptp_conf_check' is not available (not enabled in FW).
ssfu[  156.767347] pfeng 46000000.pfe: emac2: Disabling Flexible Filter
lly executed.
root@s32g274ardb2:~# # libfci_cli phyif-update --interface emac1 --mode VLAN_BRIDGE --enable # emac1도 사용 시
root@s32g274ardb2:~# libfci_cli phyif-update --interface emac2 --mode VLAN_BRIDGE --enable
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~# sleep 1 # 설정 적용 대기
# --- 2. PFE 브릿지 도메인 생성 ---
VLAN_ID_FOR_BRIDGE=10 # 예시 VLAN ID
echo "Creating PFE bridge domain (VLAN $VLAN_ID_FOR_BRIDGE)..."
libfci_cli bd-add --vlan "$VLAN_ID_FOR_BRIDGE"

# --- 3. PFE 인터페이스를 브릿지 도메인에 추가 ---
echo "Adding PFE interfaces to bridge domain..."
libfci_cli bd-insif --vlan "$VLAN_ID_FOR_BRIDGE" --interface emac0 --tag OFF
# libfci_cli bd-insif --vlan "$VLAN_ID_FOR_BRIDGE" --interface emac1 --tag OFF # emac1도 사용 시
libfci_cli bd-insif --vlan "$VLAN_ID_FOR_BRIDGE" --interface emac2 --tag OFF

# --- 4. PFE 브릿지 도메인 동작 설정 ---
echo "Configuring PFE bridge domain actions..."
libfci_cli bd-update \
  --vlan       "$VLAN_ID_FOR_BRIDGE" \
  --ucast-hit  FORWARD \
  --ucast-miss FLOOD \
  --mcast-hit  FORWARD \
  --mcast-miss FLOOD
sleep 1 # 설정 적용 대기

# --- 5. (선택적) PFE 설정 확인 ---
echo "Current PFE phyif status for emac0:"
libfci_cli phyif-print --interface emac0 -v
echo "Current PFE phyif status for emac2:"
libfci_cli phyif-print --interface emac2 -v
echo "Current PFE bridge domain status for VLAN $VLAN_ID_FOR_BRIDGE:"
libfci_cli bd-print --vlan "$VLAN_ID_FOR_BRIDGE" -v

# --- 6. Linux 인터페이스에 IP 할당 및 활성화 ---
#    (pfe0과 pfe2가 루프백 연결되어 있다고 가정)
echo "Configuring Linux interfaces pfe0 and pfe2..."
ip link set pfe0 down 2>/dev/null || true
ip addr flush dev pfe0 2>/dev/null || true
ip link set pfe0 up
ip addr add 192.168.200.1/24 dev pfe0

ip link set pfe2 down 2>/dev/null || true
ip addr flush dev pfe2 2>/dev/null || true
ip link set pfe2 up
ip addr add 192.168.200.2/24 dev pfe2 # 루프백 테스트 시 다른 IP 필요 없음. pfe0 IP로 ping

# --- 7. Ping 테스트 ---
# pfe0에서 pfe2로 ping (PFE 하드웨어 브릿지를 통해 루프백되어야 함)
echo "Pinging 192.168.200.2 from pfe0 (via PFE bridge)..."
ping -I pfe0 -c 4 192.168.200.2
# 또는 pfe0에서 pfe0 자신의 IP로 ping하여 완전한 PFE 루프백 확인
# echo "Pinging 192.168.200.1 from pfe0 (via PFE bridge loopback)..."
# ping -I pfe0 -c 4 192.168.200.1root@s32g274ardb2:~#
root@s32g274ardb2:~# # --- 2. PFE 브릿지 도메인 [  157.781567] pfeng 46000000.pfe: ERR: (DRIVER) event 1 - Driver runtime error: [pfe_l2br.c:964] Domain with vlan 10 does already exist
��[  157.793709] pfeng 46000000.pfe: Domain 10 already created
�성 ---
root@s32g274ardb2:~# VLAN_ID_FOR_BRIDGE=10 # 예시 VLAN ID
root@s32g274[  157.806278] pfeng 46000000.pfe: Interface 0 already added
ar[  157.811920] pfeng 46000000.pfe: Domain 10: Interface 0 updated
d[  157.817812] pfeng 46000000.pfe: Interface 1 already added
b2[  157.823367] pfeng 46000000.pfe: Domain 10: Interface 1 updated
:[  157.829255] pfeng 46000000.pfe: Interface 2 already added
~#[  157.834809] pfeng 46000000.pfe: Domain 10: Interface 2 updated
 echo "Creating PFE bridge domain (VLAN $VLAN_ID_FOR_BRIDGE)..."
Creating PFE [  157.847464] pfeng 46000000.pfe: Interface 0 already added
bri[  157.853118] pfeng 46000000.pfe: Domain 10: Interface 0 updated
dg[  157.859070] pfeng 46000000.pfe: Interface 1 already added
e [  157.864709] pfeng 46000000.pfe: Domain 10: Interface 1 updated
d[  157.870586] pfeng 46000000.pfe: Interface 2 already added
om[  157.876150] pfeng 46000000.pfe: Domain 10: Interface 2 updated
ain (VLAN 10)...
root@s32g274ardb2:~# libfci_cli bd-add --vlan "$VLAN_ID_FOR_BRIDGE"
DISCLAIME[  157.890274] pfeng 46000000.pfe: Interface 0 already added
R:[  157.895854] pfeng 46000000.pfe: Domain 10: Interface 0 updated
 [  157.901759] pfeng 46000000.pfe: Interface 1 already added
Thi[  157.907332] pfeng 46000000.pfe: Domain 10: Interface 1 updated
s[  157.913294] pfeng 46000000.pfe: Interface 2 already added
 is[  157.918868] pfeng 46000000.pfe: Domain 10: Interface 2 updated
 a DEMO application. It is not part of the production code deliverables.
ERROR (61953): demo_l2_bd_add() failed!
ERROR (61953): FPP_ERR_L2_BD_ALREADY_REGISTERED
Requested bridge domain is already registered.
root@s32g274ardb2:~#
root@s32g274ardb2:~# # --- 3. PFE 인터페이스를 브릿지 도메인에 추가 ---
root@s32g274ardb2:~# echo "Adding PFE interfaces to bridge domain..."
Adding PFE interfaces to bridge domain...
root@s32g274ardb2:~# libfci_cli bd-insif --vlan "$VLAN_ID_FOR_BRIDGE" --interface emac0 --tag OFF
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~# # libfci_cli bd-insif --vlan "$VLAN_ID_FOR_BRIDGE" --interface emac1 --tag OFF # emac1도 사용
 시
root@s32g274ardb2:~# libfci_cli bd-insif --vlan "$VLAN_ID_FOR_BRIDGE" --interface emac2 --tag OFF
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~#
root@s32g274ardb2:~# # --- 4. PFE 브릿지 도메인 동작 설정 ---
root@s32g274ardb2:~# echo "Configuring PFE bridge domain actions..."
Configuring PFE bridge domain actions...
root@s32g274ardb2:~# libfci_cli bd-update \
>   --vlan       "$VLAN_ID_FOR_BRIDGE" \
>   --ucast-hit  FORWARD \
>   --ucast-miss FLOOD \
>   --mcast-hit  FORWARD \
>   --mcast-miss FLOOD
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~# sleep 1 # 설정 적용 대기
root@s32g274ardb2:~#
root@s32g274ardb2:~# # --- 5. (선택적) PFE[  158.931967] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
 설[  158.938602] pfeng 46000000.pfe: emac0: Unable to get MAC address: 2
정 확인 ---
root@s32g274ardb2:~# echo "Current PFE phyif status for em[  158.951244] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
ac0[  158.957755] pfeng 46000000.pfe: emac2: Unable to get MAC address: 2
:"
Current PFE phyif status for emac0:
root@s32g274ardb2:~# libfci_cli phyif-print --interface emac0 -v
DISCLAIMER: This is a DEMO application. It is not part of th[  158.978480] pfeng 46000000.pfe pfe0: Link is Down
e production code deliverables.
 0: emac0
      <ENABLED>
      <promisc:OFF, mode:VLAN_BRIDGE, block-state:NORMAL>
      [  158.994071] pfeng 46000000.pfe pfe0: configuring for fixed/sgmii link mode
<vla[  159.001353] pfeng 46000000.pfe pfe0: Link is Up - 2.5Gbps/Full - flow control off
n-conf:OFF, ptp-conf:OFF, ptp-promisc:OFF, q-in-q:ON>
      <discard-if-ttl-below-2:OFF, fast-forward-all-tcp:ON>
      ingress: 0 egress: 24 discarded: 0 malformed: 0
      flexible-filter: ---
      ptp-mgmt-if: ---
      MAC:
          00:04:9f:be:ef:00
          33:33:00:00:00:01
          01:00:5e:00:00:01
          33:33:ff:be:ef:00
          01:80:c2:00:00:00
          01:80:c2:00:00:03
          01:80:c2:00:00:0e
      mirrors:
          rxmirr0: ---
          rxmirr1: ---
          txmirr0: ---
          txmirr1: ---
      logical interfaces:
       0: emac0
            <ENABLED>
            <promisc:ON, match-mode:AND, discard-on-match:OFF>
            accepted: 0 rejected: 0 discarded: 0 processed: 0
            egress: hif0
            match-rules: ---
Command successfully executed.
root@s32g274ardb2:~# echo "Current PFE phyif status for emac2:"
Current PFE phyif status for emac2:
root@s32g274ardb2:~# libfci_cli phyif-print --interface emac2 -v
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
 2: emac2
      <ENABLED>
      <promisc:OFF, mode:VLAN_BRIDGE, block-state:NORMAL>
      <vlan-conf:OFF, ptp-conf:OFF, ptp-promisc:OFF, q-in-q:ON>
      <discard-if-ttl-below-2:OFF, fast-forward-all-tcp:ON>
      ingress: 0 egress: 0 di[  159.125381] pfeng 46000000.pfe pfe2: PHY [pfeng-emac-2:04] driver [Micrel KSZ9031 Gigabit PHY] (irq=POLL)
s[  159.135103] pfeng 46000000.pfe pfe2: configuring for phy/rgmii-id link mode
carded: 0 malformed: 0
      flexible-filter: ---
      ptp-mgmt-if: ---
      MAC:
          00:04:9f:be:ef:02
          33:33:00:00:00:01
          01:00:5e:00:00:01
      mirrors:
          rxmirr0: ---
          rxmirr1: ---
          txmirr0: ---
          txmirr1: ---
      logical interfaces:
       2: emac2
            <ENABLED>
            <promisc:ON, match-mode:AND, discard-on-match:OFF>
            accepted: 0 rejected: 0 discarded: 0 processed: 0
            egress: hif2
            match-rules: ---
Command successfully executed.
root@s32g274ardb2:~# echo "Current PFE bridge domain status for VLAN $VLAN_ID_FOR_BRIDGE:"
Current PFE bridge domain status for VLAN 10:
root@s32g274ardb2:~# libfci_cli bd-print --vlan "$VLAN_ID_FOR_BRIDGE" -v
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
domain 10
    phyifs (tagged)   : ---
    phyifs (untagged) : emac0,emac1,emac2
    ucast-hit  action : 0 (FORWARD)
    ucast-miss action : 1 (FLOOD)
    mcast-hit  action : 0 (FORWARD)
    mcast-miss action : 1 (FLOOD)
    ingress           : 0
    ingress bytes     : 0
    egress            : 0
    egress bytes      : 0
    static entries: ---
Command successfully executed.
root@s32g274ardb2:~#
root@s32g274ardb2:~# # --- 6. Linux 인터페이스에 IP 할당 및 활성화 ---
root@s32g274ardb2:~# #    (pfe0과 pfe2가 루프백 연결되어 있다고 가정)
root@s32g274ardb2:~# echo "Configuring Linux interfaces pfe0 and pfe2..."
Configuring Linux interfaces pfe0 and pfe2...
root@s32g274ardb2:~# ip link set pfe0 down 2>/dev/null || true
root@s32g274ardb2:~# ip addr flush dev pfe0 2>/dev/null || true
root@s32g274ardb2:~# ip link set pfe0 up
root@s32g274ardb2:~# ip addr add 192.168.200.1/24 dev pfe0
root@s32g274ardb2:~#
root@s32g274ardb2:~# ip link set pfe2 down 2>/dev/null || true
root@s32g274ardb2:~# ip addr flush dev pfe2 2>/dev/null || true
root@s32g274ardb2:~# ip link set pfe2 up
root@s32g274ardb2:~# ip addr add 192.168.200.2/24 dev pfe2 # 루프백 테스트 시 다른 IP 필요 없음. pfe0 IP
로 ping
root@s32g274ardb2:~#
root@s32g274ardb2:~# # --- 7. Ping 테스트 ---
root@s32g274ardb2:~# # pfe0에서 pfe2로 ping (PFE 하드웨어 브릿지를 통해 루프백되어야 함)
root@s32g274ardb2:~# echo "Pinging 192.168.200.2 from pfe0 (via PFE bridge)..."
Pinging 192.168.200.2 from pfe0 (via PFE bridge)...
root@s32g274ardb2:~# ping -I pfe0 -c 4 192.168.200.2
PING 192.168.200.2 (192.168.200.2) from 192.168.200.1 pfe0: 56(84) bytes of data.
From 192.168.200.1 icmp_seq=1 Destination Host Unreachable
From 192.168.200.1 icmp_seq=2 Destination Host Unreachable
From 192.168.200.1 icmp_seq=3 Destination Host Unreachable

--- 192.168.200.2 ping statistics ---
4 packets transmitted, 0 received, +3 errors, 100% packet loss, time 3052ms
pipe 4
root@s32g274ardb2:~# # 또는 pfe0에서 pfe0 자신의 IP로 ping하여 완전한 PFE 루프백 확인
root@s32g274ardb2:~# # echo "Pinging 192.168.200.1 from pfe0 (via PFE bridge loopback)..."
root@s32g274ardb2:~# # ping -I pfe0 -c 4 192.168.200.1
root@s32g274ardb2:~# NOTICE:  Reset status: External Reset: RESET_B (RUN)
NOTICE:  BL2: v2.10.14(release):bsp44.0_rc11-2.10.14
NOTICE:  BL2: Built : 08:13:32, May 13 2025
NOTICE:  BL2: Booting BL31


U-Boot 2022.04+g9a00323278+p0 (May 13 2025 - 06:57:56 +0000)

SoC:   NXP S32G274A rev. 2.1
CPU:   ARM Cortex-A53 r0p4 @ max 1000 MHz
Model: NXP S32G274A-RDB2
DRAM:  4 GiB
Core:  314 devices, 25 uclasses, devicetree: board
MMC:   FSL_SDHC: 0
Loading Environment from SPIFlash... SF: Detected mx25uw51245g with page size 256 Bytes, erase size 64 KiB, total 64 MiB
*** Warning - bad CRC, using default environment

s32cc_serdes_phy serdes@40480000: Using mode 0 for SerDes subsystem
pci_s32cc pcie@40400000: Could not set DEVICE ID
pci_s32cc pcie@40400000: Configuring as RootComplex
pci_s32cc pcie@40400000: Failed to get link up
In:    serial@401c8000
Out:   serial@401c8000
Err:   serial@401c8000
Board revision: RDB2/GLDBOX Revision E
PCIe:   BusDevFun       VendorId   DeviceId   Device Class       Sub-Class
__________________________________________________________________________
pcie@40400000 RootComplex
|   `-- 01:00.00        0x1957     0x4002     Bridge device           0x04
Net:
Warning: ethernet@4033c000 (eth0) using random MAC address - 4e:21:61:f7:8a:96
eth0: ethernet@4033c000
Found PFE version 0x50300 (S32G2)
pfeng pfeng-base: Uploading CLASS firmware
pfeng pfeng-base: EMAC0 block was initialized
pfeng pfeng-base: EMAC1 block was initialized
pfeng pfeng-base: EMAC2 block was initialized
pfeng pfeng-base: Enabling the CLASS block
pfeng pfeng-base: PFE Platform started successfully (mask: 7)
s32cc_serdes_phy serdes@44180000: Using mode 4 for SerDes subsystem
s32cc_serdes_phy serdes@44180000: Unstable RX detected on XPCS0
, eth1: pfe0s32cc_serdes_phy serdes@44180000: Unstable RX detected on XPCS1
, eth2: pfe1, eth3: pfe2
Hit any key to stop autoboot:  0
Booting from flash...
Reading 17629184 byte(s) at offset 0x00000000
Reading 196608 byte(s) at offset 0x00000000
Reading 32571392 byte(s) at offset 0x00000000
## Loading init Ramdisk from Legacy Image at 90000000 ...
   Image Name:   fsl-image-base-s32g274ardb2-2025
   Image Type:   AArch64 Linux RAMDisk Image (uncompressed)
   Data Size:    27190637 Bytes = 25.9 MiB
   Load Address: 00000000
   Entry Point:  00000000
   Verifying Checksum ... OK
## Flattened Device Tree blob at 83000000
   Booting using the fdt blob at 0x83000000
   Using Device Tree in place at 0000000083000000, end 0000000083011761
   fixup: pfe1: update phy addr to 0x8
Failed to configure XPCS1_1
Failed to update XPCS1 for SerDes1

Starting kernel ...

[    0.000000] Booting Linux on physical CPU 0x0000000000 [0x410fd034]
[    0.000000] Linux version 6.6.85-rt53-00977-g6208e1d0d7b5 (oe-user@oe-host) (aarch64-fsl-linux-gcc (GCC) 13.3.0, GNU ld (GNU Binutils) 2.42.0.20240723) #1 SMP PREEMPT Wed May 14 13:40:03 UTC 2025
[    0.000000] Machine model: NXP S32G2 Reference Design Board 2 (S32G-VNP-RDB2)
[    0.000000] earlycon: linflex0 at MMIO 0x00000000401c8000 (options '')
[    0.000000] printk: legacy bootconsole [linflex0] enabled
[    0.000000] OF: reserved mem: 0x0000000034000000..0x000000003407ffff (512 KiB) nomap non-reusable pfebufs@34000000
[    0.000000] OF: reserved mem: 0x0000000034080000..0x000000003409ffff (128 KiB) nomap non-reusable pfebufs@34080000
[    0.000000] Reserved memory: created DMA memory pool at 0x0000000083200000, size 3 MiB
[    0.000000] OF: reserved mem: initialized node pfebufs@83200000, compatible id shared-dma-pool
[    0.000000] OF: reserved mem: 0x0000000083200000..0x00000000835dffff (3968 KiB) nomap non-reusable pfebufs@83200000
[    0.000000] OF: reserved mem: 0x00000000835e0000..0x00000000835fffff (128 KiB) map non-reusable pfebufs@835e0000
[    0.000000] OF: reserved mem: 0x0000000084000000..0x0000000084ffffff (16384 KiB) nomap non-reusable shm@84000000
[    0.000000] OF: reserved mem: 0x00000000c0000000..0x00000000c03fffff (4096 KiB) nomap non-reusable shm@c0000000
[    0.000000] OF: reserved mem: 0x00000000c0400000..0x00000000c07fffff (4096 KiB) nomap non-reusable shm@c0400000
[    0.000000] OF: reserved mem: 0x00000000d0000000..0x00000000d000007f (0 KiB) nomap non-reusable shm@d0000000
[    0.000000] OF: reserved mem: 0x00000000d0000080..0x00000000d00000ff (0 KiB) nomap non-reusable shm@d0000080
[    0.000000] OF: reserved mem: 0x00000000ff600000..0x00000000ff7fffff (2048 KiB) nomap non-reusable atf@ff600000
[    0.000000] Zone ranges:
[    0.000000]   DMA      [mem 0x0000000080000000-0x00000000ffffffff]
[    0.000000]   DMA32    empty
[    0.000000]   Normal   [mem 0x0000000100000000-0x00000008ffffffff]
[    0.000000] Movable zone start for each node
[    0.000000] Early memory node ranges
[    0.000000]   node   0: [mem 0x0000000080000000-0x00000000831fffff]
[    0.000000]   node   0: [mem 0x0000000083200000-0x00000000835dffff]
[    0.000000]   node   0: [mem 0x00000000835e0000-0x0000000083ffffff]
[    0.000000]   node   0: [mem 0x0000000084000000-0x0000000084ffffff]
[    0.000000]   node   0: [mem 0x0000000085000000-0x00000000bfffffff]
[    0.000000]   node   0: [mem 0x00000000c0000000-0x00000000c07fffff]
[    0.000000]   node   0: [mem 0x00000000c0800000-0x00000000cfffffff]
[    0.000000]   node   0: [mem 0x00000000d0001000-0x00000000ff5fffff]
[    0.000000]   node   0: [mem 0x00000000ff600000-0x00000000ff7fffff]
[    0.000000]   node   0: [mem 0x00000000ff800000-0x00000000ffffffff]
[    0.000000]   node   0: [mem 0x0000000880000000-0x00000008ffffffff]
[    0.000000] Initmem setup node 0 [mem 0x0000000080000000-0x00000008ffffffff]
[    0.000000] On node 0, zone DMA: 1 pages in unavailable ranges
[    0.000000] cma: Reserved 256 MiB at 0x00000000ef600000 on node -1
[    0.000000] psci: probing for conduit method from DT.
[    0.000000] psci: PSCIv1.1 detected in firmware.
[    0.000000] psci: Using standard PSCI v0.2 function IDs
[    0.000000] psci: MIGRATE_INFO_TYPE not supported.
[    0.000000] psci: SMC Calling Convention v1.4
[    0.000000] percpu: Embedded 19 pages/cpu s40104 r8192 d29528 u77824
[    0.000000] Detected VIPT I-cache on CPU0
[    0.000000] CPU features: detected: GIC system register CPU interface
[    0.000000] CPU features: detected: ARM erratum 845719
[    0.000000] CPU features: detected: NXP erratum ERR050481 (TLBI by VA handled incorrectly)
[    0.000000] CPU features: detected: ARM errata 1165522, 1319367, 1530923, or 1530924
[    0.000000] alternatives: applying boot alternatives
[    0.000000] Kernel command line: console=ttyLF0,115200 root=/dev/ram rw earlycon
[    0.000000] Dentry cache hash table entries: 524288 (order: 10, 4194304 bytes, linear)
[    0.000000] Inode-cache hash table entries: 262144 (order: 9, 2097152 bytes, linear)
[    0.000000] Built 1 zonelists, mobility grouping on.  Total pages: 1032191
[    0.000000] mem auto-init: stack:all(zero), heap alloc:off, heap free:off
[    0.000000] software IO TLB: area num 4.
[    0.000000] software IO TLB: mapped [mem 0x00000000eb600000-0x00000000ef600000] (64MB)
[    0.000000] Memory: 3712652K/4194300K available (9600K kernel code, 664K rwdata, 2968K rodata, 1792K init, 221K bss, 219504K reserved, 262144K cma-reserved)
[    0.000000] SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=4, Nodes=1
[    0.000000] rcu: Preemptible hierarchical RCU implementation.
[    0.000000] rcu:     RCU event tracing is enabled.
[    0.000000] rcu:     RCU restricting CPUs from NR_CPUS=8 to nr_cpu_ids=4.
[    0.000000]  Trampoline variant of Tasks RCU enabled.
[    0.000000]  Tracing variant of Tasks RCU enabled.
[    0.000000] rcu: RCU calculated value of scheduler-enlistment delay is 25 jiffies.
[    0.000000] rcu: Adjusting geometry for rcu_fanout_leaf=16, nr_cpu_ids=4
[    0.000000] NR_IRQS: 64, nr_irqs: 64, preallocated irqs: 0
[    0.000000] GICv3: GIC: Using split EOI/Deactivate mode
[    0.000000] GICv3: 544 SPIs implemented
[    0.000000] GICv3: 0 Extended SPIs implemented
[    0.000000] GICv3: MBI range [167:182]
[    0.000000] GICv3: Using MBI frame 0x0000000050800000
[    0.000000] Root IRQ handler: gic_handle_irq
[    0.000000] GICv3: GICv3 features: 16 PPIs
[    0.000000] GICv3: CPU0: found redistributor 0 region 0:0x0000000050880000
[    0.000000] ITS: No ITS available, not enabling LPIs
[    0.000000] rcu: srcu_init: Setting srcu_struct sizes based on contention.
[    0.000000] arch_timer: cp15 timer(s) running at 5.00MHz (phys).
[    0.000000] clocksource: arch_sys_counter: mask: 0xffffffffffffff max_cycles: 0x127350b88, max_idle_ns: 440795202120 ns
[    0.000001] sched_clock: 56 bits at 5MHz, resolution 200ns, wraps every 4398046511100ns
[    0.008459] Console: colour dummy device 80x25
[    0.012518] Calibrating delay loop (skipped), value calculated using timer frequency.. 10.00 BogoMIPS (lpj=20000)
[    0.022721] pid_max: default: 32768 minimum: 301
[    0.027446] Mount-cache hash table entries: 8192 (order: 4, 65536 bytes, linear)
[    0.034713] Mountpoint-cache hash table entries: 8192 (order: 4, 65536 bytes, linear)
[    0.044346] RCU Tasks: Setting shift to 2 and lim to 1 rcu_task_cb_adjust=1 rcu_task_cpu_ids=4.
[    0.052722] RCU Tasks Trace: Setting shift to 2 and lim to 1 rcu_task_cb_adjust=1 rcu_task_cpu_ids=4.
[    0.062065] rcu: Hierarchical SRCU implementation.
[    0.066603] rcu:     Max phase no-delay instances is 1000.
[    0.072880] smp: Bringing up secondary CPUs ...
[    0.077717] Detected VIPT I-cache on CPU1
[    0.077805] GICv3: CPU1: found redistributor 1 region 0:0x00000000508a0000
[    0.077861] CPU1: Booted secondary processor 0x0000000001 [0x410fd034]
[    0.078646] Detected VIPT I-cache on CPU2
[    0.078724] GICv3: CPU2: found redistributor 100 region 0:0x00000000508c0000
[    0.078766] CPU2: Booted secondary processor 0x0000000100 [0x410fd034]
[    0.079470] Detected VIPT I-cache on CPU3
[    0.079518] GICv3: CPU3: found redistributor 101 region 0:0x00000000508e0000
[    0.079543] CPU3: Booted secondary processor 0x0000000101 [0x410fd034]
[    0.079635] smp: Brought up 1 node, 4 CPUs
[    0.135759] SMP: Total of 4 processors activated.
[    0.140423] CPU features: detected: 32-bit EL0 Support
[    0.145567] CPU features: detected: CRC32 instructions
[    0.150747] CPU: All CPU(s) started at EL2
[    0.154760] alternatives: applying system-wide alternatives
[    0.162461] devtmpfs: initialized
[    0.176591] clocksource: jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 7645041785100000 ns
[    0.185954] futex hash table entries: 1024 (order: 4, 65536 bytes, linear)
[    0.202191] pinctrl core: initialized pinctrl subsystem
[    0.208006] NET: Registered PF_NETLINK/PF_ROUTE protocol family
[    0.214610] DMA: preallocated 512 KiB GFP_KERNEL pool for atomic allocations
[    0.221516] DMA: preallocated 512 KiB GFP_KERNEL|GFP_DMA pool for atomic allocations
[    0.229292] DMA: preallocated 512 KiB GFP_KERNEL|GFP_DMA32 pool for atomic allocations
[    0.237334] thermal_sys: Registered thermal governor 'step_wise'
[    0.237469] hw-breakpoint: found 6 breakpoint and 4 watchpoint registers.
[    0.249913] ASID allocator initialised with 65536 entries
[    0.255336] Serial: AMBA PL011 UART driver
[    0.259342] scmi_core: SCMI protocol bus registered
[    0.265457] scmi_protocol scmi_dev.1: Enabled polling mode TX channel - prot_id:16
[    0.273018] arm-scmi firmware:scmi: SCMI Notifications - Core Enabled.
[    0.279188] arm-scmi firmware:scmi: SCMI Protocol v2.0 'NXP:S32G274A' Firmware version 0x0
[    0.296391] /soc/interrupt-controller@50800000: Fixed dependency cycle(s) with /soc/interrupt-controller@50800000
[    0.308597] /soc/siul2@4009c000/siul2-pinctrl@4009c240: Fixed dependency cycle(s) with /soc/siul2@4009c000/siul2-pinctrl@4009c240/jtag_pins
[    0.331341] Modules: 28928 pages in range for non-PLT usage
[    0.331365] Modules: 520448 pages in range for PLT usage
[    0.337132] HugeTLB: registered 1.00 GiB page size, pre-allocated 0 pages
[    0.348788] HugeTLB: 0 KiB vmemmap can be freed for a 1.00 GiB page
[    0.355037] HugeTLB: registered 32.0 MiB page size, pre-allocated 0 pages
[    0.361806] HugeTLB: 0 KiB vmemmap can be freed for a 32.0 MiB page
[    0.368058] HugeTLB: registered 2.00 MiB page size, pre-allocated 0 pages
[    0.374825] HugeTLB: 0 KiB vmemmap can be freed for a 2.00 MiB page
[    0.381078] HugeTLB: registered 64.0 KiB page size, pre-allocated 0 pages
[    0.387846] HugeTLB: 0 KiB vmemmap can be freed for a 64.0 KiB page
[    0.403886] SCSI subsystem initialized
[    0.407444] usbcore: registered new interface driver usbfs
[    0.412721] usbcore: registered new interface driver hub
[    0.418027] usbcore: registered new device driver usb
[    0.423772] pps_core: LinuxPPS API ver. 1 registered
[    0.428308] pps_core: Software ver. 5.3.6 - Copyright 2005-2007 Rodolfo Giometti <giometti@linux.it>
[    0.437432] PTP clock support registered
[    0.442549] vgaarb: loaded
[    0.445183] clocksource: Switched to clocksource arch_sys_counter
[    0.459129] NET: Registered PF_INET protocol family
[    0.463881] IP idents hash table entries: 65536 (order: 7, 524288 bytes, linear)
[    0.474313] tcp_listen_portaddr_hash hash table entries: 2048 (order: 3, 32768 bytes, linear)
[    0.482508] Table-perturb hash table entries: 65536 (order: 6, 262144 bytes, linear)
[    0.490151] TCP established hash table entries: 32768 (order: 6, 262144 bytes, linear)
[    0.498293] TCP bind hash table entries: 32768 (order: 8, 1048576 bytes, linear)
[    0.506559] TCP: Hash tables configured (established 32768 bind 32768)
[    0.512871] UDP hash table entries: 2048 (order: 4, 65536 bytes, linear)
[    0.519489] UDP-Lite hash table entries: 2048 (order: 4, 65536 bytes, linear)
[    0.526754] NET: Registered PF_UNIX/PF_LOCAL protocol family
[    0.532653] RPC: Registered named UNIX socket transport module.
[    0.538151] RPC: Registered udp transport module.
[    0.542830] RPC: Registered tcp transport module.
[    0.547516] RPC: Registered tcp-with-tls transport module.
[    0.552986] RPC: Registered tcp NFSv4.1 backchannel transport module.
[    0.559443] PCI: CLS 0 bytes, default 64
[    0.563690] Unpacking initramfs...
[    0.567984] workingset: timestamp_bits=62 max_order=20 bucket_order=0
[    0.574860] fuse: init (API version 7.39)
[    0.578648] NET: Registered PF_ALG protocol family
[    0.583275] Block layer SCSI generic (bsg) driver version 0.4 loaded (major 248)
[    0.590604] io scheduler mq-deadline registered
[    0.595112] io scheduler kyber registered
[    0.599114] io scheduler bfq registered
[    0.607485] s32cc-siul2-pinctrl 4009c240.siul2-pinctrl: initialized s32 pinctrl driver
[    0.616983] s32cc-siul2-gpio 4009d700.siul2-gpio: No cache defaults, reading back from HW
[    0.624904] s32cc-siul2-gpio 4009d700.siul2-gpio: No cache defaults, reading back from HW
[    0.633478] gpio gpiochip0: Static allocation of GPIO base is deprecated, use dynamic allocation.
[    0.643041] s32cc-siul2-gpio 4009d700.siul2-gpio: No cache defaults, reading back from HW
[    0.650858] s32cc-siul2-gpio 4009d700.siul2-gpio: No cache defaults, reading back from HW
[    0.671070] printk: legacy console [ttyLF0] enabled000 (irq = 23, base_baud = 7812500) is a FSL_LINFLEX
[    0.671070] printk: legacy console [ttyLF0] enabled
[    0.680983] printk: legacy bootconsole [linflex0] disabled
[    0.680983] printk: legacy bootconsole [linflex0] disabled
[    0.706031] 401cc000.serial: ttyLF1 at MMIO 0x401cc000 (irq = 24, base_baud = 7812500) is a FSL_LINFLEX
[    0.717442] s32cc_fccu 4030c000.fccu: FCCU status is 0 (normal)
[    0.726678] sja1110-sw@1 enforce active low on GPIO handle
[    0.735177] spi-nor spi6.0: mx25uw51245g (65536 Kbytes)
[    2.093818] Freeing initrd memory: 26548K
[    2.106022] 8 fixed-partitions partitions found on MTD device 0.spi
[    2.112423] Creating 8 MTD partitions on "0.spi":
[    2.117202] 0x000000000000-0x000004000000 : "Flash-Image"
[    2.123203] 0x000000000000-0x0000000d0000 : "BL2"
[    2.128348] 0x0000000d0000-0x0000002a0000 : "FIP"
[    2.133454] 0x0000002a0000-0x0000002b0000 : "U-Boot-Env"
[    2.139232] 0x0000002b0000-0x000001380000 : "Kernel"
[    2.144594] 0x000001380000-0x0000013b0000 : "DTB"
[    2.149693] 0x0000013b0000-0x0000032c0000 : "Rootfs"
[    2.155059] 0x0000032c0000-0x000004000000 : "PFE-Firmware"
[    2.163154] vcan: Virtual CAN interface driver
[    2.167676] slcan: serial line CAN interface driver
[    2.172627] CAN device driver interface
[    2.177957] flexcan 401b4000.can: device registered (reg_base=(____ptrval____), irq(s):
[    2.186099] flexcan 401b4000.can:  30
[    2.189821] flexcan 401b4000.can:  31
[    2.193554] flexcan 401b4000.can:  32
[    2.197277] flexcan 401b4000.can:  33
[    2.200987] flexcan 401b4000.can: )
[    2.205566] flexcan 401be000.can: device registered (reg_base=(____ptrval____), irq(s):
[    2.213700] flexcan 401be000.can:  34
[    2.217423] flexcan 401be000.can:  35
[    2.221135] flexcan 401be000.can:  36
[    2.224850] flexcan 401be000.can:  37
[    2.228571] flexcan 401be000.can: )
[    2.232450] e100: Intel(R) PRO/100 Network Driver
[    2.237224] e100: Copyright(c) 1999-2006 Intel Corporation
[    2.242825] e1000: Intel(R) PRO/1000 Network Driver
[    2.247772] e1000: Copyright (c) 1999-2006 Intel Corporation.
[    2.253641] e1000e: Intel(R) PRO/1000 Network Driver
[    2.258679] e1000e: Copyright(c) 1999 - 2015 Intel Corporation.
[    2.264707] igb: Intel(R) Gigabit Ethernet Network Driver
[    2.270183] igb: Copyright (c) 2007-2014 Intel Corporation.
[    2.277096] hse-uio 40210000.mu0b: firmware not found
[    2.282868] usbcore: registered new interface driver uas
[    2.288309] usbcore: registered new interface driver usb-storage
[    2.295544] imx_usb 44064000.usb: No over current polarity defined
[    2.314457] ci_hdrc ci_hdrc.0: EHCI Host Controller
[    2.319664] ci_hdrc ci_hdrc.0: new USB bus registered, assigned bus number 1
[    2.341190] ci_hdrc ci_hdrc.0: USB 2.0 started, EHCI 1.00
[    2.346944] usb usb1: New USB device found, idVendor=1d6b, idProduct=0002, bcdDevice= 6.06
[    2.355341] usb usb1: New USB device strings: Mfr=3, Product=2, SerialNumber=1
[    2.362675] usb usb1: Product: EHCI Host Controller
[    2.367625] usb usb1: Manufacturer: Linux 6.6.85-rt53-00977-g6208e1d0d7b5 ehci_hcd
[    2.375308] usb usb1: SerialNumber: ci_hdrc.0
[    2.380242] hub 1-0:1.0: USB hub found
[    2.384097] hub 1-0:1.0: 1 port detected
[    2.390085] s32cc-rtc 40060000.rtc: registered as rtc0
[    2.395336] s32cc-rtc 40060000.rtc: setting system clock to 1970-01-01T00:00:00 UTC (0)
[    2.403672] i2c_dev: i2c /dev entries driver
[    2.408596] s32cc-wdt 4010c000.watchdog: S32CC Watchdog Timer Registered. timeout=30s (nowayout=0)
[    2.418840] s32cc-wdt 40200000.watchdog: S32CC Watchdog Timer Registered. timeout=30s (nowayout=0)
[    2.428129] s32cc-wdt 40204000.watchdog: S32CC Watchdog Timer Registered. timeout=30s (nowayout=0)
[    2.437412] s32cc-wdt 40208000.watchdog: S32CC Watchdog Timer Registered. timeout=30s (nowayout=0)
[    2.448467] sdhci: Secure Digital Host Controller Interface driver
[    2.454796] sdhci: Copyright(c) Pierre Ossman
[    2.459231] sdhci-pltfm: SDHCI platform and OF driver helper
[    2.465278] SMCCC: SOC_ID: ARCH_SOC_ID not implemented, skipping ....
[    2.472371] hse 40211000.mu1b: interface mu1b not active
[    2.478365] usbcore: registered new interface driver usbhid
[    2.484037] usbhid: USB HID core driver
[    2.497626] mmc0: SDHCI controller on 402f0000.mmc [402f0000.mmc] using ADMA
[    2.505000] s32-adc 401f8000.adc: using dma0chan4 for ADC DMA transfers
[    2.512359] s32-adc 401f8000.adc: Device initialized successfully.
[    2.531288] s32-adc 402e8000.adc: using dma1chan16 for ADC DMA transfers
[    2.538377] mmc0: new high speed SDHC card at address 0001
[    2.538710] s32-adc 402e8000.adc: Device initialized successfully.
[    2.544580] mmcblk0: mmc0:0001 BB1QT 29.8 GiB
[    2.554829] hw perfevents: enabled with armv8_cortex_a53 PMU driver, 7 counters available
[    2.556899]  mmcblk0: p1 p2 p3
[    2.564980] s32-siul2-nvmem 4009c000.nvram: Initialized s32cc siul2 nvmem driver
[    2.574008] s32-siul2-nvmem 44010000.nvram: Initialized s32cc siul2 nvmem driver
[    2.582421] NET: Registered PF_INET6 protocol family
[    2.588355] Segment Routing with IPv6
[    2.592180] In-situ OAM (IOAM) with IPv6
[    2.596250] sit: IPv6, IPv4 and MPLS over IPv4 tunneling driver
[    2.602852] NET: Registered PF_PACKET protocol family
[    2.608156] can: controller area network core
[    2.612634] NET: Registered PF_CAN protocol family
[    2.617507] can: raw protocol
[    2.620519] can: broadcast manager protocol
[    2.624774] can: netlink gateway - max_hops=1
[    2.629275] 8021q: 802.1Q VLAN Support v1.8
[    2.653162] i2c i2c-0: using pinctrl states for GPIO recovery
[    2.659147] i2c i2c-0: using generic GPIOs for recovery
[    2.665220] pca953x 0-0022: using AI
[    2.675734] rtc-pcf85063 0-0051: registered as rtc1
[    2.680752] i2c i2c-0: IMX I2C adapter registered
[    2.685584] i2c i2c-0: using dma0chan5 (tx) and dma0chan6 (rx) for DMA transfers
[    2.693908] i2c i2c-2: using pinctrl states for GPIO recovery
[    2.699834] i2c i2c-2: using generic GPIOs for recovery
[    2.705245] i2c i2c-2: IMX I2C adapter registered
[    2.710080] i2c i2c-2: using dma1chan17 (tx) and dma1chan18 (rx) for DMA transfers
[    2.718468] i2c i2c-4: using pinctrl states for GPIO recovery
[    2.724369] i2c i2c-4: using generic GPIOs for recovery
[    2.731240] ina2xx 4-0040: power monitor ina231 (Rshunt = 1000 uOhm)
[    2.737747] i2c i2c-4: IMX I2C adapter registered
[    2.742583] i2c i2c-4: using dma1chan19 (tx) and dma1chan20 (rx) for DMA transfers
[    2.771445] phy-s32cc-serdes 40480000.serdes: Using mode 0 for SerDes subsystem
[    2.779344] phy-s32cc-serdes 44180000.serdes: Using mode 4 for SerDes subsystem
[    3.110109] s32cc-pcie 40400000.pcie: Failed to stabilize PHY link
[    3.116401] s32cc-pcie 40400000.pcie: Configuring as RootComplex
[    3.122552] s32cc-pcie 40400000.pcie: host bridge /soc/pcie@40400000 ranges:
[    3.129742] s32cc-pcie 40400000.pcie:       IO 0x5ffffe0000..0x5ffffeffff -> 0x0000000000
[    3.138063] s32cc-pcie 40400000.pcie:      MEM 0x5800000000..0x5ffffdffff -> 0x0000000000
[    3.146391] s32cc-pcie 40400000.pcie: Memory resource size exceeds max for 32 bits
[    4.149288] s32cc-pcie 40400000.pcie: Phy link never came up
[    4.155052] s32cc-pcie 40400000.pcie: Link Up failed, EndPoint may not be connected
[    4.162881] s32cc-pcie 40400000.pcie: iATU: unroll T, 6 ob, 4 ib, align 4K, limit 1024G
[    5.171217] s32cc-pcie 40400000.pcie: Phy link never came up
[    5.176976] s32cc-pcie 40400000.pcie: Link Up failed, EndPoint may not be connected
[    6.184903] s32cc-pcie 40400000.pcie: Phy link never came up
[    6.191231] s32cc-pcie 40400000.pcie: PCI host bridge to bus 0000:00
[    6.197690] pci_bus 0000:00: root bus resource [bus 00-ff]
[    6.203264] pci_bus 0000:00: root bus resource [io  0x0000-0xffff]
[    6.209541] pci_bus 0000:00: root bus resource [mem 0x5800000000-0x5ffffdffff] (bus address [0x00000000-0x7fffdffff])
[    6.220341] pci 0000:00:00.0: [1957:4002] type 01 class 0x060400
[    6.226456] pci 0000:00:00.0: reg 0x10: [mem 0x5800000000-0x58000fffff]
[    6.233188] pci 0000:00:00.0: reg 0x38: [mem 0x5800000000-0x580000ffff pref]
[    6.240433] pci 0000:00:00.0: supports D1
[    6.244505] pci 0000:00:00.0: PME# supported from D0 D1 D3hot D3cold
[    6.254631] pci 0000:00:00.0: BAR 0: assigned [mem 0x5800000000-0x58000fffff]
[    6.261889] pci 0000:00:00.0: BAR 6: assigned [mem 0x5800100000-0x580010ffff pref]
[    6.269578] pci 0000:00:00.0: PCI bridge to [bus 01-ff]
[    6.275263] pcieport 0000:00:00.0: PME: Signaling with IRQ 51
[    6.282360] s32cc-dwmac 4033c000.ethernet: IRQ eth_wake_irq not found
[    6.288918] s32cc-dwmac 4033c000.ethernet: IRQ eth_lpi not found
[    6.295945] s32cc-dwmac 4033c000.ethernet: User ID: 0x10, Synopsys ID: 0x51
[    6.303024] s32cc-dwmac 4033c000.ethernet:   DWMAC4/5
[    6.308069] s32cc-dwmac 4033c000.ethernet: DMA HW capability register supported
[    6.315486] s32cc-dwmac 4033c000.ethernet: RX Checksum Offload Engine supported
[    6.322901] s32cc-dwmac 4033c000.ethernet: TX Checksum insertion supported
[    6.329877] s32cc-dwmac 4033c000.ethernet: Wake-Up On Lan supported
[    6.336296] s32cc-dwmac 4033c000.ethernet: Enable RX Mitigation via HW Watchdog Timer
[    6.344243] s32cc-dwmac 4033c000.ethernet: Enabled L3L4 Flow TC (entries=8)
[    6.351308] s32cc-dwmac 4033c000.ethernet: Enabled RFS Flow TC (entries=10)
[    6.358384] s32cc-dwmac 4033c000.ethernet: Enabling HW TC (entries=256, max_off=256)
[    6.366244] s32cc-dwmac 4033c000.ethernet: Using 32/32 bits DMA host/device width
[    6.429653] hwmon hwmon1: temp1_input not attached to any thermal zone
[    6.438990] qoriq_thermal 400a8000.tmu: Critical rising/falling temperature threshold = 5 degree(s)
[    6.453722] nxp_s32cc_ddr_perf 403e0000.ddr-perf: probing device
[    6.460193] nxp_s32cc_ddr_perf 403e0000.ddr-perf: device initialized successfully
[    6.468120] clk: Disabling unused clocks
[    6.473939] Freeing unused kernel memory: 1792K
[    6.478271] Run /init as init process
[    6.504292] systemd[1]: System time before build time, advancing clock.
[    6.523682] systemd[1]: systemd 255.13^ running in system mode (+PAM -AUDIT -SELINUX -APPARMOR +IMA -SMACK +SECCOMP -GCRYPT -GNUTLS -OPENSSL +ACL +BLKID -CURL -ELFUTILS -FIDO2 -IDN2 -IDN -IPTC +KMOD -LIBCRYPTSETUP +LIBFDISK -PCRE2 -PWQUALITY -P11KIT -QRENCODE -TPM2 -BZIP2 -LZ4 -XZ -ZLIB +ZSTD -BPF_FRAMEWORK +XKBCOMMON +UTMP +SYSVINIT default-hierarchy=unified)
[    6.555227] systemd[1]: Detected architecture arm64.

Welcome to Auto Linux BSP 44.0 (scarthgap)!

[    6.577485] systemd[1]: Hostname set to <s32g274ardb2>.
[    6.582504] systemd[1]: Initializing machine ID from random generator.
[    6.947874] systemd[1]: Queued start job for default target Multi-User System.
[    6.966260] systemd[1]: Created slice Slice /system/getty.
[  OK  ] Created slice Slice /system/getty.
[    6.990748] systemd[1]: Created slice Slice /system/modprobe.
[  OK  ] Created slice Slice /system/modprobe.
[    7.014687] systemd[1]: Created slice Slice /system/serial-getty.
[  OK  ] Created slice Slice /system/serial-getty.
[    7.038150] systemd[1]: Created slice User and Session Slice.
[  OK  ] Created slice User and Session Slice.
[    7.061655] systemd[1]: Started Dispatch Password Requests to Console Directory Watch.
[  OK  ] Started Dispatch Password Requests to Console Directory Watch.
[    7.089518] systemd[1]: Started Forward Password Requests to Wall Directory Watch.
[  OK  ] Started Forward Password Requests to Wall Directory Watch.
[    7.113544] systemd[1]: Reached target Path Units.
[  OK  ] Reached target Path Units.
[    7.133347] systemd[1]: Reached target Remote File Systems.
[  OK  ] Reached target Remote File Systems.
[    7.153324] systemd[1]: Reached target Slice Units.
[  OK  ] Reached target Slice Units.
[    7.173348] systemd[1]: Reached target Swaps.
[  OK  ] Reached target Swaps.
[    7.194079] systemd[1]: Listening on Syslog Socket.
[  OK  ] Listening on Syslog Socket.
[    7.213712] systemd[1]: Listening on initctl Compatibility Named Pipe.
[  OK  ] Listening on initctl Compatibility Named Pipe.
[    7.244155] systemd[1]: Journal Audit Socket was skipped because of an unmet condition check (ConditionSecurity=audit).
[    7.255246] systemd[1]: Listening on Journal Socket (/dev/log).
[  OK  ] Listening on Journal Socket (/dev/log).
[    7.278046] systemd[1]: Listening on Journal Socket.
[  OK  ] Listening on Journal Socket.
[    7.298169] systemd[1]: Listening on Network Service Netlink Socket.
[  OK  ] Listening on Network Service Netlink Socket.
[    7.322111] systemd[1]: Listening on udev Control Socket.
[  OK  ] Listening on udev Control Socket.
[    7.341872] systemd[1]: Listening on udev Kernel Socket.
[  OK  ] Listening on udev Kernel Socket.
[    7.361913] systemd[1]: Listening on User Database Manager Socket.
[  OK  ] Listening on User Database Manager Socket.
[    7.405474] systemd[1]: Mounting Huge Pages File System...
        [    7.411314] systemd[1]: POSIX Message Queue File System was skipped because of an unmet condition check (ConditionPathExists=/proc/sys/fs/mqueue).
 Mounting Huge Pages File S[    7.427451] systemd[1]: Mounting Kernel Debug File System...
ystem...
         Mounting Kernel Debug File System...
[    7.461835] systemd[1]: Kernel Trace File System was skipped because of an unmet condition check (ConditionPathExists=/sys/kernel/tracing).
[    7.474420] systemd[1]: Create List of Static Device Nodes was skipped because of an unmet condition check (ConditionFileNotEmpty=/lib/modules/6.6.85-rt53-00977-g6208e1d0d7b5/modules.devname).
[    7.494871] systemd[1]: Starting Load Kernel Module configfs...
         Starting Load Kernel Module configfs...
[    7.524753] systemd[1]: Starting Load Kernel Module drm...
         Starting Load Kernel Module drm...
[    7.552964] systemd[1]: Starting Load Kernel Module fuse...
         Starting Load Kernel Module fuse...
[    7.577633] systemd[1]: File System Check on Root Device was skipped because of an unmet condition check (ConditionPathIsReadWrite=!/).
[    7.596508] systemd[1]: Starting Journal Service...
         Starting Journal Service...
[    7.621357] systemd[1]: Starting Load Kernel Modules...
         Starting Load Kernel Modules...
[    7.648658] systemd[1]: Starting Generate network units from Kernel command line...
         Starting Generate network units from Kernel command line...
[    7.665230] sja1110: loading out-of-tree module taints kernel.
[    7.671221] SPI driver sja1110 has no spi_device_id for nxp,sja1110-switch
[    7.677677] SPI driver sja1110 has no spi_device_id for nxp,sja1110-uc
[    7.684319] sja1110 spi5.0: probing uc
[    7.688073] sja1110 spi5.1: probing switch
[    7.692398] sja1110 spi5.1: Could not get GPIO from device tree
[    7.697967] sja1110 spi5.1: [sja1110_post_probe_upload_worker] Trying to initialize switch
[    7.703169] systemd-journald[115]: Collecting audit messages is disabled.
[    7.706321] sja1110 spi5.1: Direct firmware load for sja1110_switch.bin failed with error -2
[    7.712551] systemd[1]: Starting Remount Root and Kernel File Systems...
[    7.728345] sja1110 spi5.1: request_firmware failed with -2
[    7.728360] sja1110 spi5.0: [sja1110_post_probe_upload_worker] Trying to initialize uC
[    7.728449] sja1110 spi5.0: Direct firmware load for sja1110_uc.bin failed with error -2
[    7.728460] sja1110 spi5.0: request_firmware failed with -2
         Starting Remount Root and[    7.758947] systemd[1]: Starting Create Static Device Nodes in /dev gracefully...
 Kernel File Systems...
         Starting Create Static Device Nodes in /dev gracefully...
[    7.806287] systemd[1]: Starting Coldplug All udev Devices...
         Starting Coldplug All udev Devices...
[    7.826085] systemd[1]: Mounted Huge Pages File System.
[  OK  ] Mounted Huge Pages File System.
[    7.854154] systemd[1]: Started Journal Service.
[  OK  ] Started Journal Service.
[  OK  ] Mounted Kernel Debug File System.
[  OK  ] Finished Load Kernel Module configfs.
[  OK  ] Finished Load Kernel Module drm.
[  OK  ] Finished Load Kernel Module fuse.
[  OK  ] Finished Load Kernel Modules.
[  OK  ] Finished Generate network units from Kernel command line.
[  OK  ] Finished Remount Root and Kernel File Systems.
[  OK  ] Finished Create Static Device Nodes in /dev gracefully.
[  OK  ] Reached target Preparation for Network.
         Mounting FUSE Control File System...
         Mounting Kernel Configuration File System...
         Starting Flush Journal to Persistent Storage...
         Starting Apply Kernel Variables...
[    8.192202] systemd-journald[115]: Received client request to flush runtime journal.
         Starting Create System Users...
[  OK  ] Mounted FUSE Control File System.
[  OK  ] Mounted Kernel Configuration File System.
[  OK  ] Finished Flush Journal to Persistent Storage.
[  OK  ] Finished Apply Kernel Variables.
[  OK  ] Finished Coldplug All udev Devices.
         Starting User Database Manager...
[  OK  ] Started User Database Manager.
[  OK  ] Finished Create System Users.
         Starting Create Static Device Nodes in /dev...
[  OK  ] Finished Create Static Device Nodes in /dev.
[  OK  ] Reached target Preparation for Local File Systems.
         Mounting /tmp...
         Mounting /var/volatile...
         Starting Rule-based Manager for Device Events and Files...
[  OK  ] Mounted /tmp.
[  OK  ] Mounted /var/volatile.
         Mounting /var/volatile/tmp...
         Starting Load/Save OS Random Seed...
[  OK  ] Mounted /var/volatile/tmp.
[  OK  ] Reached target Local File Systems.
         Starting Rebuild Dynamic Linker Cache...
         Starting Create System Files and Directories...
[  OK  ] Started Rule-based Manager for Device Events and Files.
[  OK  ] Finished Rebuild Dynamic Linker Cache.
[    8.944758] s32cc-dwmac 4033c000.ethernet end0: renamed from eth0
         Starting Network Configuration...
[  OK  ] Finished Create System Files and Directories.
         Starting Rebuild Journal Catalog...
         Starting Network Name Resolution...
         Starting Network Time Synchronization...
         Starting Record System Boot/Shutdown in UTMP...
[  OK  ] Finished Rebuild Journal Catalog.
[    9.520959] pfeng 46000000.pfe: PFEng ethernet driver loading ...
         Starting Update is Completed...
[    9.545456] pfeng 46000000.pfe: Version: 1.9.0
[  OK  ] Finished Record System Boot/Shutdown in UT[    9.572757] pfeng 46000000.pfe: Driver commit hash: M4_DRIVER_COMMIT_HASH
MP.
[    9.602651] pfeng 46000000.pfe: Multi instance support: disabled (standalone)
[    9.628929] pfeng 46000000.pfe: Compiled by: 13.3.0
[    9.641306] pfeng 46000000.pfe: Cbus addr 0x46000000 size 0x1000000
[    9.656520] pfeng 46000000.pfe: nxp,fw-class-name: s32g_pfe_class.fw
[    9.681267] pfeng 46000000.pfe: nxp,fw-util-name: s32g_pfe_util.fw
[    9.694128] pfeng 46000000.pfe: netif name: pfe0
[    9.698729] pfeng 46000000.pfe: DT mac addr: 00:04:9f:be:ef:00
[    9.713960] pfeng 46000000.pfe: netif(pfe0) linked phyif: 0
[  OK  ] Finished Update is Completed.
[    9.727237] pfeng 46000000.pfe: netif(pfe0) mode: std
[    9.732907] pfeng 46000000.pfe: netif(pfe0) HIFs: count 1 map 01
[    9.747029] pfeng 46000000.pfe: EMAC0 interface mode: 4
[    9.761512] pfeng 46000000.pfe: netif name: pfe1
[    9.768790] pfeng 46000000.pfe: DT mac addr: 00:04:9f:be:ef:01
[    9.774456] pfeng 46000000.pfe: netif(pfe1) linked phyif: 1
[    9.780658] pfeng 46000000.pfe: netif(pfe1) mode: std
[    9.785546] pfeng 46000000.pfe: netif(pfe1) HIFs: count 1 map 02
       [    9.791894] pfeng 46000000.pfe: EMAC1 interface mode: 4
  Starting Virtual Console Se[    9.800440] pfeng 46000000.pfe: netif name: pfe2
tup...
[    9.806979] pfeng 46000000.pfe: DT mac addr: 00:04:9f:be:ef:02
[    9.814793] pfeng 46000000.pfe: netif(pfe2) linked phyif: 2
[    9.820437] pfeng 46000000.pfe: netif(pfe2) mode: std
[    9.827088] pfeng 46000000.pfe: netif(pfe2) HIFs: count 1 map 04
[    9.827169] s32cc-dwmac 4033c000.ethernet end0: Register MEM_TYPE_PAGE_POOL RxQ-0
[    9.832942] pfeng 46000000.pfe: EMAC2 interface mode: 10
[    9.846990] pfeng 46000000.pfe: HIF channels mask: 0x0007
[    9.852342] pfeng 46000000.pfe: PFE port coherency enabled, mask 0x1e
[    9.853580] s32cc-dwmac 4033c000.ethernet end0: Register MEM_TYPE_PAGE_POOL RxQ-1
[    9.858858] pfeng 46000000.pfe: Clocks: sys=300MHz pe=600MHz
[  [    9.872384] s32cc-dwmac 4033c000.ethernet end0: Register MEM_TYPE_PAGE_POOL RxQ-2
OK  [    9.880246] pfeng 46000000.pfe: Interface selected: EMAC0: 0x4 EMAC1: 0x4 EMAC2: 0xa
] S[    9.888559] s32cc-dwmac 4033c000.ethernet end0: Register MEM_TYPE_PAGE_POOL RxQ-3
tart[    9.896366] pfeng 46000000.pfe: PFE controller reset done
ed     9.902453] s32cc-dwmac 4033c000.ethernet end0: Register MEM_TYPE_PAGE_POOL RxQ-4
;39mN[    9.910344] pfeng 46000000.pfe: TX clock on EMAC0 for interface sgmii installed
etwork Configuration pfeng 46000000.pfe: RX clock on EMAC0 for interface sgmii installed
[0m.
[    9.927830] pfeng 46000000.pfe: TX clock on EMAC1 for interface sgmii installed
[    9.934858] pfeng 46000000.pfe: RX clock on EMAC1 for interface sgmii installed
[    9.934930] pfeng 46000000.pfe: TX clock on EMAC2 for interface rgmii-id installed
[  OK  ] Started     9.950455] pfeng 46000000.pfe: RX clock on EMAC2 for interface rgmii-id installed
;3[    9.950744] pfeng 46000000.pfe: assigned reserved memory node pfebufs@34000000
9m[    9.950817] pfeng 46000000.pfe: assigned reserved memory node pfebufs@34080000
N[    9.950899] pfeng 46000000.pfe: assigned reserved memory node pfebufs@83200000
e[    9.950941] pfeng 46000000.pfe: assigned reserved memory node pfebufs@835e0000
t[    9.951345] pfeng 46000000.pfe: Firmware: CLASS s32g_pfe_class.fw [45724 bytes]
w[    9.951360] pfeng 46000000.pfe: Firmware: UTIL s32g_pfe_util.fw [23352 bytes]
o[    9.951376] pfeng 46000000.pfe: PFE CBUS p0x46000000 mapped @ v0xffffffc082000000 (0x1000000 bytes)
rk[    9.951390] pfeng 46000000.pfe: Silicon S32G2
 [    9.952701] pfeng 46000000.pfe: PFE_ERRORS:Parity instance created
T[    9.997238] s32cc-dwmac 4033c000.ethernet end0: PHY [stmmac-0:01] driver [Micrel KSZ9031 Gigabit PHY] (irq=POLL)
i[   10.004108] pfeng 46000000.pfe: PFE_ERRORS:Watchdog instance created
m[   10.021658] dwmac4: Master AXI performs any burst length
e[   10.023931] pfeng 46000000.pfe: BMU1 buffer base: p0xc0000000
 [   10.034258] s32cc-dwmac 4033c000.ethernet end0: Enabling Safety Features
S[   10.040658] pfeng 46000000.pfe: BMU2 buffer base: p0x34000000 (0x80000 bytes)
y[   10.046036] s32cc-dwmac 4033c000.ethernet end0: IEEE 1588-2008 Advanced Timestamp supported
nc[   10.053067] pfeng 46000000.pfe: register IRQ 67 by name 'PFE BMU IRQ'
h[   10.058915] s32cc-dwmac 4033c000.ethernet end0: registered PTP clock
r[   10.069129] pfeng 46000000.pfe: Firmware .elf detected
o[   10.069429] pfeng 46000000.pfe: BMU_EMPTY_INT (BMU @ p0x(____ptrval____)). Pool ready.
n[   10.069448] pfeng 46000000.pfe: BMU_EMPTY_INT (BMU @ p0x(____ptrval____)). Pool ready.
iza[   10.108381] pfeng 46000000.pfe: Uploading CLASS firmware
t[   10.108407] pfeng 46000000.pfe: Selected FW loading OPs to load 8 PEs in parallel
io[   10.121497] s32cc-dwmac 4033c000.ethernet end0: FPE workqueue start
n s32cc-dwmac 4033c000.ethernet end0: configuring for phy/rgmii-id link mode
[[   10.128253] pfeng 46000000.pfe: pfe_ct.h file version"92367c0e25f21f49217a9b08168ad2c8"
0[   10.136800] 8021q: adding VLAN 0 to HW filter on device end0
m.
[  OK  ] Reached target System Time Set.
[   10.160065] pfeng 46000000.pfe: [FW VERSION] 1.11.0, Build: May 12 2025, 12:42:24 (52549baa), ID: 0x31454650
[   10.173545] pfeng 46000000.pfe: EMAC timestamp external mode bitmap: 0
[   10.179842] pfeng 46000000.pfe: Uploading UTIL firmware
[   10.179862] pfeng 46000000.pfe: Selected FW loading OPs to load 1 PEs in parallel
[   10.182371] pfeng 46000000.pfe: pfe_ct.h file version"92367c0e25f21f49217a9b08168ad2c8"
[   10.202895] pfeng 46000000.pfe: FW feature: drv_run_on_g3
2[   10.208394] pfeng 46000000.pfe: FW feature: jumbo_frames
m[   10.213761] pfeng 46000000.pfe: FW feature: ptp_qos_mapping
 [   10.219398] pfeng 46000000.pfe: FW feature: software_vlan_table
 [   10.225383] pfeng 46000000.pfe: FW feature: timestamping
O[   10.230768] pfeng 46000000.pfe: FW feature: qos_mapping
K[   10.236061] pfeng 46000000.pfe: FW feature: core_functionality
  ] [   10.242551] pfeng 46000000.pfe: FW feature: extended_features
St[   10.248437] pfeng 46000000.pfe: FW feature: flexible_router
a[   10.254142] pfeng 46000000.pfe: FW feature: validate_hif_csum
r[   10.259960] pfeng 46000000.pfe: FW feature: err051211_workaround
t[   10.266013] pfeng 46000000.pfe: FW feature: IPsec
e[   10.270779] pfeng 46000000.pfe: FW feature: l2_bridge_aging
d[   10.276443] pfeng 46000000.pfe: FW feature: receive_malformed
 [   10.282242] pfeng 46000000.pfe: FW feature: ptp_conf_check
 pfeng 46000000.pfe: FW feature: vlan_conf_check
[[   10.293444] pfeng 46000000.pfe: FW feature: hash_load_spread
0[   10.299178] pfeng 46000000.pfe: FW feature: ingress_vlan
;[   10.304583] pfeng 46000000.pfe: FW feature: safety
[   10.312281] pfeng 46000000.pfe: VLAN ID incorrect or not set. Using default VLAN ID = 0x01.

[   10.320737] pfeng 46000000.pfe: VLAN stats size incorrect or not set. Using default VLAN stats size = 20.
t[   10.330414] pfeng 46000000.pfe: Software vlan hash table @ p0x20001288
ing [   10.337252] pfeng 46000000.pfe: Fall-back bridge domain @ 0x20000a8c (class)
 pfeng 46000000.pfe: Default bridge domain @ 0x20000a84 (class)
[0;1;39m[   10.351907] pfeng 46000000.pfe: Routing table created, Hash Table @ p0x34080000, Pool @ p0x34088000 (65536 bytes)
Load[   10.362547] pfeng 46000000.pfe: Feature err051211_workaround: DISABLED
 Kernel Modules...
         Starting Generate[   10.374207] pfeng 46000000.pfe: HIF0 enabled
 netwo[   10.379027] pfeng 46000000.pfe: HIF1 enabled
rk u[   10.383658] pfeng 46000000.pfe: HIF2 enabled
n[   10.387971] pfeng 46000000.pfe: HIF3 not configured, skipped
i[   10.393689] pfeng 46000000.pfe: MDIO bus 0 disabled: Not found in DT
t[   10.400117] pfeng 46000000.pfe: MDIO bus 1 disabled: Not found in DT
s from Kernel command line...
         Starting Remount Root and Kernel File Systems   10.415240] pfeng 46000000.pfe: MDIO bus 2 enabled
0m.[   10.420210] pfeng 46000000.pfe pfe0 (uninitialized): fixed link full duplex 2500Mbps not recognised
..[   10.429462] phy-s32cc-serdes 44180000.serdes: Unstable RX detected on XPCS0
[   10.436544] pfeng 46000000.pfe pfe0 (uninitialized): Subscribe to HIF0

[   10.443198] pfeng 46000000.pfe pfe0 (uninitialized): Host LLTX disabled
   [   10.450034] pfeng 46000000.pfe pfe0 (uninitialized): Enable HIF0
 [   10.456109] pfeng 46000000.pfe pfe0 (uninitialized): setting MAC addr: 00:04:9f:be:ef:00
 [   10.464271] pfeng 46000000.pfe pfe0 (uninitialized): PTP HW addend 0x80000000, max_adj configured to 46566128 ppb
 [   10.474604] pfeng 46000000.pfe: IEEE1588: Input Clock: 200000000Hz, Output: 100000000Hz, Accuracy: 10.0ns
   Starti[   10.484901] pfeng 46000000.pfe pfe0 (uninitialized): Registered PTP HW clock successfully on EMAC0
ng C[   10.494946] pfeng 46000000.pfe pfe0: registered
reat[   10.499847] phy-s32cc-serdes 44180000.serdes: Unstable RX detected on XPCS1
e [   10.506949] pfeng 46000000.pfe pfe1 (uninitialized): Subscribe to HIF1
St[   10.513605] pfeng 46000000.pfe pfe1 (uninitialized): Host LLTX disabled
ati[   10.520525] pfeng 46000000.pfe pfe1 (uninitialized): Enable HIF1
c[   10.526605] pfeng 46000000.pfe pfe1 (uninitialized): setting MAC addr: 00:04:9f:be:ef:01
 [   10.534779] pfeng 46000000.pfe pfe1 (uninitialized): PTP HW addend 0x80000000, max_adj configured to 46566128 ppb
D[   10.545087] pfeng 46000000.pfe: IEEE1588: Input Clock: 200000000Hz, Output: 100000000Hz, Accuracy: 10.0ns
evice Nod[   10.555419] pfeng 46000000.pfe pfe1 (uninitialized): Registered PTP HW clock successfully on EMAC1
es in /dev g[   10.565376] pfeng 46000000.pfe pfe1: registered
ra[   10.570072] pfeng 46000000.pfe pfe2 (uninitialized): Subscribe to HIF2
ce[   10.576707] pfeng 46000000.pfe pfe2 (uninitialized): Host LLTX disabled
full[   10.583643] pfeng 46000000.pfe pfe2 (uninitialized): Enable HIF2
y[   10.589782] pfeng 46000000.pfe pfe2 (uninitialized): setting MAC addr: 00:04:9f:be:ef:02
 pfeng 46000000.pfe pfe2 (uninitialized): PTP HW addend 0x80000000, max_adj configured to 46566128 ppb
[[   10.608264] pfeng 46000000.pfe: IEEE1588: Input Clock: 200000000Hz, Output: 100000000Hz, Accuracy: 10.0ns
0m...
[   10.618533] pfeng 46000000.pfe pfe2 (uninitialized): Registered PTP HW clock successfully on EMAC2
         Starting[   10.628864] pfeng 46000000.pfe pfe2: registered
 Coldplug All udev Devices...
[  OK  ] Mounted Huge Pages File System.
[  OK  ] Started Journal Service.
[  OK  ] Mounted Kernel Debug File System.
[  OK  ] Finished Load Kernel Module configfs.
[  OK  ] Finished Load Kernel Module drm.
[  OK  ] Finished Load Kernel Module fuse.
[  OK  ] Finished Load Kernel Modules.
[  OK  ] Finished Generate network units from Kernel command line.
[  OK  ] Finished Remount Root and Kernel File Systems.
[  OK  ] Finished Create Static Device Nodes in /dev gracefully.
[  OK  ] Reached targ[   10.704097] pfeng 46000000.pfe: HIF1 started
et Preparation for Network.
         Mounting FUSE Control File System...
      [   10.717875] pfeng 46000000.pfe pfe1: PHY [stmmac-0:08] driver [Aquantia AQR113C] (irq=POLL)
   Mounting    10.727570] pfeng 46000000.pfe pfe1: configuring for phy/sgmii link mode
1;39mKernel Configuration File System...
[   10.744499] pfeng 46000000.pfe: HIF2 startedtorage...

         Starting Apply Kernel Variables...
         Starting Create System Users...
[  OK  ] Mounted FUSE Control File System.
[  OK  ] Mounted Kernel Configuration File System.
[  OK  ] Finished Flush Journal to Persistent Storage.
[  OK  ] Finished Apply Kernel Variables.
[  OK  ] Finished Coldplug All udev[   10.789223] pfeng 46000000.pfe pfe2: PHY [pfeng-emac-2:04] driver [Micrel KSZ9031 Gigabit PHY] (irq=POLL)
 [   10.798902] pfeng 46000000.pfe pfe2: configuring for phy/rgmii-id link mode
Devices.
         Starting User Database Manager...
[  O[   10.813084] pfeng 46000000.pfe: HIF0 started
K  [   10.817624] pfeng 46000000.pfe pfe0: configuring for fixed/sgmii link mode
] Started User Database Man[   10.827889] pfeng 46000000.pfe pfe0: Link is Up - 2.5Gbps/Full - flow control off
ager.
[  OK  ] Finished Create System Users.
         Starting Create Static Device Nodes in /dev...
[  OK  ] Finished Create Static Device Nodes in /dev.
[  OK  ] Reached target Preparation for Local File Systems.
         Mounting /tmp...
         Mounting /var/volatile...
         Starting Rule-based Manager for Device Events and Files...
[  OK  ] Mounted /tmp.
[  OK  ] Mounted /var/volatile.
         Mounting /var/volatile/tmp...
         Starting Load/Save OS Random Seed...
[  OK  ] Mounted /var/volatile/tmp.
[  OK  ] Reached target Local File Systems.
         Starting Rebuild Dynamic Linker Cache...
         Starting Create System Files and Directories...
[  OK  ] Started Rule-based Manager for Device Events and Files.
[  OK  ] Finished Rebuild Dynamic Linker Cache.
         Starting Network Configuration...
[  OK  ] Finished Create System Files and Directories.
         Starting Rebuild Journal Catalog...
         Starting Network Name Resolution...
         Starting Network Time Synchronization...
         Starting Record System Boot/Shutdown in UTMP...
[  OK  ] Finished Rebuild Journal Catalog.
         Starting Update is Completed...
[  OK  ] Finished Record System Boot/Shutdown in UTMP.
[  OK  ] Finished Update is Completed.
         Starting Virtual Console Setup...
[  OK  ] Started Network Configuration.
[  OK  ] Started Network Time Synchronization.
[  OK  ] Reached target System Time Set.
[  OK  ] Started Network Name Resolution.
[  OK  ] Finished Virtual Console Setup.
[  OK  ] Created slice Slice /system/systemd-fsck.
[  OK  ] Reached target Network.
[  OK  ] Reached target Host and Network Name Lookups.
[  OK  ] Reached target System Initialization.
[  OK  ] Started Daily Cleanup of Temporary Directories.
[  OK  ] Reached target Timer Units.
[  OK  ] Listening on D-Bus System Message Bus Socket.
[  OK  ] Reached target Socket Units.
[  OK  ] Reached target Basic System.
[  OK  ] Started Kernel Logging Service.
[  OK  ] Started System Logging Service.
         Starting D-Bus System Message Bus...
[  OK  ] Started Hardware RNG Entropy Gatherer Daemon.
         Starting File System Check on /dev/mmcblk0p2...
         Starting File System Check on /dev/mmcblk0p3...
         Starting User Login Management...
         Starting Permit User Sessions...
[  OK  ] Finished File System Check on /dev/mmcblk0p2.
         Mounting /run/media/boot_s32g2-mmcblk0p2...
[  OK  ] Finished Permit User Sessions.
[  OK  ] Started Getty on tty1.
[  OK  ] Started Serial Getty on ttyLF0.
[  OK  ] Reached target Login Prompts.
[  OK  ] Started User Login Management.
[   11.940248] FAT-fs (mmcblk0p2): Volume was not properly unmounted. Some data may be corrupt. Please run fsck.
[  OK  ] Mounted /run/media/boot_s32g2-mmcblk0p2.
[  OK  ] Finished File System Check on /dev/mmcblk0p3.
         Mounting /run/media/fsl-image-auto-s-mmcblk0p3...
[   13.198804] EXT4-fs (mmcblk0p3): mounted filesystem c8d6bf0d-db58-4b91-9d8d-949e6b280d4a r/w with ordered data mode. Quota mode: disabled.
[  OK  ] Mounted /run/media/fsl-image-auto-s-mmcblk0p3.
[   13.357201] random: crng init done
[  OK  ] Finished Load/Save OS Random Seed.
[  OK  ] Started D-Bus System Message Bus.
[  OK  ] Reached target Multi-User System.
         Starting Record Runlevel Change in UTMP...
[  OK  ] Finished Record Runlevel Change in UTMP.

Auto Linux BSP 44.0 s32g274ardb2 ttyLF0

s32g274ardb2 login: root
root@s32g274ardb2:~# # --- 0. 이전 설정 초기화 (PFE 및 Linux) ---
root@s32g274ardb2:~# echo "[INFO] Performing full cleanup..."
[INFO] Performing full cleanup...
root@s32g274ardb2:~# # PFE 브릿지 도메인 삭제 시도
root@s32g274ardb2:~# libfci_cli bd-del --vlan 10 2>/dev/null || echo "PFE BD 10 not found or already deleted."
DISCLAIMER: This is a DEMO application. It is not[   19.059331] pfeng 46000000.pfe: Domain 10 not found
 part of the production code deliverables.
ERROR (61954): demo_l2_bd[   19.070185] pfeng 46000000.pfe: Domain 250 not found
_del() failed!
ERROR (61954): FPP_ERR_L2_BD_NOT_FOUND
Requested bridge domain not found.
Is the VLAN ID correct?
PFE BD 10 not found or already deleted.
root@s32g274ardb2:~# libfci_cli bd-del --vlan 250 2>/dev/null || echo "PFE BD 250 not found or already deleted." # ��
�전 테스트에서 사용했을 수 있음
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
ERROR (61954): demo_l2_bd_del() failed!
ERROR (61954): FPP_ERR_L2_BD_NOT_FOUND
Requested bridge domain not found.
Is the VLAN ID correct?
PFE BD 250 not found or already deleted.
root@s32g274ardb2:~#
root@s32g274ardb2:~# # PFE 인터페이스를 DEFAULT 모드로, 비활성화했다가 다시 활성화 (HIF 경로 �
��본값으로 [   19.140970] pfeng 46000000.pfe: Feature 'vlan_conf_check' is not available (not enabled in FW).
��[   19.149847] pfeng 46000000.pfe: Feature 'ptp_conf_check' is not available (not enabled in FW).
�도[   19.158767] pfeng 46000000.pfe: emac0: Disabling Flexible Filter
)
root@s32g274ardb2:~# for pfe_if_name in emac0 emac[   19.169365] pfeng 46000000.pfe: Feature 'vlan_conf_check' is not available (not enabled in FW).
1[   19.178177] pfeng 46000000.pfe: Feature 'ptp_conf_check' is not available (not enabled in FW).
 ema[   19.187058] pfeng 46000000.pfe: emac1: Disabling Flexible Filter
c2; do
>     libfci_cli phyif-update --interface "$pf[   19.197757] pfeng 46000000.pfe: Feature 'vlan_conf_check' is not available (not enabled in FW).
e_[   19.206620] pfeng 46000000.pfe: Feature 'ptp_conf_check' is not available (not enabled in FW).
if_[   19.215518] pfeng 46000000.pfe: emac2: Disabling Flexible Filter
name" --mode DEFAULT --disable 2>/dev/null || true
> done
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~# sleep 1
# Linux 브릿지 및 인터페이스 IP 초기화
ip link set pfe0 down 2>/dev/null || true
ip link set pfe1 down 2>/dev/null || true # pfe1도 고려
ip link set pfe2 down 2>/dev/null || true
ip link set br0 down 2>/dev/null || true
ip link delete br0 type bridge 2>/dev/null || true
ip addr flush dev pfe0 2>/dev/null || true
ip addr flush dev pfe1 2>/dev/null || true
ip addr flush dev pfe2 2>/dev/null || true
echo "[INFO] Linux bridge and interface IPs flushed."
sleep 1

# --- 1. 브릿지 커널 모듈 로드 ---
echo "[STEP 1] Loading bridge module..."
modprobe bridge

# --- 2. Linux 브릿지 인터페이스 생성 및 활성화 ---
echo "[STEP 2] Creating Linux bridge interface br0 and bringing it up..."
ip link add name br0 type bridge
ip link set dev br0 up

# --- 3. pfe0 및 pfe2를 Linux 브릿지에 멤버로 추가 ---
#    (pfe1은 일단 제외하고 가장 간단하게 pfe0, pfe2만 사용)
echo "[STEP 3] Adding pfe0 and pfe2 as members to br0..."
ip link set dev pfe0 master br0
ip link set dev pfe2 master br0

# --- 4. 멤버 인터페이스 pfe0 및 pfe2 활성화 ---
echo "[STEP 4] Bringing up pfe0 and pfe2..."
# PFE 인터페이스가 DEFAULT 모드이고, LIF가 HIF로 egress하도록 되어 있다면,
# Linux에서 pfe0/pfe2를 UP 시키는 것만으로도 PFE를 통해 패킷이 HIF로 전달되어야 함.
ip link set dev pfe0 up
ip link set dev pfe2 up

# --- 5. Linux 브릿지 br0에 IP 주소 할당 ---
BRIDGE_IP="192.168.200.1"
echo "[STEP 5] Assigning IP $BRIDGE_IP/24 to br0..."
ip addr add "${BRIDGE_IP}/24" dev br0

# --- 네트워크 안정화 대기 ---
echo "[INFO] Waiting for network to settle (5 seconds)..."
sleep 5

# --- 상태 확인 ---
echo "[INFO] Current Linux network configuration:"
echo "--- br0 ---"
ip addr show dev br0
echo "--- pfe0 ---"
ip link show dev pfe0
echo "--- pfe2 ---"
ip link show dev pfe2
brctl show br0 2>/dev/null || echo "(brctl command not available)"

# --- 6. Ping 테스트 ---
# 이전 성공 사례에서는 192.168.200.2로 ping을 보냈습니다.
# 이 IP가 S32G의 다른 인터페이스(가상 인터페이스 포함)이거나,
# pfe0/pfe2에 루프백으로 연결된 다른 장치의 IP여야 합니다.
# 만약 pfe0과 pfe2가 루프백으로 연결되어 있고,
# br0이 두 포트를 브릿징한다면, br0은 다른 IP(192.168.200.2)로 응답할 수 있는
# 경로를 가져야 합니다.
# 가장 간단한 테스트는 br0의 IP로 ping하는 것입니다.
# 하지만 이전 성공 사례를 따라 192.168.200.2로 시도해 보겠습니다.
TARGET_IP_FOR_PING="192.168.200.2" # 이전 성공 사례
# ALTERNATIVE_TARGET_IP="$BRIDGE_IP" # br0 자신의 IP

root@s32g274ardb2:~# for pfe_if_name in emac0 emac1 emac2; do
>     lib[   20.228939] pfeng 46000000.pfe: Feature 'vlan_conf_check' is not available (not enabled in FW).
fc[   20.237812] pfeng 46000000.pfe: Feature 'ptp_conf_check' is not available (not enabled in FW).
i_cl[   20.246731] pfeng 46000000.pfe: emac0: Disabling Flexible Filter
i phyif-update --interface "$pfe_if_name" --mode DEFA[   20.257324] pfeng 46000000.pfe: Feature 'vlan_conf_check' is not available (not enabled in FW).
UL[   20.266183] pfeng 46000000.pfe: Feature 'ptp_conf_check' is not available (not enabled in FW).
T -[   20.275111] pfeng 46000000.pfe: emac1: Disabling Flexible Filter
-enable 2>/dev/null || true
> done
DISCLAIMER: This is[   20.285879] pfeng 46000000.pfe: Feature 'vlan_conf_check' is not available (not enabled in FW).
 a[   20.294768] pfeng 46000000.pfe: Feature 'ptp_conf_check' is not available (not enabled in FW).
 DEM[   20.303686] pfeng 46000000.pfe: emac2: Disabling Flexible Filter
O application. It is not part of the production code deliverables.
Command successfu[   20.317076] pfeng 46000000.pfe pfe0: Link is Down
lly executed.
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
echo "[STEP 6] Starting ping test from br0 (source IP $BRIDGE_IP) to $TARGET_IP_FOR_PING..."
# ping -c 4 "$TARGET_IP_FOR_PING"
# 만약 위 ping이 실패하면, br0 자신의 IP로도 시도
ping -c 4 "$TARGET_IP_FOR_PING" || (echo "Ping to $TARGET_IP_FOR_PING failed, trying $BRIDGE_IP..." && ping -c 4 "$BRIDGE_IP")

echo "[INFO] Ping test finished."
echo "[INFO] If ping was successful, the basicCommand successfully executed.
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
 Linux bridging setup is working."
echo "[INFO] If not, check physical loopback connection between pfe0 and pfe2, and ensure pfe2 link is UP (no NO-CARRIER)."Command successfully executed.
root@s32g274ardb2:~# echo "[INFO] PFE interfaces reset to DEFAULT mode and re-enabled."
[INFO] PFE interfaces reset to DEFAULT mode and re-enabled.
root@s32g274ardb2:~#
root@s32g274ardb2:~# # Linux 브릿지 및 인터페이스 IP 초기화
root@s32g274ardb2:~# ip link set pfe0 down 2>/dev/null || true
root@s32g274ardb2:~# ip link set pfe1 down 2>/dev/null || true # pfe1도 고려
root@s32g274ardb2:~# ip link set pfe2 down 2>/dev/null || true
root@s32g274ardb2:~# ip link set br0 down 2>/dev/null || true
root@s32g274ardb2:~# ip link delete br0 type bridge 2>/dev/null || true
root@s32g274ardb2:~# ip addr flush dev pfe0 2>/dev/null || true
root@s32g274ardb2:~# ip addr flush dev pfe1 2>/dev/null || true
root@s32g274ardb2:~# ip addr flush dev pfe2 2>/dev/null || true
root@s32g274ardb2:~# echo "[INFO] Linux bridge and interface IPs flushed."
[INFO] Linux bridge and interface IPs flushed.
root@s32g274ardb2:~# sleep 1
root@s32g274ardb2:~#
root@s32g274ardb2:~# # --- 1. 브릿지 커널 모듈 로드 ---
root@s32g274ardb2:~# echo "[STEP 1] Loading bridge module..."
[STEP 1] Loading bridge module...
root@s32g274ardb2:~# modprobe bridge
root@s32g274ardb2:~#
root@s32g274ardb2:~# # --- 2. Linux 브릿지 인터페이스 생성 및 활성화 ---
ro[   21.427991] br0: port 1(pfe0) entered blocking state
ot@[   21.433269] br0: port 1(pfe0) entered disabled state
s3[   21.438382] pfeng 46000000.pfe pfe0: entered allmulticast mode
2g274a[   21.444745] pfeng 46000000.pfe pfe0: entered promiscuous mode
rdb2:~# echo "[STEP 2] Creating Linux bridge interface br0 and brin[   21.456199] br0: port 2(pfe2) entered blocking state
gin[   21.461452] br0: port 2(pfe2) entered disabled state
g i[   21.466643] pfeng 46000000.pfe pfe2: entered allmulticast mode
t up..[   21.472978] pfeng 46000000.pfe pfe2: entered promiscuous mode
."
[STEP 2] Creating Linux bridge interface br0 and bringing it up...
root@s32g274ardb2:~# ip link add name br0 type bridge
r[   21.489810] pfeng 46000000.pfe pfe0: configuring for fixed/sgmii link mode
oot@[   21.497081] pfeng 46000000.pfe pfe0: Link is Up - 2.5Gbps/Full - flow control off
s32g274ardb2:~# ip link set dev br0 up
root@s32g274ardb2:~#
root@s32g274ardb2:~# # --- 3. pfe0 및 pfe2를 Linux 브릿지에 멤버로 추가 ---
root@s32g274ardb2:~# #    (pfe1은 일단 제외하고 가장 간단하게 pfe0, pfe2만 사용)
root@s32g274ardb2:~# echo "[STEP 3] Adding pfe0 and pfe2 as members to br0..."
[STEP 3] Adding pfe0 and pfe2 as members to br0...
root@s32g274ardb2:~# ip link set dev pfe0 master br0
root@s32g274ardb2:~# ip link set dev pfe2 master br0
root@s32g274ardb2:~#
root@s32g274ardb2:~# # --- 4. 멤버 인터페이스 pfe0 및 pfe2 활성화 ---
root@s32g274ardb2:~# echo "[STEP 4] Bringing up pfe0 and pfe2..."
[STEP 4] Bringing up pfe0 and pfe2...
root@s32g274ardb2:~# # PFE 인터페이스가 DEFAULT 모드이고, LIF가 HIF로 egress하도록 되어 있다면,
root@s32g274ardb2:~# # Linux에서 pfe0/pfe2를 UP 시키는 것만으로도 PFE를 통해 패킷이 HIF로 전달되
어야 함.
root@s32g274ardb2:~# ip link set dev pfe0 up
root@s32g274ardb2:~# ip link set dev pfe2 up
[   21.597418] pfeng 46000000.pfe pfe2: PHY [pfeng-emac-2:04] driver [Micrel KSZ9031 Gigabit PHY] (irq=POLL)
[   21.606613] pfeng 46000000.pfe pfe2: configuring for phy/rgmii-id link mode
root@s32g274ardb2:~#
root@s32g274ardb2:~# # --- 5. Linux 브릿지 br0에 IP 주소 할당 ---
root@s32g274ardb2:~# BRIDGE_IP="192.168.200.1"
root@s32g274ardb2:~# echo "[STEP 5] Assigning IP $BRIDGE_IP/24 to br0..."
[STEP 5] Assigning IP 192.168.200.1/24 to br0...
root@s32g274ardb2:~# ip addr add "${BRIDGE_IP}/24" dev br0
root@s32g274ardb2:~#
root@s32g274ardb2:~# # --- 네트워크 안정화 대기 ---
root@s32g274ardb2:~# echo "[INFO] Waiting for network to settle (5 seconds)..."
[INFO] Waiting for network to settle (5 seconds)...
root@s32g274ardb2:~# sleep 5
[   22.437480] br0: port 1(pfe0) entered blocking state
[   22.442069] br0: port 1(pfe0) entered forwarding state
root@s32g274ardb2:~#
root@s32g274ardb2:~# # --- 상태 확인 ---
root@s32g274ardb2:~# echo "[INFO] Current Linux network configuration:"
[INFO] Current Linux network configuration:
root@s32g274ardb2:~# echo "--- br0 ---"
--- br0 ---
root@s32g274ardb2:~# ip addr show dev br0
9: br0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc noqueue qlen 1000
    link/ether d6:e4:83:36:ee:eb brd ff:ff:ff:ff:ff:ff
    inet 192.168.200.1/24 scope global br0
       valid_lft forever preferred_lft forever
    inet6 fe80::d4e4:83ff:fe36:eeeb/64 scope link
       valid_lft forever preferred_lft forever
root@s32g274ardb2:~# echo "--- pfe0 ---"
--- pfe0 ---
root@s32g274ardb2:~# ip link show dev pfe0
6: pfe0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast master br0 qlen 1000
    link/ether 00:04:9f:be:ef:00 brd ff:ff:ff:ff:ff:ff
root@s32g274ardb2:~# echo "--- pfe2 ---"
--- pfe2 ---
root@s32g274ardb2:~# ip link show dev pfe2
8: pfe2: <NO-CARRIER,BROADCAST,MULTICAST,UP> mtu 1500 qdisc pfifo_fast master br0 qlen 1000
    link/ether 00:04:9f:be:ef:02 brd ff:ff:ff:ff:ff:ff
root@s32g274ardb2:~# brctl show br0 2>/dev/null || echo "(brctl command not available)"
(brctl command not available)
root@s32g274ardb2:~#
root@s32g274ardb2:~# # --- 6. Ping 테스트 ---
root@s32g274ardb2:~# # 이전 성공 사례에서는 192.168.200.2로 ping을 보냈습니다.
root@s32g274ardb2:~# # 이 IP가 S32G의 다른 인터페이스(가상 인터페이스 포함)이거나,
root@s32g274ardb2:~# # pfe0/pfe2에 루프백으로 연결된 다른 장치의 IP여야 합니다.
root@s32g274ardb2:~# # 만약 pfe0과 pfe2가 루프백으로 연결되어 있고,
root@s32g274ardb2:~# # br0이 두 포트를 브릿징한다면, br0은 다른 IP(192.168.200.2)로 응답할 수 있�
��
root@s32g274ardb2:~# # 경로를 가져야 합니다.
root@s32g274ardb2:~# # 가장 간단한 테스트는 br0의 IP로 ping하는 것입니다.
root@s32g274ardb2:~# # 하지만 이전 성공 사례를 따라 192.168.200.2로 시도해 보겠습니다.
root@s32g274ardb2:~# TARGET_IP_FOR_PING="192.168.200.2" # 이전 성공 사례
root@s32g274ardb2:~# # ALTERNATIVE_TARGET_IP="$BRIDGE_IP" # br0 자신의 IP
root@s32g274ardb2:~#
root@s32g274ardb2:~# echo "[STEP 6] Starting ping test from br0 (source IP $BRIDGE_IP) to $TARGET_IP_FOR_PING..."
[STEP 6] Starting ping test from br0 (source IP 192.168.200.1) to 192.168.200.2...
root@s32g274ardb2:~# # ping -c 4 "$TARGET_IP_FOR_PING"
root@s32g274ardb2:~# # 만약 위 ping이 실패하면, br0 자신의 IP로도 시도
root@s32g274ardb2:~# ping -c 4 "$TARGET_IP_FOR_PING" || (echo "Ping to $TARGET_IP_FOR_PING failed, trying $BRIDGE_IP.
.." && ping -c 4 "$BRIDGE_IP")
PING 192.168.200.2 (192.168.200.2) 56(84) bytes of data.
From 192.168.200.1 icmp_seq=1 Destination Host Unreachable
From 192.168.200.1 icmp_seq=2 Destination Host Unreachable
From 192.168.200.1 icmp_seq=3 Destination Host Unreachable
From 192.168.200.1 icmp_seq=4 Destination Host Unreachable

--- 192.168.200.2 ping statistics ---
4 packets transmitted, 0 received, +4 errors, 100% packet loss, time 3069ms
pipe 3
Ping to 192.168.200.2 failed, trying 192.168.200.1...
PING 192.168.200.1 (192.168.200.1) 56(84) bytes of data.
64 bytes from 192.168.200.1: icmp_seq=1 ttl=64 time=0.095 ms
64 bytes from 192.168.200.1: icmp_seq=2 ttl=64 time=0.044 ms
64 bytes from 192.168.200.1: icmp_seq=3 ttl=64 time=0.025 ms
64 bytes from 192.168.200.1: icmp_seq=4 ttl=64 time=0.026 ms

--- 192.168.200.1 ping statistics ---
4 packets transmitted, 4 received, 0% packet loss, time 3068ms
rtt min/avg/max/mdev = 0.025/0.047/0.095/0.028 ms
root@s32g274ardb2:~#
root@s32g274ardb2:~# echo "[INFO] Ping test finished."
[INFO] Ping test finished.
root@s32g274ardb2:~# echo "[INFO] If ping was successful, the basic Linux bridging setup is working."
[INFO] If ping was successful, the basic Linux bridging setup is working.
root@s32g274ardb2:~# echo "[INFO] If not, check physical loopback connection between pfe0 and pfe2, and ensure pfe2 l
ink is UP (no NO-CARRIER)."
[INFO] If not, check physical loopback connection between pfe0 and pfe2, and ensure pfe2 link is UP (no NO-CARRIER).
root@s32g274ardb2:~#
root@s32g274ardb2:~#
root@s32g274ardb2:~# ip link show pfe0
6: pfe0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast master br0 qlen 1000
    link/ether 00:04:9f:be:ef:00 brd ff:ff:ff:ff:ff:ff
root@s32g274ardb2:~# ip link show pfe2
8: pfe2: <NO-CARRIER,BROADCAST,MULTICAST,UP> mtu 1500 qdisc pfifo_fast master br0 qlen 1000
    link/ether 00:04:9f:be:ef:02 brd ff:ff:ff:ff:ff:ff
root@s32g274ardb2:~# ^C

root@s32g274ardb2:~#
