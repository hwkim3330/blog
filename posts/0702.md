NOTICE:  BL2: Booting BL31


U-Boot 2022.04+g9a00323278+p0 (May 13 2025 - 06:57:56 +0000)

SoC:   NXP S32G274A rev. 2.1
CPU:   ARM Cortex-A53 r0p4 @ max 1000 MHz
Model: NXP S32G274A-RDB2
DRAM:  4 GiB
Core:  314 devices, 25 uclasses, devicetree: board
MMC:   FSL_SDHC: 0
Loading Environment from MMC... OK
s32cc_serdes_phy serdes@40480000: Using mode 0 for SerDes subsystem
pci_s32cc pcie@40400000: Could not set DEVICE ID
pci_s32cc pcie@40400000: Configuring as RootComplex
pci_s32cc pcie@40400000: Failed to get link up
In:    serial@401c8000
Out:   serial@401c8000
Err:   serial@401c8000
Board revision: RDB2/GLDBOX Revision E
PCIe:   BusDevFun       VendorId   DeviceId   Device Class       Sub-Class
__________________________________________________________________________
pcie@40400000 RootComplex
|   `-- 01:00.00        0x1957     0x4002     Bridge device           0x04
Net:
Warning: ethernet@4033c000 (eth0) using random MAC address - da:41:ad:66:43:ac
eth0: ethernet@4033c000
Found PFE version 0x50300 (S32G2)
pfeng pfeng-base: Uploading CLASS firmware
pfeng pfeng-base: EMAC0 block was initialized
pfeng pfeng-base: EMAC1 block was initialized
pfeng pfeng-base: EMAC2 block was initialized
pfeng pfeng-base: Enabling the CLASS block
pfeng pfeng-base: PFE Platform started successfully (mask: 7)
s32cc_serdes_phy serdes@44180000: Using mode 4 for SerDes subsystem
s32cc_serdes_phy serdes@44180000: Unstable RX detected on XPCS0
, eth1: pfe0s32cc_serdes_phy serdes@44180000: Unstable RX detected on XPCS1
, eth2: pfe1, eth3: pfe2
Hit any key to stop autoboot:  0
switch to partitions #0, OK
mmc0 is current device
17139720 bytes read in 719 ms (22.7 MiB/s)
Booting from mmc ...
59234 bytes read in 6 ms (9.4 MiB/s)
## Flattened Device Tree blob at 83000000
   Booting using the fdt blob at 0x83000000
   Using Device Tree in place at 0000000083000000, end 0000000083011761
   fixup: pfe1: update phy addr to 0x8
Failed to configure XPCS1_1
Failed to update XPCS1 for SerDes1

Starting kernel ...

[    0.000000] Booting Linux on physical CPU 0x0000000000 [0x410fd034]
[    0.000000] Linux version 6.6.85-rt53-g6208e1d0d7b5 (oe-user@oe-host) (aarch64-fsl-linux-gcc (GCC) 13.3.0, GNU ld (GNU Binutils) 2.42.0.20240723) #1 SMP PREEMPT Wed May 14 13:40:03 UTC 2025
[    0.000000] Machine model: NXP S32G2 Reference Design Board 2 (S32G-VNP-RDB2)
[    0.000000] earlycon: linflex0 at MMIO 0x00000000401c8000 (options '')
[    0.000000] printk: legacy bootconsole [linflex0] enabled
[    0.000000] OF: reserved mem: 0x0000000034000000..0x000000003407ffff (512 KiB) nomap non-reusable pfebufs@34000000
[    0.000000] OF: reserved mem: 0x0000000034080000..0x000000003409ffff (128 KiB) nomap non-reusable pfebufs@34080000
[    0.000000] Reserved memory: created DMA memory pool at 0x0000000083200000, size 3 MiB
[    0.000000] OF: reserved mem: initialized node pfebufs@83200000, compatible id shared-dma-pool
[    0.000000] OF: reserved mem: 0x0000000083200000..0x00000000835dffff (3968 KiB) nomap non-reusable pfebufs@83200000
[    0.000000] OF: reserved mem: 0x00000000835e0000..0x00000000835fffff (128 KiB) map non-reusable pfebufs@835e0000
[    0.000000] OF: reserved mem: 0x0000000084000000..0x0000000084ffffff (16384 KiB) nomap non-reusable shm@84000000
[    0.000000] OF: reserved mem: 0x00000000c0000000..0x00000000c03fffff (4096 KiB) nomap non-reusable shm@c0000000
[    0.000000] OF: reserved mem: 0x00000000c0400000..0x00000000c07fffff (4096 KiB) nomap non-reusable shm@c0400000
[    0.000000] OF: reserved mem: 0x00000000d0000000..0x00000000d000007f (0 KiB) nomap non-reusable shm@d0000000
[    0.000000] OF: reserved mem: 0x00000000d0000080..0x00000000d00000ff (0 KiB) nomap non-reusable shm@d0000080
[    0.000000] OF: reserved mem: 0x00000000ff600000..0x00000000ff7fffff (2048 KiB) nomap non-reusable atf@ff600000
[    0.000000] Zone ranges:
[    0.000000]   DMA      [mem 0x0000000080000000-0x00000000ffffffff]
[    0.000000]   DMA32    empty
[    0.000000]   Normal   [mem 0x0000000100000000-0x00000008ffffffff]
[    0.000000] Movable zone start for each node
[    0.000000] Early memory node ranges
[    0.000000]   node   0: [mem 0x0000000080000000-0x00000000831fffff]
[    0.000000]   node   0: [mem 0x0000000083200000-0x00000000835dffff]
[    0.000000]   node   0: [mem 0x00000000835e0000-0x0000000083ffffff]
[    0.000000]   node   0: [mem 0x0000000084000000-0x0000000084ffffff]
[    0.000000]   node   0: [mem 0x0000000085000000-0x00000000bfffffff]
[    0.000000]   node   0: [mem 0x00000000c0000000-0x00000000c07fffff]
[    0.000000]   node   0: [mem 0x00000000c0800000-0x00000000cfffffff]
[    0.000000]   node   0: [mem 0x00000000d0001000-0x00000000ff5fffff]
[    0.000000]   node   0: [mem 0x00000000ff600000-0x00000000ff7fffff]
[    0.000000]   node   0: [mem 0x00000000ff800000-0x00000000ffffffff]
[    0.000000]   node   0: [mem 0x0000000880000000-0x00000008ffffffff]
[    0.000000] Initmem setup node 0 [mem 0x0000000080000000-0x00000008ffffffff]
[    0.000000] On node 0, zone DMA: 1 pages in unavailable ranges
[    0.000000] cma: Reserved 256 MiB at 0x00000000ef600000 on node -1
[    0.000000] psci: probing for conduit method from DT.
[    0.000000] psci: PSCIv1.1 detected in firmware.
[    0.000000] psci: Using standard PSCI v0.2 function IDs
[    0.000000] psci: MIGRATE_INFO_TYPE not supported.
[    0.000000] psci: SMC Calling Convention v1.4
[    0.000000] percpu: Embedded 19 pages/cpu s40104 r8192 d29528 u77824
[    0.000000] Detected VIPT I-cache on CPU0
[    0.000000] CPU features: detected: GIC system register CPU interface
[    0.000000] CPU features: detected: ARM erratum 845719
[    0.000000] CPU features: detected: NXP erratum ERR050481 (TLBI by VA handled incorrectly)
[    0.000000] CPU features: detected: ARM errata 1165522, 1319367, 1530923, or 1530924
[    0.000000] alternatives: applying boot alternatives
[    0.000000] Kernel command line: console=ttyLF0,115200 root=/dev/mmcblk0p3 rootwait rw earlycon
[    0.000000] Dentry cache hash table entries: 524288 (order: 10, 4194304 bytes, linear)
[    0.000000] Inode-cache hash table entries: 262144 (order: 9, 2097152 bytes, linear)
[    0.000000] Built 1 zonelists, mobility grouping on.  Total pages: 1032191
[    0.000000] mem auto-init: stack:all(zero), heap alloc:off, heap free:off
[    0.000000] software IO TLB: area num 4.
[    0.000000] software IO TLB: mapped [mem 0x00000000eb600000-0x00000000ef600000] (64MB)
[    0.000000] Memory: 3737544K/4194300K available (10688K kernel code, 738K rwdata, 3220K rodata, 1984K init, 233K bss, 194612K reserved, 262144K cma-reserved)
[    0.000000] SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=4, Nodes=1
[    0.000000] rcu: Preemptible hierarchical RCU implementation.
[    0.000000] rcu:     RCU event tracing is enabled.
[    0.000000] rcu:     RCU restricting CPUs from NR_CPUS=8 to nr_cpu_ids=4.
[    0.000000]  Trampoline variant of Tasks RCU enabled.
[    0.000000]  Tracing variant of Tasks RCU enabled.
[    0.000000] rcu: RCU calculated value of scheduler-enlistment delay is 25 jiffies.
[    0.000000] rcu: Adjusting geometry for rcu_fanout_leaf=16, nr_cpu_ids=4
[    0.000000] NR_IRQS: 64, nr_irqs: 64, preallocated irqs: 0
[    0.000000] GICv3: GIC: Using split EOI/Deactivate mode
[    0.000000] GICv3: 544 SPIs implemented
[    0.000000] GICv3: 0 Extended SPIs implemented
[    0.000000] GICv3: MBI range [167:182]
[    0.000000] GICv3: Using MBI frame 0x0000000050800000
[    0.000000] Root IRQ handler: gic_handle_irq
[    0.000000] GICv3: GICv3 features: 16 PPIs
[    0.000000] GICv3: CPU0: found redistributor 0 region 0:0x0000000050880000
[    0.000000] ITS: No ITS available, not enabling LPIs
[    0.000000] rcu: srcu_init: Setting srcu_struct sizes based on contention.
[    0.000000] arch_timer: cp15 timer(s) running at 5.00MHz (phys).
[    0.000000] clocksource: arch_sys_counter: mask: 0xffffffffffffff max_cycles: 0x127350b88, max_idle_ns: 440795202120 ns
[    0.000001] sched_clock: 56 bits at 5MHz, resolution 200ns, wraps every 4398046511100ns
[    0.008460] Console: colour dummy device 80x25
[    0.012518] Calibrating delay loop (skipped), value calculated using timer frequency.. 10.00 BogoMIPS (lpj=20000)
[    0.022721] pid_max: default: 32768 minimum: 301
[    0.027445] Mount-cache hash table entries: 8192 (order: 4, 65536 bytes, linear)
[    0.034712] Mountpoint-cache hash table entries: 8192 (order: 4, 65536 bytes, linear)
[    0.044351] RCU Tasks: Setting shift to 2 and lim to 1 rcu_task_cb_adjust=1 rcu_task_cpu_ids=4.
[    0.052723] RCU Tasks Trace: Setting shift to 2 and lim to 1 rcu_task_cb_adjust=1 rcu_task_cpu_ids=4.
[    0.062068] rcu: Hierarchical SRCU implementation.
[    0.066608] rcu:     Max phase no-delay instances is 1000.
[    0.072916] smp: Bringing up secondary CPUs ...
[    0.077742] Detected VIPT I-cache on CPU1
[    0.077827] GICv3: CPU1: found redistributor 1 region 0:0x00000000508a0000
[    0.077882] CPU1: Booted secondary processor 0x0000000001 [0x410fd034]
[    0.078672] Detected VIPT I-cache on CPU2
[    0.078750] GICv3: CPU2: found redistributor 100 region 0:0x00000000508c0000
[    0.078789] CPU2: Booted secondary processor 0x0000000100 [0x410fd034]
[    0.079488] Detected VIPT I-cache on CPU3
[    0.079538] GICv3: CPU3: found redistributor 101 region 0:0x00000000508e0000
[    0.079563] CPU3: Booted secondary processor 0x0000000101 [0x410fd034]
[    0.079655] smp: Brought up 1 node, 4 CPUs
[    0.135774] SMP: Total of 4 processors activated.
[    0.140444] CPU features: detected: 32-bit EL0 Support
[    0.145586] CPU features: detected: CRC32 instructions
[    0.150769] CPU: All CPU(s) started at EL2
[    0.154780] alternatives: applying system-wide alternatives
[    0.162582] devtmpfs: initialized
[    0.176394] clocksource: jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 7645041785100000 ns
[    0.185754] futex hash table entries: 1024 (order: 4, 65536 bytes, linear)
[    0.201959] pinctrl core: initialized pinctrl subsystem
[    0.207793] NET: Registered PF_NETLINK/PF_ROUTE protocol family
[    0.214429] DMA: preallocated 512 KiB GFP_KERNEL pool for atomic allocations
[    0.221338] DMA: preallocated 512 KiB GFP_KERNEL|GFP_DMA pool for atomic allocations
[    0.229109] DMA: preallocated 512 KiB GFP_KERNEL|GFP_DMA32 pool for atomic allocations
[    0.237159] thermal_sys: Registered thermal governor 'step_wise'
[    0.237309] hw-breakpoint: found 6 breakpoint and 4 watchpoint registers.
[    0.249751] ASID allocator initialised with 65536 entries
[    0.255177] Serial: AMBA PL011 UART driver
[    0.259176] scmi_core: SCMI protocol bus registered
[    0.265298] scmi_protocol scmi_dev.1: Enabled polling mode TX channel - prot_id:16
[    0.272872] arm-scmi firmware:scmi: SCMI Notifications - Core Enabled.
[    0.279043] arm-scmi firmware:scmi: SCMI Protocol v2.0 'NXP:S32G274A' Firmware version 0x0
[    0.296620] /soc/interrupt-controller@50800000: Fixed dependency cycle(s) with /soc/interrupt-controller@50800000
[    0.308820] /soc/siul2@4009c000/siul2-pinctrl@4009c240: Fixed dependency cycle(s) with /soc/siul2@4009c000/siul2-pinctrl@4009c240/jtag_pins
[    0.331507] Modules: 28512 pages in range for non-PLT usage
[    0.331531] Modules: 520032 pages in range for PLT usage
[    0.337295] HugeTLB: registered 1.00 GiB page size, pre-allocated 0 pages
[    0.348950] HugeTLB: 0 KiB vmemmap can be freed for a 1.00 GiB page
[    0.355200] HugeTLB: registered 32.0 MiB page size, pre-allocated 0 pages
[    0.361968] HugeTLB: 0 KiB vmemmap can be freed for a 32.0 MiB page
[    0.368221] HugeTLB: registered 2.00 MiB page size, pre-allocated 0 pages
[    0.374988] HugeTLB: 0 KiB vmemmap can be freed for a 2.00 MiB page
[    0.381241] HugeTLB: registered 64.0 KiB page size, pre-allocated 0 pages
[    0.388008] HugeTLB: 0 KiB vmemmap can be freed for a 64.0 KiB page
[    0.403973] SCSI subsystem initialized
[    0.407535] usbcore: registered new interface driver usbfs
[    0.412808] usbcore: registered new interface driver hub
[    0.418112] usbcore: registered new device driver usb
[    0.423866] pps_core: LinuxPPS API ver. 1 registered
[    0.428402] pps_core: Software ver. 5.3.6 - Copyright 2005-2007 Rodolfo Giometti <giometti@linux.it>
[    0.437525] PTP clock support registered
[    0.442688] vgaarb: loaded
[    0.445332] clocksource: Switched to clocksource arch_sys_counter
[    0.459303] NET: Registered PF_INET protocol family
[    0.464049] IP idents hash table entries: 65536 (order: 7, 524288 bytes, linear)
[    0.474498] tcp_listen_portaddr_hash hash table entries: 2048 (order: 3, 32768 bytes, linear)
[    0.482691] Table-perturb hash table entries: 65536 (order: 6, 262144 bytes, linear)
[    0.490336] TCP established hash table entries: 32768 (order: 6, 262144 bytes, linear)
[    0.498478] TCP bind hash table entries: 32768 (order: 8, 1048576 bytes, linear)
[    0.506753] TCP: Hash tables configured (established 32768 bind 32768)
[    0.513086] UDP hash table entries: 2048 (order: 4, 65536 bytes, linear)
[    0.519657] UDP-Lite hash table entries: 2048 (order: 4, 65536 bytes, linear)
[    0.526949] NET: Registered PF_UNIX/PF_LOCAL protocol family
[    0.532855] RPC: Registered named UNIX socket transport module.
[    0.538353] RPC: Registered udp transport module.
[    0.543033] RPC: Registered tcp transport module.
[    0.547718] RPC: Registered tcp-with-tls transport module.
[    0.553188] RPC: Registered tcp NFSv4.1 backchannel transport module.
[    0.559643] PCI: CLS 0 bytes, default 64
[    0.564948] workingset: timestamp_bits=62 max_order=20 bucket_order=0
[    0.571634] fuse: init (API version 7.39)
[    0.575417] NET: Registered PF_ALG protocol family
[    0.580043] Block layer SCSI generic (bsg) driver version 0.4 loaded (major 248)
[    0.587375] io scheduler mq-deadline registered
[    0.591882] io scheduler kyber registered
[    0.595886] io scheduler bfq registered
[    0.604206] s32cc-siul2-pinctrl 4009c240.siul2-pinctrl: initialized s32 pinctrl driver
[    0.613652] s32cc-siul2-gpio 4009d700.siul2-gpio: No cache defaults, reading back from HW
[    0.621559] s32cc-siul2-gpio 4009d700.siul2-gpio: No cache defaults, reading back from HW
[    0.630051] gpio gpiochip0: Static allocation of GPIO base is deprecated, use dynamic allocation.
[    0.639552] s32cc-siul2-gpio 4009d700.siul2-gpio: No cache defaults, reading back from HW
[    0.647388] s32cc-siul2-gpio 4009d700.siul2-gpio: No cache defaults, reading back from HW
[    0.667494] printk: legacy console [ttyLF0] enabled000 (irq = 23, base_baud = 7812500) is a FSL_LINFLEX
[    0.667494] printk: legacy console [ttyLF0] enabled
[    0.677412] printk: legacy bootconsole [linflex0] disabled
[    0.677412] printk: legacy bootconsole [linflex0] disabled
[    0.690273] 401cc000.serial: ttyLF1 at MMIO 0x401cc000 (irq = 24, base_baud = 7812500) is a FSL_LINFLEX
[    0.701631] s32cc_fccu 4030c000.fccu: FCCU status is 0 (normal)
[    0.710847] ethernet-switch@1 enforce active low on GPIO handle
[    0.719735] spi-nor spi6.0: mx25uw51245g (65536 Kbytes)
[    0.725633] 8 fixed-partitions partitions found on MTD device 0.spi
[    0.732016] Creating 8 MTD partitions on "0.spi":
[    0.736798] 0x000000000000-0x000004000000 : "Flash-Image"
[    0.742662] 0x000000000000-0x0000000d0000 : "BL2"
[    0.747771] 0x0000000d0000-0x0000002a0000 : "FIP"
[    0.752872] 0x0000002a0000-0x0000002b0000 : "U-Boot-Env"
[    0.758599] 0x0000002b0000-0x000001380000 : "Kernel"
[    0.763979] 0x000001380000-0x0000013b0000 : "DTB"
[    0.769082] 0x0000013b0000-0x0000032c0000 : "Rootfs"
[    0.774453] 0x0000032c0000-0x000004000000 : "PFE-Firmware"
[    0.782655] vcan: Virtual CAN interface driver
[    0.787189] slcan: serial line CAN interface driver
[    0.792144] CAN device driver interface
[    0.797401] flexcan 401b4000.can: device registered (reg_base=(____ptrval____), irq(s):
[    0.805544] flexcan 401b4000.can:  30
[    0.809256] flexcan 401b4000.can:  31
[    0.812984] flexcan 401b4000.can:  32
[    0.816704] flexcan 401b4000.can:  33
[    0.820422] flexcan 401b4000.can: )
[    0.824996] flexcan 401be000.can: device registered (reg_base=(____ptrval____), irq(s):
[    0.833137] flexcan 401be000.can:  34
[    0.836866] flexcan 401be000.can:  35
[    0.840587] flexcan 401be000.can:  36
[    0.844306] flexcan 401be000.can:  37
[    0.848033] flexcan 401be000.can: )
[    0.852168] sja1105 spi5.1: Probed switch chip: SJA1110A
[    0.857601] sja1105 spi5.1: Port 2 interpreting RGMII delay settings based on "phy-mode" property, please update device tree to specify "rx-internal-delay-ps" and "tx-internal-delay-ps"
[    0.874368] sja1105 spi5.1: Port 3 interpreting RGMII delay settings based on "phy-mode" property, please update device tree to specify "rx-internal-delay-ps" and "tx-internal-delay-ps"
[    0.891231] e100: Intel(R) PRO/100 Network Driver
[    0.896009] e100: Copyright(c) 1999-2006 Intel Corporation
[    0.901612] e1000: Intel(R) PRO/1000 Network Driver
[    0.906568] e1000: Copyright (c) 1999-2006 Intel Corporation.
[    0.912434] e1000e: Intel(R) PRO/1000 Network Driver
[    0.917474] e1000e: Copyright(c) 1999 - 2015 Intel Corporation.
[    0.923504] igb: Intel(R) Gigabit Ethernet Network Driver
[    0.928984] igb: Copyright (c) 2007-2014 Intel Corporation.
[    0.935971] hse-uio 40210000.mu0b: firmware not found
[    0.941761] usbcore: registered new interface driver uas
[    0.947195] usbcore: registered new interface driver usb-storage
[    0.954455] imx_usb 44064000.usb: No over current polarity defined
[    0.973401] ci_hdrc ci_hdrc.0: EHCI Host Controller
[    0.978540] ci_hdrc ci_hdrc.0: new USB bus registered, assigned bus number 1
[    1.001400] ci_hdrc ci_hdrc.0: USB 2.0 started, EHCI 1.00
[    1.007060] usb usb1: New USB device found, idVendor=1d6b, idProduct=0002, bcdDevice= 6.06
[    1.015456] usb usb1: New USB device strings: Mfr=3, Product=2, SerialNumber=1
[    1.022790] usb usb1: Product: EHCI Host Controller
[    1.027744] usb usb1: Manufacturer: Linux 6.6.85-rt53-g6208e1d0d7b5 ehci_hcd
[    1.034901] usb usb1: SerialNumber: ci_hdrc.0
[    1.039824] hub 1-0:1.0: USB hub found
[    1.043664] hub 1-0:1.0: 1 port detected
[    1.049551] s32cc-rtc 40060000.rtc: registered as rtc0
[    1.054803] s32cc-rtc 40060000.rtc: setting system clock to 1970-01-01T00:00:00 UTC (0)
[    1.063135] i2c_dev: i2c /dev entries driver
[    1.068052] s32cc-wdt 4010c000.watchdog: S32CC Watchdog Timer Registered. timeout=30s (nowayout=0)
[    1.077911] s32cc-wdt 40200000.watchdog: S32CC Watchdog Timer Registered. timeout=30s (nowayout=0)
[    1.087210] s32cc-wdt 40204000.watchdog: S32CC Watchdog Timer Registered. timeout=30s (nowayout=0)
[    1.096485] s32cc-wdt 40208000.watchdog: S32CC Watchdog Timer Registered. timeout=30s (nowayout=0)
[    1.107567] sdhci: Secure Digital Host Controller Interface driver
[    1.113874] sdhci: Copyright(c) Pierre Ossman
[    1.118304] sdhci-pltfm: SDHCI platform and OF driver helper
[    1.124350] SMCCC: SOC_ID: ARCH_SOC_ID not implemented, skipping ....
[    1.131598] hse 40211000.mu1b: interface mu1b not active
[    1.137707] usbcore: registered new interface driver usbhid
[    1.143379] usbhid: USB HID core driver
[    1.156715] mmc0: SDHCI controller on 402f0000.mmc [402f0000.mmc] using ADMA
[    1.164042] s32-adc 401f8000.adc: using dma0chan4 for ADC DMA transfers
[    1.171461] s32-adc 401f8000.adc: Device initialized successfully.
[    1.189606] s32-adc 402e8000.adc: using dma1chan16 for ADC DMA transfers
[    1.196961] s32-adc 402e8000.adc: Device initialized successfully.
[    1.204005] hw perfevents: enabled with armv8_cortex_a53 PMU driver, 7 counters available
[    1.214174] s32-siul2-nvmem 4009c000.nvram: Initialized s32cc siul2 nvmem driver
[    1.221956] s32-siul2-nvmem 44010000.nvram: Initialized s32cc siul2 nvmem driver
[    1.230165] GACT probability on
[    1.233426] Mirror/redirect action on
[    1.237188] Simple TC action Loaded
[    1.240884] mmc0: new high speed SDHC card at address 0001
[    1.241341] netem: version 1.3
[    1.247167] mmcblk0: mmc0:0001 SD32G 28.8 GiB
[    1.249621] u32 classifier
[    1.256820]     Performance counters on
[    1.256833]  mmcblk0: p1 p2 p3
[    1.260724]     input device check on
[    1.267545]     Actions configured
[    1.272351] xt_time: kernel timezone is -0000
[    1.277045] NET: Registered PF_INET6 protocol family
[    1.283060] Segment Routing with IPv6
[    1.286856] In-situ OAM (IOAM) with IPv6
[    1.290944] sit: IPv6, IPv4 and MPLS over IPv4 tunneling driver
[    1.297523] NET: Registered PF_PACKET protocol family
[    1.302816] can: controller area network core
[    1.307286] NET: Registered PF_CAN protocol family
[    1.312160] can: raw protocol
[    1.315188] can: broadcast manager protocol
[    1.319443] can: netlink gateway - max_hops=1
[    1.323939] 8021q: 802.1Q VLAN Support v1.8
[    1.348440] i2c i2c-0: using pinctrl states for GPIO recovery
[    1.354424] i2c i2c-0: using generic GPIOs for recovery
[    1.360497] pca953x 0-0022: using AI
[    1.371134] rtc-pcf85063 0-0051: registered as rtc1
[    1.376154] i2c i2c-0: IMX I2C adapter registered
[    1.380986] i2c i2c-0: using dma0chan5 (tx) and dma0chan6 (rx) for DMA transfers
[    1.389357] i2c i2c-2: using pinctrl states for GPIO recovery
[    1.395266] i2c i2c-2: using generic GPIOs for recovery
[    1.400655] i2c i2c-2: IMX I2C adapter registered
[    1.405481] i2c i2c-2: using dma1chan17 (tx) and dma1chan18 (rx) for DMA transfers
[    1.413906] i2c i2c-4: using pinctrl states for GPIO recovery
[    1.419818] i2c i2c-4: using generic GPIOs for recovery
[    1.426691] ina2xx 4-0040: power monitor ina231 (Rshunt = 1000 uOhm)
[    1.433194] i2c i2c-4: IMX I2C adapter registered
[    1.438021] i2c i2c-4: using dma1chan19 (tx) and dma1chan20 (rx) for DMA transfers
[    1.466780] phy-s32cc-serdes 40480000.serdes: Using mode 0 for SerDes subsystem
[    1.474683] phy-s32cc-serdes 44180000.serdes: Using mode 4 for SerDes subsystem
[    1.805241] s32cc-pcie 40400000.pcie: Failed to stabilize PHY link
[    1.811530] s32cc-pcie 40400000.pcie: Configuring as RootComplex
[    1.817674] s32cc-pcie 40400000.pcie: host bridge /soc/pcie@40400000 ranges:
[    1.824863] s32cc-pcie 40400000.pcie:       IO 0x5ffffe0000..0x5ffffeffff -> 0x0000000000
[    1.833184] s32cc-pcie 40400000.pcie:      MEM 0x5800000000..0x5ffffdffff -> 0x0000000000
[    1.841512] s32cc-pcie 40400000.pcie: Memory resource size exceeds max for 32 bits
[    2.849360] s32cc-pcie 40400000.pcie: Phy link never came up
[    2.855137] s32cc-pcie 40400000.pcie: Link Up failed, EndPoint may not be connected
[    2.862939] s32cc-pcie 40400000.pcie: iATU: unroll T, 6 ob, 4 ib, align 4K, limit 1024G
[    3.871263] s32cc-pcie 40400000.pcie: Phy link never came up
[    3.877021] s32cc-pcie 40400000.pcie: Link Up failed, EndPoint may not be connected
[    4.884933] s32cc-pcie 40400000.pcie: Phy link never came up
[    4.891289] s32cc-pcie 40400000.pcie: PCI host bridge to bus 0000:00
[    4.897752] pci_bus 0000:00: root bus resource [bus 00-ff]
[    4.903329] pci_bus 0000:00: root bus resource [io  0x0000-0xffff]
[    4.909611] pci_bus 0000:00: root bus resource [mem 0x5800000000-0x5ffffdffff] (bus address [0x00000000-0x7fffdffff])
[    4.920419] pci 0000:00:00.0: [1957:4002] type 01 class 0x060400
[    4.926539] pci 0000:00:00.0: reg 0x10: [mem 0x5800000000-0x58000fffff]
[    4.933270] pci 0000:00:00.0: reg 0x38: [mem 0x5800000000-0x580000ffff pref]
[    4.940524] pci 0000:00:00.0: supports D1
[    4.944601] pci 0000:00:00.0: PME# supported from D0 D1 D3hot D3cold
[    4.954772] pci 0000:00:00.0: BAR 0: assigned [mem 0x5800000000-0x58000fffff]
[    4.962033] pci 0000:00:00.0: BAR 6: assigned [mem 0x5800100000-0x580010ffff pref]
[    4.969727] pci 0000:00:00.0: PCI bridge to [bus 01-ff]
[    4.975423] pcieport 0000:00:00.0: PME: Signaling with IRQ 51
[    4.982393] sja1105 spi5.1: Probed switch chip: SJA1110A
[    4.987830] sja1105 spi5.1: Port 2 interpreting RGMII delay settings based on "phy-mode" property, please update device tree to specify "rx-internal-delay-ps" and "tx-internal-delay-ps"
[    5.004630] sja1105 spi5.1: Port 3 interpreting RGMII delay settings based on "phy-mode" property, please update device tree to specify "rx-internal-delay-ps" and "tx-internal-delay-ps"
[    5.022106] s32cc-dwmac 4033c000.ethernet: IRQ eth_wake_irq not found
[    5.028665] s32cc-dwmac 4033c000.ethernet: IRQ eth_lpi not found
[    5.035784] s32cc-dwmac 4033c000.ethernet: User ID: 0x10, Synopsys ID: 0x51
[    5.042875] s32cc-dwmac 4033c000.ethernet:   DWMAC4/5
[    5.047929] s32cc-dwmac 4033c000.ethernet: DMA HW capability register supported
[    5.055352] s32cc-dwmac 4033c000.ethernet: RX Checksum Offload Engine supported
[    5.062773] s32cc-dwmac 4033c000.ethernet: TX Checksum insertion supported
[    5.069754] s32cc-dwmac 4033c000.ethernet: Wake-Up On Lan supported
[    5.076185] s32cc-dwmac 4033c000.ethernet: Enable RX Mitigation via HW Watchdog Timer
[    5.084143] s32cc-dwmac 4033c000.ethernet: Enabled L3L4 Flow TC (entries=8)
[    5.091212] s32cc-dwmac 4033c000.ethernet: Enabled RFS Flow TC (entries=10)
[    5.098290] s32cc-dwmac 4033c000.ethernet: Enabling HW TC (entries=256, max_off=256)
[    5.106162] s32cc-dwmac 4033c000.ethernet: Using 32/32 bits DMA host/device width
[    5.120307] hwmon hwmon1: temp1_input not attached to any thermal zone
[    5.129737] qoriq_thermal 400a8000.tmu: Critical rising/falling temperature threshold = 5 degree(s)
[    5.144412] nxp_s32cc_ddr_perf 403e0000.ddr-perf: probing device
[    5.150905] nxp_s32cc_ddr_perf 403e0000.ddr-perf: device initialized successfully
[    5.158898] sja1105 spi5.1: Probed switch chip: SJA1110A
[    5.164330] sja1105 spi5.1: Port 2 interpreting RGMII delay settings based on "phy-mode" property, please update device tree to specify "rx-internal-delay-ps" and "tx-internal-delay-ps"
[    5.181104] sja1105 spi5.1: Port 3 interpreting RGMII delay settings based on "phy-mode" property, please update device tree to specify "rx-internal-delay-ps" and "tx-internal-delay-ps"
[    5.198225] sja1105 spi5.1: Probed switch chip: SJA1110A
[    5.203639] sja1105 spi5.1: Port 2 interpreting RGMII delay settings based on "phy-mode" property, please update device tree to specify "rx-internal-delay-ps" and "tx-internal-delay-ps"
[    5.220411] sja1105 spi5.1: Port 3 interpreting RGMII delay settings based on "phy-mode" property, please update device tree to specify "rx-internal-delay-ps" and "tx-internal-delay-ps"
[    5.237483] clk: Disabling unused clocks
[    5.302166] EXT4-fs (mmcblk0p3): recovery complete
[    5.307894] EXT4-fs (mmcblk0p3): mounted filesystem 7998e1b8-8d1a-412f-8924-0a57aa6bfd99 r/w with ordered data mode. Quota mode: disabled.
[    5.319988] VFS: Mounted root (ext4 filesystem) on device 179:3.
[    5.326913] devtmpfs: mounted
[    5.330338] Freeing unused kernel memory: 1984K
[    5.334776] Run /sbin/init as init process
[    5.873551] systemd[1]: System time before build time, advancing clock.
[    5.954212] systemd[1]: systemd 255.13^ running in system mode (+PAM -AUDIT -SELINUX -APPARMOR +IMA -SMACK +SECCOMP -GCRYPT -GNUTLS -OPENSSL +ACL +BLKID -CURL -ELFUTILS -FIDO2 -IDN2 -IDN -IPTC +KMOD -LIBCRYPTSETUP +LIBFDISK -PCRE2 -PWQUALITY -P11KIT -QRENCODE -TPM2 -BZIP2 -LZ4 -XZ -ZLIB +ZSTD -BPF_FRAMEWORK +XKBCOMMON +UTMP +SYSVINIT default-hierarchy=unified)
[    5.985780] systemd[1]: Detected architecture arm64.

Welcome to Auto Linux BSP 44.0 (scarthgap)!

[    6.015780] systemd[1]: Hostname set to <s32g274ardb2>.
[    6.619356] systemd[1]: Queued start job for default target Multi-User System.
[    6.631593] systemd[1]: Created slice Slice /system/getty.
[  OK  ] Created slice Slice /system/getty.
[    6.654932] systemd[1]: Created slice Slice /system/modprobe.
[  OK  ] Created slice Slice /system/modprobe.
[    6.678864] systemd[1]: Created slice Slice /system/serial-getty.
[  OK  ] Created slice Slice /system/serial-getty.
[    6.702299] systemd[1]: Created slice User and Session Slice.
[  OK  ] Created slice User and Session Slice.
[    6.725799] systemd[1]: Started Dispatch Password Requests to Console Directory Watch.
[  OK  ] Started Dispatch Password Requests to Console Directory Watch.
[    6.753695] systemd[1]: Started Forward Password Requests to Wall Directory Watch.
[  OK  ] Started Forward Password Requests to Wall Directory Watch.
[    6.777685] systemd[1]: Reached target Path Units.
[  OK  ] Reached target Path Units.
[    6.797476] systemd[1]: Reached target Remote File Systems.
[  OK  ] Reached target Remote File Systems.
[    6.817462] systemd[1]: Reached target Slice Units.
[  OK  ] Reached target Slice Units.
[    6.837510] systemd[1]: Reached target Swaps.
[  OK  ] Reached target Swaps.
[    6.894373] systemd[1]: Listening on RPCbind Server Activation Socket.
[  OK  ] Listening on RPCbind Server Activation Socket.
[    6.917651] systemd[1]: Reached target RPC Port Mapper.
[  OK  ] Reached target RPC Port Mapper.
[    6.938236] systemd[1]: Listening on Syslog Socket.
[  OK  ] Listening on Syslog Socket.
[    6.957851] systemd[1]: Listening on initctl Compatibility Named Pipe.
[  OK  ] Listening on initctl Compatibility Named Pipe.
[    6.988560] systemd[1]: Journal Audit Socket was skipped because of an unmet condition check (ConditionSecurity=audit).
[    6.999722] systemd[1]: Listening on Journal Socket (/dev/log).
[  OK  ] Listening on Journal Socket (/dev/log).
[    7.026209] systemd[1]: Listening on Journal Socket.
[  OK  ] Listening on Journal Socket.
[    7.046477] systemd[1]: Listening on Network Service Netlink Socket.
[  OK  ] Listening on Network Service Netlink Socket.
[    7.083037] systemd[1]: Listening on udev Control Socket.
[  OK  ] Listening on udev Control Socket.
[    7.106140] systemd[1]: Listening on udev Kernel Socket.
[  OK  ] Listening on udev Kernel Socket.
[    7.126151] systemd[1]: Listening on User Database Manager Socket.
[  OK  ] Listening on User Database Manager Socket.
[    7.181613] systemd[1]: Mounting Huge Pages File System...
        [    7.187439] systemd[1]: POSIX Message Queue File System was skipped because of an unmet condition check (ConditionPathExists=/proc/sys/fs/mqueue).
 Mounting Huge Pages File S[    7.203588] systemd[1]: Mounting Kernel Debug File System...
ystem...
         Mounting Kernel Debug File System...
[    7.237907] systemd[1]: Kernel Trace File System was skipped because of an unmet condition check (ConditionPathExists=/sys/kernel/tracing).
[    7.250654] systemd[1]: Create List of Static Device Nodes was skipped because of an unmet condition check (ConditionFileNotEmpty=/lib/modules/6.6.85-rt53-g6208e1d0d7b5/modules.devname).
[    7.270562] systemd[1]: Starting Load Kernel Module configfs...
         Starting Load Kernel Module configfs...
[    7.301011] systemd[1]: Starting Load Kernel Module drm...
         Starting Load Kernel Module drm...
[    7.329204] systemd[1]: Starting Load Kernel Module fuse...
         Starting Load Kernel Module fuse...
[    7.366129] systemd[1]: Starting RPC Bind...
         Starting RPC Bind...
[    7.389681] systemd[1]: File System Check on Root Device was skipped because of an unmet condition check (ConditionPathIsReadWrite=!/).
[    7.408778] systemd[1]: Starting Journal Service...
         Starting Journal Service...
[    7.443035] systemd[1]: Starting Load Kernel Modules...
         Starting Load Kernel Modules...
[    7.469033] systemd[1]: Starting Generate network units from Kernel command line...
         Starting Generate network units from Kernel command line...
[    7.499733] sja1110: loading out-of-tree module taints kernel.
[    7.501138] systemd[1]: Starting Remount Root and Kernel File Systems...
     [    7.512329] SPI driver sja1110 has no spi_device_id for nxp,sja1110-switch
    [    7.519462] SPI driver sja1110 has no spi_device_id for nxp,sja1110-uc
Starting Remount Root and Kernel File Systems...
[    7.532521] systemd-journald[123]: Collecting audit messages is disabled.
[    7.566119] systemd[1]: Starting Create Static Device Nodes in /dev gracefully...
         Starting Create Static Devic[    7.577149] systemd[1]: Starting Coldplug All udev Devices...
e Nodes in /dev gracefully...
         Starting Coldplug All udev Devices...
[    7.617890] EXT4-fs (mmcblk0p3): re-mounted 7998e1b8-8d1a-412f-8924-0a57aa6bfd99 r/w. Quota mode: disabled.
[    7.624154] systemd[1]: Started RPC Bind.
[  OK  ] Started RPC Bind.
[    7.659814] systemd[1]: Started Journal Service.
[  OK  ] Started Journal Service.
[  OK  ] Mounted Huge Pages File System.
[  OK  ] Mounted Kernel Debug File System.
[  OK  ] Finished Load Kernel Module configfs.
[  OK  ] Finished Load Kernel Module drm.
[  OK  ] Finished Load Kernel Module fuse.
[  OK  ] Finished Load Kernel Modules.
[  OK  ] Finished Generate network units from Kernel command line.
[  OK  ] Finished Remount Root and Kernel File Systems.
[  OK  ] Finished Create Static Device Nodes in /dev gracefully.
         Mounting FUSE Control File System...
         Mounting Kernel Configuration File System...
         Starting Flush Journal to Persistent Storage...
         Starting Apply Kernel Variables...
[    8.021034] systemd-journald[123]: Received client request to flush runtime journal.
         Starting Create Static Device Nodes in /dev...
[  OK  ] Mounted FUSE Control File System.
[  OK  ] Mounted Kernel Configuration File System.
[  OK  ] Finished Flush Journal to Persistent Storage.
[  OK  ] Finished Apply Kernel Variables.
[  OK  ] Finished Create Static Device Nodes in /dev.
[  OK  ] Reached target Preparation for Local File Systems.
         Mounting /tmp...
         Mounting /var/volatile...
         Starting Rule-based Manager for Device Events and Files...
[  OK  ] Finished Coldplug All udev Devices.
[  OK  ] Mounted /tmp.
[  OK  ] Mounted /var/volatile.
         Mounting /var/volatile/tmp...
         Starting Load/Save OS Random Seed...
[  OK  ] Mounted /var/volatile/tmp.
[  OK  ] Reached target Local File Systems.
         Starting Create System Files and Directories...
[  OK  ] Started Rule-based Manager for Device Events and Files.
[  OK  ] Finished Create System Files and Directories.
         Starting Network Name Resolution...
[    8.596730] s32cc-dwmac 4033c000.ethernet end0: renamed from eth0
         Starting Network Time Synchronization...
         Starting Record System Boot/Shutdown in UTMP...
         Starting User Database Manager...
[  OK  ] Finished Record System Boot/Shutdown in UTMP.
[    9.313620] pfeng 46000000.pfe: PFEng ethernet driver loading ...
[    9.325485] pfeng 46000000.pfe: Version: 1.9.0
[    9.333338] pfeng 46000000.pfe: Driver commit hash: M4_DRIVER_COMMIT_HASH
[    9.342771] pfeng 46000000.pfe: Multi instance support: disabled (standalone)
32[    9.350008] pfeng 46000000.pfe: Compiled by: 13.3.0
m [    9.355057] pfeng 46000000.pfe: Cbus addr 0x46000000 size 0x1000000
 [    9.361436] pfeng 46000000.pfe: nxp,fw-class-name: s32g_pfe_class.fw
OK [    9.367983] pfeng 46000000.pfe: nxp,fw-util-name: s32g_pfe_util.fw
 ] Started     9.375981] pfeng 46000000.pfe: netif name: pfe0
39mUser Database Manager.
[    9.386598] pfeng 46000000.pfe: DT mac addr: 00:04:9f:be:ef:00
[    9.397632] pfeng 46000000.pfe: netif(pfe0) linked phyif: 0
[    9.403669] pfeng 46000000.pfe: netif(pfe0) mode: std
[    9.408690] pfeng 46000000.pfe: netif(pfe0) HIFs: count 1 map 01
[    9.414590] pfeng 46000000.pfe: EMAC0 interface mode: 4
[    9.420002] pfeng 46000000.pfe: netif name: pfe1
[    9.424504] pfeng 46000000.pfe: DT mac addr: 00:04:9f:be:ef:01
[    9.430419] pfeng 46000000.pfe: netif(pfe1) linked phyif: 1
[    9.435981] pfeng 46000000.pfe: netif(pfe1) mode: std
[    9.436139] pfeng 46000000.pfe: netif(pfe1) HIFs: count 1 map 02
[    9.436160] pfeng 46000000.pfe: EMAC1 interface mode: 4
[    9.436658] pfeng 46000000.pfe: netif name: pfe2
[    9.436677] pfeng 46000000.pfe: DT mac addr: 00:04:9f:be:ef:02
[    9.436696] pfeng 46000000.pfe: netif(pfe2) linked phyif: 2
 [    9.436704] pfeng 46000000.pfe: netif(pfe2) mode: std
 [    9.436849] pfeng 46000000.pfe: netif(pfe2) HIFs: count 1 map 04
   [    9.480095] pfeng 46000000.pfe: EMAC2 interface mode: 10
  [    9.485590] pfeng 46000000.pfe: HIF channels mask: 0x0007
  [    9.491172] pfeng 46000000.pfe: PFE port coherency enabled, mask 0x1e
Start[    9.497957] pfeng 46000000.pfe: Clocks: sys=300MHz pe=600MHz
ing     9.504421] pfeng 46000000.pfe: Interface selected: EMAC0: 0x4 EMAC1: 0x4 EMAC2: 0xa
;39mV[    9.512572] pfeng 46000000.pfe: PFE controller reset done
irt[    9.518241] pfeng 46000000.pfe: TX clock on EMAC0 for interface sgmii installed
ual[    9.525791] pfeng 46000000.pfe: RX clock on EMAC0 for interface sgmii installed
 Con[    9.533409] pfeng 46000000.pfe: TX clock on EMAC1 for interface sgmii installed
sol[    9.540967] pfeng 46000000.pfe: RX clock on EMAC1 for interface sgmii installed
e Se[    9.548549] pfeng 46000000.pfe: TX clock on EMAC2 for interface rgmii-id installed
tup[    9.556401] pfeng 46000000.pfe: RX clock on EMAC2 for interface rgmii-id installed
.[    9.564393] pfeng 46000000.pfe: assigned reserved memory node pfebufs@34000000
[    9.571835] pfeng 46000000.pfe: assigned reserved memory node pfebufs@34080000

[    9.579321] pfeng 46000000.pfe: assigned reserved memory node pfebufs@83200000
[    9.586523] pfeng 46000000.pfe: assigned reserved memory node pfebufs@835e0000
[    9.622174] pfeng 46000000.pfe: Firmware: CLASS s32g_pfe_class.fw [45724 bytes]
[    9.629145] pfeng 46000000.pfe: Firmware: UTIL s32g_pfe_util.fw [23352 bytes]
[    9.636819] pfeng 46000000.pfe: PFE CBUS p0x46000000 mapped @ v0xffffffc082000000 (0x1000000 bytes)
[    9.646036] pfeng 46000000.pfe: Silicon S32G2
[    9.651157] pfeng 46000000.pfe: PFE_ERRORS:Parity instance created
[    9.657074] pfeng 46000000.pfe: PFE_ERRORS:Watchdog instance created
[    9.663444] pfeng 46000000.pfe: BMU1 buffer base: p0xc0000000
[    9.669129] pfeng 46000000.pfe: BMU2 buffer base: p0x34000000 (0x80000 bytes)
[    9.677455] pfeng 46000000.pfe: register IRQ 67 by name 'PFE BMU IRQ'
[    9.684030] pfeng 46000000.pfe: Firmware .elf detected
[    9.689041] pfeng 46000000.pfe: Uploading CLASS firmware
[    9.694095] pfeng 46000000.pfe: Selected FW loading OPs to load 8 PEs in parallel
[    9.694595] pfeng 46000000.pfe: BMU_EMPTY_INT (BMU @ p0x(____ptrval____)). Pool ready.
[    9.710022] pfeng 46000000.pfe: BMU_EMPTY_INT (BMU @ p0x(____ptrval____)). Pool ready.
[    9.721367] pfeng 46000000.pfe: pfe_ct.h file version"92367c0e25f21f49217a9b08168ad2c8"
[    9.744490] pfeng 46000000.pfe: [FW VERSION] 1.11.0, Build: Apr  8 2025, 21:02:36 (nogitaaa), ID: 0x31454650
[    9.754282] pfeng 46000000.pfe: EMAC timestamp external mode bitmap: 0
[    9.760500] pfeng 46000000.pfe: Uploading UTIL firmware
[    9.765655] pfeng 46000000.pfe: Selected FW loading OPs to load 1 PEs in parallel
[    9.775596] pfeng 46000000.pfe: pfe_ct.h file version"92367c0e25f21f49217a9b08168ad2c8"
[  OK   pfeng 46000000.pfe: FW feature: drv_run_on_g3
[[    9.790006] pfeng 46000000.pfe: FW feature: jumbo_frames
0[    9.795370] pfeng 46000000.pfe: FW feature: ptp_qos_mapping
m[    9.801036] pfeng 46000000.pfe: FW feature: software_vlan_table
][    9.806998] pfeng 46000000.pfe: FW feature: timestamping
 [    9.812379] pfeng 46000000.pfe: FW feature: qos_mapping
S[    9.817698] pfeng 46000000.pfe: FW feature: core_functionality
t[    9.817711] pfeng 46000000.pfe: FW feature: extended_features
a[    9.817718] pfeng 46000000.pfe: FW feature: flexible_router
r[    9.835038] pfeng 46000000.pfe: FW feature: validate_hif_csum
t[    9.840847] pfeng 46000000.pfe: FW feature: err051211_workaround
e[    9.846928] pfeng 46000000.pfe: FW feature: IPsec
d[    9.851699] pfeng 46000000.pfe: FW feature: l2_bridge_aging
 [    9.857334] pfeng 46000000.pfe: FW feature: receive_malformed
 pfeng 46000000.pfe: FW feature: ptp_conf_check
[[    9.868711] pfeng 46000000.pfe: FW feature: vlan_conf_check
0[    9.874352] pfeng 46000000.pfe: FW feature: hash_load_spread
;[    9.880087] pfeng 46000000.pfe: FW feature: ingress_vlan
1[    9.885468] pfeng 46000000.pfe: FW feature: safety
;39mNetwork Name Resolution    9.892740] pfeng 46000000.pfe: VLAN ID incorrect or not set. Using default VLAN ID = 0x01.
0[    9.901188] pfeng 46000000.pfe: VLAN stats size incorrect or not set. Using default VLAN stats size = 20.
m.[    9.910920] pfeng 46000000.pfe: Software vlan hash table @ p0x20001288

[    9.917668] pfeng 46000000.pfe: Fall-back bridge domain @ 0x20000a8c (class)
[[    9.924785] pfeng 46000000.pfe: Default bridge domain @ 0x20000a84 (class)
[    9.932254] pfeng 46000000.pfe: Routing table created, Hash Table @ p0x34080000, Pool @ p0x34088000 (65536 bytes)
  OK[    9.942873] pfeng 46000000.pfe: Feature err051211_workaround: DISABLED
  ] Reached target Host and Network Nam[    9.953844] pfeng 46000000.pfe: HIF0 enabled
e Looku[    9.958683] pfeng 46000000.pfe: HIF1 enabled
ps    9.963435] pfeng 46000000.pfe: HIF2 enabled
m[    9.967759] pfeng 46000000.pfe: HIF3 not configured, skipped
[    9.973510] pfeng 46000000.pfe: MDIO bus 0 disabled: Not found in DT
[    9.979987] pfeng 46000000.pfe: MDIO bus 1 disabled: Not found in DT

[  OK  ] Started Network Time Synchronization.
[  OK  ] Reached tar[    9.995412] pfeng 46000000.pfe: MDIO bus 2 enabled
g[    9.995487] sja1105 spi5.1: Probed switch chip: SJA1110A
e[   10.000405] pfeng 46000000.pfe pfe0 (uninitialized): fixed link full duplex 2500Mbps not recognised
t[   10.005699] sja1105 spi5.1: Port 2 interpreting RGMII delay settings based on "phy-mode" property, please update device tree to specify "rx-internal-delay-ps" and "tx-internal-delay-ps"
 [   10.014874] phy-s32cc-serdes 44180000.serdes: Unstable RX detected on XPCS0
 sja1105 spi5.1: Port 3 interpreting RGMII delay settings based on "phy-mode" property, please update device tree to specify "rx-internal-delay-ps" and "tx-internal-delay-ps"
[[   10.038415] pfeng 46000000.pfe pfe0 (uninitialized): Subscribe to HIF0
0[   10.061608] pfeng 46000000.pfe pfe0 (uninitialized): Host LLTX disabled
;1;[   10.068457] pfeng 46000000.pfe pfe0 (uninitialized): Enable HIF0
39[   10.074558] pfeng 46000000.pfe pfe0 (uninitialized): setting MAC addr: 00:04:9f:be:ef:00
mS[   10.082821] pfeng 46000000.pfe pfe0 (uninitialized): PTP HW addend 0x80000000, max_adj configured to 46566128 ppb
ys[   10.093259] pfeng 46000000.pfe: IEEE1588: Input Clock: 200000000Hz, Output: 100000000Hz, Accuracy: 10.0ns
tem Time Set[   10.103812] pfeng 46000000.pfe pfe0 (uninitialized): Registered PTP HW clock successfully on EMAC0
.
[   10.113695] pfeng 46000000.pfe pfe0: registered
[   10.118146] phy-s32cc-serdes 44180000.serdes: Unstable RX detected on XPCS1
[   10.124945] pfeng 46000000.pfe pfe1 (uninitialized): Subscribe to HIF1
[   10.131470] pfeng 46000000.pfe pfe1 (uninitialized): Host LLTX disabled
[   10.138226] pfeng 46000000.pfe pfe1 (uninitialized): Enable HIF1
[   10.144030] pfeng 46000000.pfe pfe1 (uninitialized): setting MAC addr: 00:04:9f:be:ef:01
[   10.152109] pfeng 46000000.pfe pfe1 (uninitialized): PTP HW addend 0x80000000, max_adj configured to 46566128 ppb
[   10.162344] pfeng 46000000.pfe: IEEE1588: Input Clock: 200000000Hz, Output: 100000000Hz, Accuracy: 10.0ns
[   10.172590] pfeng 46000000.pfe pfe1 (uninitialized): Registered PTP HW clock successfully on EMAC1
[ [   10.181954] pfeng 46000000.pfe pfe1: registered
 O[   10.186622] pfeng 46000000.pfe pfe2 (uninitialized): Subscribe to HIF2
K[   10.193228] pfeng 46000000.pfe pfe2 (uninitialized): Host LLTX disabled
   pfeng 46000000.pfe pfe2 (uninitialized): Enable HIF2
[0[   10.206184] pfeng 46000000.pfe pfe2 (uninitialized): setting MAC addr: 00:04:9f:be:ef:02
m][   10.214435] pfeng 46000000.pfe pfe2 (uninitialized): PTP HW addend 0x80000000, max_adj configured to 46566128 ppb
 [   10.224836] pfeng 46000000.pfe: IEEE1588: Input Clock: 200000000Hz, Output: 100000000Hz, Accuracy: 10.0ns
Finished [   10.235101] pfeng 46000000.pfe pfe2 (uninitialized): Registered PTP HW clock successfully on EMAC2
V[   10.244958] pfeng 46000000.pfe pfe2: registered
irtual Console Setup.
[   10.251870] sja1105 spi5.1: Probed switch chip: SJA1110A
[   10.258945] sja1105 spi5.1: Port 2 interpreting RGMII delay settings based on "phy-mode" property, please update device tree to specify "rx-internal-delay-ps" and "tx-internal-delay-ps"
[   10.275153] sja1105 spi5.1: Port 3 interpreting RGMII delay settings based on "phy-mode" property, please update device tree to specify "rx-internal-delay-ps" and "tx-internal-delay-ps"
[  OK  ] Reached target System Initialization.
[  OK  ] Started Daily rotation of log files.
[  OK  ] Started Daily Cleanup of Temporary Directories.
[  OK  ] Reached target Timer Units.
[  OK  ] Listening on D-Bus System Message Bus Socket.
         Starting sshd.socket...
[  OK  ] Listening on sshd.socket.
[  OK  ] Reached target Socket Units.
[  OK  ] Reached target Basic System.
[   10.549567] sja1105 spi5.1: configuring for fixed/2500base-x link mode
[   10.558214] sja1105 spi5.1: Link is Up - 2.5Gbps/Full - flow control off
[  OK  ] Started Job spooling tools.
[  OK  ] Started Periodic Command Scheduler.
         Starting D-Bus System Message Bus...
[   10.621639] sja1105 spi5.1 p1 (uninitialized): PHY [spi5.1-base-tx:01] driver [NXP CBTX (SJA1110)] (irq=POLL)
[   10.638181] sja1105 spi5.1 trx5 (uninitialized): PHY [spi5.1-base-t1:01] driver [Generic Clause 45 PHY] (irq=POLL)
[   10.650611] sja1105 spi5.1 trx6 (uninitialized): PHY [spi5.1-base-t1:02] driver [Generic Clause 45 PHY] (irq=POLL)
[   10.663200] sja1105 spi5.1 trx7 (uninitialized): PHY [spi5.1-base-t1:03] driver [Generic Clause 45 PHY] (irq=POLL)
[   10.675270] sja1105 spi5.1 trx8 (uninitialized): PHY [spi5.1-base-t1:04] driver [Generic Clause 45 PHY] (irq=POLL)
         Star[   10.687766] sja1105 spi5.1 trx9 (uninitialized): PHY [spi5.1-base-t1:05] driver [Generic Clause 45 PHY] (irq=POLL)
ting IPv6 Packet Filtering Framewo[   10.701787] sja1105 spi5.1 trx10 (uninitialized): PHY [spi5.1-base-t1:06] driver [Generic Clause 45 PHY] (irq=POLL)
rk...
[   10.713803] DSA: tree 0 setup
         Starting IPv4 Packet Filtering Framework...
[  OK  ] Started irqbalance daemon.
[  OK  ] Started Hardware RNG Entropy Gatherer Daemon.
[  OK  ] Started System Logging Service.
         Starting Resets System Activity Logs...
         Starting User Login Management...
         Starting OpenSSH Key Generation...
[  OK  ] Finished IPv6 Packet Filtering Framework.
[  OK  ] Finished IPv4 Packet Filtering Framework.
[  OK  ] Finished Resets System Activity Logs.
[  OK  ] Started User Login Management.
[  OK  ] Created slice Slice /system/systemd-fsck.
[  OK  ] Reached target Preparation for Network.
         Starting File System Check on /dev/mmcblk0p2...
         Starting Network Configuration...
[  OK  ] Finished File System Check on /dev/mmcblk0p2.
         Mounting /run/media/boot_s32g2-mmcblk0p2...
[  OK  ] Mounted /run/media/boot_s32g2-mmcblk0p2.
[  OK  ] Started Network Configuration.
[  OK  ] Reached target Network.
[  OK  ] Started Netperf Benchmark Server.
         Starting Permit User Sessions...
[  OK  ] Started Xinetd A Powerful Replacement For Inetd.
[  OK  ] Finished Permit User Sessions.
[  OK  ] Started Getty on tty1.
[  OK  ] Started Serial Getty on ttyLF0.
[  OK  ] Reached target Login Prompts.
[  OK  ] Finished Load/Save OS Random Seed.
[  OK  ] Finished OpenSSH Key Generation.
[  OK  ] Started D-Bus System Message Bus.
[  OK  ] Reached target Multi-User System.
         Starting Record Runlevel Change in UTMP...
[  OK  ] Finished Record Runlevel Change in UTMP.

Auto Linux BSP 44.0 s32g274ardb2 ttyLF0

s32g274ardb2 login: root
root@s32g274ardb2:~# ip link
1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT group default qlen 1000
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
2: can0: <NOARP,ECHO> mtu 16 qdisc noop state DOWN mode DEFAULT group default qlen 10
    link/can
3: can1: <NOARP,ECHO> mtu 16 qdisc noop state DOWN mode DEFAULT group default qlen 10
    link/can
4: teql0: <NOARP> mtu 1500 qdisc noop state DOWN mode DEFAULT group default qlen 100
    link/void
5: sit0@NONE: <NOARP> mtu 1480 qdisc noop state DOWN mode DEFAULT group default qlen 1000
    link/sit 0.0.0.0 brd 0.0.0.0
6: end0: <NO-CARRIER,BROADCAST,MULTICAST,UP> mtu 1500 qdisc mq state DOWN mode DEFAULT group default qlen 1000
    link/ether da:41:ad:66:43:ac brd ff:ff:ff:ff:ff:ff
7: pfe0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1536 qdisc fq_codel state UP mode DEFAULT group default qlen 1000
    link/ether 00:04:9f:be:ef:00 brd ff:ff:ff:ff:ff:ff
8: pfe1: <NO-CARRIER,BROADCAST,MULTICAST,UP> mtu 1500 qdisc fq_codel state DOWN mode DEFAULT group default qlen 1000
    link/ether 00:04:9f:be:ef:01 brd ff:ff:ff:ff:ff:ff
9: pfe2: <NO-CARRIER,BROADCAST,MULTICAST,UP> mtu 1500 qdisc fq_codel state DOWN mode DEFAULT group default qlen 1000
    link/ether 00:04:9f:be:ef:02 brd ff:ff:ff:ff:ff:ff
10: p1@pfe0: <BROADCAST,MULTICAST> mtu 1500 qdisc noop state DOWN mode DEFAULT group default qlen 1000
    link/ether 00:04:9f:be:ef:00 brd ff:ff:ff:ff:ff:ff
11: p2@pfe0: <BROADCAST,MULTICAST> mtu 1500 qdisc noop state DOWN mode DEFAULT group default qlen 1000
    link/ether 00:04:9f:be:ef:00 brd ff:ff:ff:ff:ff:ff
12: p3@pfe0: <BROADCAST,MULTICAST> mtu 1500 qdisc noop state DOWN mode DEFAULT group default qlen 1000
    link/ether 00:04:9f:be:ef:00 brd ff:ff:ff:ff:ff:ff
13: trx5@pfe0: <BROADCAST,MULTICAST> mtu 1500 qdisc noop state DOWN mode DEFAULT group default qlen 1000
    link/ether 00:04:9f:be:ef:00 brd ff:ff:ff:ff:ff:ff
14: trx6@pfe0: <BROADCAST,MULTICAST> mtu 1500 qdisc noop state DOWN mode DEFAULT group default qlen 1000
    link/ether 00:04:9f:be:ef:00 brd ff:ff:ff:ff:ff:ff
15: trx7@pfe0: <BROADCAST,MULTICAST> mtu 1500 qdisc noop state DOWN mode DEFAULT group default qlen 1000
    link/ether 00:04:9f:be:ef:00 brd ff:ff:ff:ff:ff:ff
16: trx8@pfe0: <BROADCAST,MULTICAST> mtu 1500 qdisc noop state DOWN mode DEFAULT group default qlen 1000
    link/ether 00:04:9f:be:ef:00 brd ff:ff:ff:ff:ff:ff
17: trx9@pfe0: <BROADCAST,MULTICAST> mtu 1500 qdisc noop state DOWN mode DEFAULT group default qlen 1000
    link/ether 00:04:9f:be:ef:00 brd ff:ff:ff:ff:ff:ff
18: trx10@pfe0: <BROADCAST,MULTICAST> mtu 1500 qdisc noop state DOWN mode DEFAULT group default qlen 1000
    link/ether 00:04:9f:be:ef:00 brd ff:ff:ff:ff:ff:ff
root@s32g274ardb2:~# ^C
root@s32g274ardb2:~# ^C
root@s32g274ardb2:~#
root@s32g274ardb2:~#
root@s32g274ardb2:~#
root@s32g274ardb2:~#
root@s32g274ardb2:~#
root@s32g274ardb2:~#
root@s32g274ardb2:~#
root@s32g274ardb2:~#
root@s32g274ardb2:~#
root@s32g274ardb2:~#
root@s32g274ardb2:~# #!/bin/bash
root@s32g274ardb2:~#
root@s32g274ardb2:~# # --- 1. PFE 하드웨어 L2 브릿지 설정 ---
root@s32g274ardb2:~# echo "### 1. PFE 하드웨어를 L2 브릿지 모드로 설정합니다..."
### 1. PFE 하드웨어를 L2 브릿지 모드로 설정합니다...
root@s32g274ardb2:~# # pfe0, pfe1, pfe2 포트를 모두 VLAN 브릿지 모드로 설정
root@s32g274ardb2:~# libfci_cli phyif-update --interface=emac0 --mode=VLAN_BRIDGE
# 모든 포트가 서로 통신할 수 있도록 기본 VLAN(VLAN 1)의 정책을 FLOOD(전체 전파)로 설정
libfci_cli bd-update --vlan=1 --ucast-miss=FLOOD --mcast-miss=FLOOD
echo "-> 하드웨어 브릿지 설정 완료."
sleep 1


DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~# libfci_cli phyif-update --interface=emac1 --mode=VLAN_BRIDGE
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~# libfci_cli phyif-update --interface=emac2 --mode=VLAN_BRIDGE
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~#
전파)로 설정ardb2:~# # 모든 포트가 서로 통신할 수 있도록 기본 VLAN(VLAN 1)의 정책을 FLOOD(전체 �
root@s32g274ardb2:~# libfci_cli bd-update --vlan=1 --ucast-miss=FLOOD --mcast-miss=FLOOD
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
0 bps로 설정
libfci_cli qos-shp-update -i emac0 --shp=0 --isl=200000000
echo "-> CBS 설정 완료."


# --- 3. 리눅스 인터페이스 활성화 ---
echo "### 3. 리눅스 인터페이스를 활성화하고 IP를 설정합니다..."
root@s32g274ardb2:~# echo "-> 하드웨어 브릿지 설정 완료."
-> 하드웨어 브릿지 설정 완료.
root@s32g274ardb2:~# sleep 1
# pfe0, pfe1, pfe2 인터페이스를 켠다.
ip link set pfe0 up
ip link set pfe1 up
ip link set pfe2 up

# pfe0에만 IP를 할당하여 통신 테스트 준비
ip addr add 192.168.1.1/24 dev pfe0
echo "-> 인터페이스 활성화 및 IP 설정 완료."

echo ""
echo "##############################################################"
echo "### 모든 설정이 완료되었습니다."
echo "### 이제 PC에서 iperf3 테스트를 실행하십시오."
echo "##############################################################"root@s32g274ardb2:~#
root@s32g274ardb2:~#
root@s32g274ardb2:~# # --- 2. 하드웨어 대역폭 보장(CBS) 설정 ---
root@s32g274ardb2:~# echo "### 2. pfe0 포트의 0번 큐에 200Mbps 대역폭을 할당합니다..."
### 2. pfe0 포트의 0번 큐에 200Mbps 대역폭을 할당합니다...
연결@s32g274ardb2:~# # pfe0 포트의 0번 셰이퍼(shaper)를 'sch0_in0' (스케줄러 0의 0번 입력) 위치에 �
root@s32g274ardb2:~# libfci_cli qos-shp-update -i emac0 --shp=0 --shp-pos=sch0_in0
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~# # 해당 셰이퍼의 대역폭(idleslope)을 200,000,000 bps로 설정
root@s32g274ardb2:~# libfci_cli qos-shp-update -i emac0 --shp=0 --isl=200000000
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~# echo "-> CBS 설정 완료."
-> CBS 설정 완료.
root@s32g274ardb2:~#
root@s32g274ardb2:~#
root@s32g274ardb2:~# # --- 3. 리눅스 인터페이스 활성화 ---
root@s32g274ardb2:~# echo "### 3. 리눅스 인터페이스를 활성화하고 IP를 설정합니다..."
### 3. 리눅스 인터페이스를 활성화하고 IP를 설정합니다...
root@s32g274ardb2:~# # pfe0, pfe1, pfe2 인터페이스를 켠다.
root@s32g274ardb2:~# ip link set pfe0 up
root@s32g274ardb2:~# ip link set pfe1 up
root@s32g274ardb2:~# ip link set pfe2 up
root@s32g274ardb2:~#
root@s32g274ardb2:~# # pfe0에만 IP를 할당하여 통신 테스트 준비
root@s32g274ardb2:~# ip addr add 192.168.1.1/24 dev pfe0
root@s32g274ardb2:~# echo "-> 인터페이스 활성화 및 IP 설정 완료."
-> 인터페이스 활성화 및 IP 설정 완료.
root@s32g274ardb2:~#
root@s32g274ardb2:~# echo ""

root@s32g274ardb2:~# echo "##############################################################"
##############################################################
root@s32g274ardb2:~# echo "### 모든 설정이 완료되었습니다."
### 모든 설정이 완료되었습니다.
root@s32g274ardb2:~# echo "### 이제 PC에서 iperf3 테스트를 실행하십시오."
### 이제 PC에서 iperf3 테스트를 실행하십시오.
root@s32g274ardb2:~# echo "##############################################################"
##############################################################
root@s32g274ardb2:~#
root@s32g274ardb2:~#
root@s32g274ardb2:~# iperf3 -s
-----------------------------------------------------------
Server listening on 5201 (test #1)
-----------------------------------------------------------
^Ciperf3: interrupt - the server has terminated
root@s32g274ardb2:~# ^C
root@s32g274ardb2:~# #!/bin/bash
root@s32g274ardb2:~#
root@s32g274ardb2:~# # --- 1. PFE 하드웨어 L2 브릿지 및 미러링 설정 ---
root@s32g274ardb2:~# # pfe0, pfe1, pfe2 포트를 모두 VLAN 브릿지 모드로 설정
root@s32g274ardb2:~# libfci_cli phyif-update --interface=emac0 --mode=VLAN_BRIDGE
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~# libfci_cli phyif-update --interface=emac1 --mode=VLAN_BRIDGE
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~# libfci_cli phyif-update --interface=emac2 --mode=VLAN_BRIDGE
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~#
'cb_mirror_rule'이라는 이름으로, emac2(pfe2)로 복제하는 규칙 생성
libfci_cli mirror-add --mirr=cb_mirror_rule --interface=emac2

# emac0(pfe0) 포트로 들어오는(rx) 모든 트래픽에 위 미러링 규칙을 적용
libfci_cli phyif-update --interface=emac0 --rxmirr0=cb_mirror_rule

root@s32g274ardb2:~# # 모든 포트가 서로 통신할 수 있도록 기본 VLAN 정책을 설정
root@s32g274ardb2:~# libfci_cli bd-update --vlan=1 --ucast-miss=FLOOD --mcast-miss=FLOOD
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
# --- 2. 리눅스 인터페이스 활성화 ---
ip link set pfe0 up
ip link set pfe1 up
ip link set pfe2 up

root@s32g274ardb2:~#
root@s32g274ardb2:~# # 'cb_mirror_rule'이라는 이름으로, emac2(pfe2)로 복제하는 규칙 생성
root@s32g274ardb2:~# libfci_cli mirror-add --mirr=cb_mirror_rule --interface=emac2
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
echo "### 하드웨어 브릿지 및 pfe0->pfe2 미러링 설정 완료 ###"root@s32g274ardb2:~#
root@s32g274ardb2:~# # emac0(pfe0) 포트로 들어오는(rx) 모든 트래픽에 위 미러링 규칙을 적용
root@s32g274ardb2:~# libfci_cli phyif-update --interface=emac0 --rxmirr0=cb_mirror_rule
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~#
root@s32g274ardb2:~# # --- 2. 리눅스 인터페이스 활성화 ---
root@s32g274ardb2:~# ip link set pfe0 up
root@s32g274ardb2:~# ip link set pfe1 up
root@s32g274ardb2:~# ip link set pfe2 up
root@s32g274ardb2:~#
root@s32g274ardb2:~# echo "### 하드웨어 브릿지 및 pfe0->pfe2 미러링 설정 완료 ###"
### 하드웨어 브릿지 및 pfe0->pfe2 미러링 설정 완료 ###
root@s32g274ardb2:~# #!/bin/bash
root@s32g274ardb2:~#
root@s32g274ardb2:~# # --- 1. PFE 하드웨어를 라우터 모드로 설정 ---
root@s32g274ardb2:~# echo "### 1. PFE 하드웨어를 라우터 모드로 설정합니다..."
### 1. PFE 하드웨어를 라우터 모드로 설정합니다...
root@s32g274ardb2:~# libfci_cli phyif-update --interface=emac0 --mode=ROUTER
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~# libfci_cli phyif-update --interface=emac1 --mode=ROUTER
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~# libfci_cli phyif-update --interface=emac2 --mode=ROUTER
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~# echo "-> 라우터 모드 설정 완료."
-> 라우터 모드 설정 완료.
root@s32g274ardb2:~# sleep 1
�팅 경로 설정 완료."
sleep 1

# --- 3. 하드웨어 대역폭 보장(CBS) 설정 ---
echo "### 3. pfe1 포트의 0번 큐에 200Mbps 대역폭을 할당합니다..."
# pfe1 포트의 0번 셰이퍼(shaper)를 스케줄러 0의 0번 입력에 연결
libfci_cli qos-shp-update -i emac1 --shp=0 --shp-pos=sch0_in0
# 해당 셰이퍼의 대역폭(idleslope)을 200,000,000 bps로 설정
libfci_cli qos-shp-update -i emac1 --shp=0 --isl=200000000
echo "-> CBS 설정 완료."

# --- 4. 리눅스 인터페이스 활성화 ---
echo "### 4. 리눅스 인터페이스를 활성화합니다..."
ip link set pfe0 up
ip link set pfe1 up
ip link set pfe2 up
echo "-> 인터페이스 활성화 완료."

echo ""
echo "##############################################################"
echo "### 모든 설정이 완료되었습니다."
echo "### 이제 PC에서 iperf3 테스트를 실행하십시오."
echo "##############################################################"root@s32g274ardb2:~#
root@s32g274ardb2:~# # --- 2. 하드웨어 라우팅 경로 생성 ---
root@s32g274ardb2:~# # pfe0(192.168.1.0/24) -> pfe1(192.168.2.0/24)로 가는 경로 추가
root@s32g274ardb2:~# echo "### 2. 하드웨어 라우팅 경로를 추가합니다..."
### 2. 하드웨어 라우팅 경로를 추가합니다...
root@s32g274ardb2:~# # Route ID 1: pfe1로 나가는 경로, 목적지 MAC은 PC 2번 랜카드
root@s32g274ardb2:~# libfci_cli route-add --rt=1 -4 --dmac=[PC_2번_랜카드_MAC_주소] -i emac1
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
ERROR (-115)
Invalid or missing argument(s) for the option '--dmac=[PC_2번_랜카드_MAC_주소]'.
If not missing, then maybe wrong upper/lower case? Or something too small/large/long?
�정@s32g274ardb2:~# # Conntrack 추가: 192.168.1.100 -> 192.168.2.100 트래픽은 Route ID 1번을 따르도록 설
root@s32g274ardb2:~# libfci_cli cntk-add -p 0 -s 192.168.1.100 -d 192.168.2.100 --sport=0 --dport=0 --rt=1
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
ERROR (3): demo_ct_add() failed!
ERROR (3): FPP_ERR_WRONG_COMMAND_PARAM
Some parameter of the command is wrong or invalid.
Check your input and try again.
root@s32g274ardb2:~# echo "-> 라우팅 경로 설정 완료."
-> 라우팅 경로 설정 완료.
root@s32g274ardb2:~# sleep 1
root@s32g274ardb2:~#
root@s32g274ardb2:~# # --- 3. 하드웨어 대역폭 보장(CBS) 설정 ---
root@s32g274ardb2:~# echo "### 3. pfe1 포트의 0번 큐에 200Mbps 대역폭을 할당합니다..."
### 3. pfe1 포트의 0번 큐에 200Mbps 대역폭을 할당합니다...
root@s32g274ardb2:~# # pfe1 포트의 0번 셰이퍼(shaper)를 스케줄러 0의 0번 입력에 연결
root@s32g274ardb2:~# libfci_cli qos-shp-update -i emac1 --shp=0 --shp-pos=sch0_in0
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~# # 해당 셰이퍼의 대역폭(idleslope)을 200,000,000 bps로 설정
root@s32g274ardb2:~# libfci_cli qos-shp-update -i emac1 --shp=0 --isl=200000000
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~# echo "-> CBS 설정 완료."
-> CBS 설정 완료.
root@s32g274ardb2:~#
root@s32g274ardb2:~# # --- 4. 리눅스 인터페이스 활성화 ---
root@s32g274ardb2:~# echo "### 4. 리눅스 인터페이스를 활성화합니다..."
### 4. 리눅스 인터페이스를 활성화합니다...
root@s32g274ardb2:~# ip link set pfe0 up
root@s32g274ardb2:~# ip link set pfe1 up
root@s32g274ardb2:~# ip link set pfe2 up
root@s32g274ardb2:~# echo "-> 인터페이스 활성화 완료."
-> 인터페이스 활성화 완료.
root@s32g274ardb2:~#
root@s32g274ardb2:~# echo ""

root@s32g274ardb2:~# echo "##############################################################"
##############################################################
root@s32g274ardb2:~# echo "### 모든 설정이 완료되었습니다."
### 모든 설정이 완료되었습니다.
root@s32g274ardb2:~# echo "### 이제 PC에서 iperf3 테스트를 실행하십시오."
### 이제 PC에서 iperf3 테스트를 실행하십시오.
root@s32g274ardb2:~# echo "##############################################################"
##############################################################
root@s32g274ardb2:~#
root@s32g274ardb2:~#
root@s32g274ardb2:~#
root@s32g274ardb2:~#
root@s32g274ardb2:~# #!/bin/bash
root@s32g274ardb2:~#
root@s32g274ardb2:~# echo "### [1단계] PFE 하드웨어를 L2 브릿지 모드로 설정합니다. ###"
### [1단계] PFE 하드웨어를 L2 브릿지 모드로 설정합니다. ###
root@s32g274ardb2:~# # pfe0 인터페이스(emac0)를 VLAN 브릿지 모드로 설정합니다.
root@s32g274ardb2:~# # p2a, p2b 포트는 모두 이 인터페이스에 연결되어 있습니다.
root@s32g274ardb2:~# libfci_cli phyif-update --interface=emac0 --mode=VLAN_BRIDGE
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~#
전파)로 설정합니다.# # 모든 포트가 서로 통신할 수 있도록 기본 VLAN(VLAN 1)의 정책을 FLOOD(전체 �
root@s32g274ardb2:~# libfci_cli bd-update --vlan=1 --ucast-miss=FLOOD --mcast-miss=FLOOD
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~# echo "-> 하드웨어 브릿지 설정 완료."
-> 하드웨어 브릿지 설정 완료.
root@s32g274ardb2:~# sleep 1
# 해당 셰이퍼의 대역폭(idleslope)을 200,000,000 bps (200Mbps)로 설정합니다.
libfci_cli qos-shp-update -i emac0 --shp=0 --isl=200000000
echo "-> pfe0(emac0) 포트에 200Mbps CBS 설정 완료."
sleep 1


echo "### [3단계] 리눅스 인터페이스를 활성화합니다. ###"
# pfe0 인터페이스를 켭니다.
ip link set pfe0 up
echo "-> 인터페이스 활성화 완료."


echo ""
echo "##############################################################"
echo "### 모든 설정이 완료되었습니다."
echo "### 이제 PC에서 iperf3 테스트를 실행하십시오."
echo "##############################################################"root@s32g274ardb2:~#
root@s32g274ardb2:~#
 ###"s32g274ardb2:~# echo "### [2단계] pfe0(emac0) 포트에 하드웨어 대역폭 제한(CBS)을 설정합니다.
### [2단계] pfe0(emac0) 포트에 하드웨어 대역폭 제한(CBS)을 설정합니다. ###
��다.2g274ardb2:~# # pfe0 포트의 0번 셰이퍼(shaper)를 스케줄러 0의 0번 입력(sch0_in0)에 연결합��
root@s32g274ardb2:~# libfci_cli qos-shp-update -i emac0 --shp=0 --shp-pos=sch0_in0
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~#
root@s32g274ardb2:~# # 해당 셰이퍼의 대역폭(idleslope)을 200,000,000 bps (200Mbps)로 설정합니다.
root@s32g274ardb2:~# libfci_cli qos-shp-update -i emac0 --shp=0 --isl=200000000
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~# echo "-> pfe0(emac0) 포트에 200Mbps CBS 설정 완료."
-> pfe0(emac0) 포트에 200Mbps CBS 설정 완료.
root@s32g274ardb2:~# sleep 1
root@s32g274ardb2:~#
root@s32g274ardb2:~#
root@s32g274ardb2:~# echo "### [3단계] 리눅스 인터페이스를 활성화합니다. ###"
### [3단계] 리눅스 인터페이스를 활성화합니다. ###
root@s32g274ardb2:~# # pfe0 인터페이스를 켭니다.
root@s32g274ardb2:~# ip link set pfe0 up
root@s32g274ardb2:~# echo "-> 인터페이스 활성화 완료."
-> 인터페이스 활성화 완료.
root@s32g274ardb2:~#
root@s32g274ardb2:~#
root@s32g274ardb2:~# echo ""

root@s32g274ardb2:~# echo "##############################################################"
##############################################################
root@s32g274ardb2:~# echo "### 모든 설정이 완료되었습니다."
### 모든 설정이 완료되었습니다.
root@s32g274ardb2:~# echo "### 이제 PC에서 iperf3 테스트를 실행하십시오."
### 이제 PC에서 iperf3 테스트를 실행하십시오.
root@s32g274ardb2:~# echo "##############################################################"
##############################################################
root@s32g274ardb2:~# #!/bin/bash
root@s32g274ardb2:~#
root@s32g274ardb2:~# echo "### [1단계] PFE 하드웨어를 L2 브릿지 모드로 설정합니다. ###"
### [1단계] PFE 하드웨어를 L2 브릿지 모드로 설정합니다. ###
root@s32g274ardb2:~# libfci_cli phyif-update --interface=emac0 --mode=VLAN_BRIDGE
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
sleep 1

echo "### [2단계] pfe0(emac0) 포트에 Ingress QoS Policer (200Mbps)를 설정합니다. ###"
# Ingress QoS Policer 블록 활성화
libfci_cli qos-pol-set -i emac0 -E

# PORT 셰이퍼(shaper) ��root@s32g274ardb2:~# libfci_cli bd-update --vlan=1 --ucast-miss=FLOOD --mcast-miss=FLOOD
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~# echo "-> 하드웨어 브릿지 설정 완료."
-> 하드웨어 브릿지 설정 완료.
�성화 및 속도 설정
# --shp=0: 0번 셰이퍼 사용
# --shp-type=PORT: 포트 전체에 적용
# --isl=200000000: Idle Slope을 200Mbps로 설정
libfci_cli qos-pol-shp-update -i emac0 --shp=0 --shp-type=PORT -E --isl=200000000
echo "-> Ingress QoS Policer 설정 완료."
root@s32g274ardb2:~# sleep 1
sleep 1

echo "### [3단계] 리눅스 인터페이스 활성화 및 IP 설정 ###"
ip link set pfe0 up
ip addr add 192.168.1.1/24 dev pfe0
echo "-> 인터페이스 활성화 및 IP 설정 완료."

echo ""
echo "##############################################################"
echo "### 모든 설정이 완료되었습니다."
echo "### 이제 PC에서 GoldBox로 iperf3 테스트를 실행하십시오."
root@s32g274ardb2:~# echo "### [2단계] pfe0(emac0) 포트에 Ingress QoS Policer (200Mbps)를 설정합니다. ###"
### [2단계] pfe0(emac0) 포트에 Ingress QoS Policer (200Mbps)를 설정합니다. ###(200Mbps)를 설정합니다. ###"
root@s32g274ardb2:~# # Ingress QoS Policer 블록 활성화
root@s32g274ardb2:~# libfci_cli qos-pol-set -i emac0 -E
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~#
root@s32g274ardb2:~# # PORT 셰이퍼(shaper) 활성화 및 속도 설정
root@s32g274ardb2:~# # --shp=0: 0번 셰이퍼 사용
root@s32g274ardb2:~# # --shp-type=PORT: 포트 전체에 적용
root@s32g274ardb2:~# # --isl=200000000: Idle Slope을 200Mbps로 설정
root@s32g274ardb2:~# libfci_cli qos-pol-shp-update -i emac0 --shp=0 --shp-type=PORT -E --isl=200000000
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~# echo "-> Ingress QoS Policer 설정 완료."
-> Ingress QoS Policer 설정 완료.
root@s32g274ardb2:~# sleep 1
root@s32g274ardb2:~#
root@s32g274ardb2:~# echo "### [3단계] 리눅스 인터페이스 활성화 및 IP 설정 ###"
### [3단계] 리눅스 인터페이스 활성화 및 IP 설정 ###
root@s32g274ardb2:~# ip link set pfe0 up
root@s32g274ardb2:~# ip addr add 192.168.1.1/24 dev pfe0
Error: ipv4: Address already assigned.
root@s32g274ardb2:~# echo "-> 인터페이스 활성화 및 IP 설정 완료."
-> 인터페이스 활성화 및 IP 설정 완료.
root@s32g274ardb2:~#
root@s32g274ardb2:~# echo ""

root@s32g274ardb2:~# echo "##############################################################"
##############################################################
root@s32g274ardb2:~# echo "### 모든 설정이 완료되었습니다."
### 모든 설정이 완료되었습니다.
root@s32g274ardb2:~# echo "### 이제 PC에서 GoldBox로 iperf3 테스트를 실행하십시오."
### 이제 PC에서 GoldBox로 iperf3 테스트를 실행하십시오.
root@s32g274ardb2:~# echo "##############################################################"
##############################################################
root@s32g274ardb2:~#
root@s32g274ardb2:~# iperf3 -s
-----------------------------------------------------------
Server listening on 5201 (test #1)
-----------------------------------------------------------
^Ciperf3: interrupt - the server has terminated
root@s32g274ardb2:~# ip link
1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT group default qlen 1000
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
2: can0: <NOARP,ECHO> mtu 16 qdisc noop state DOWN mode DEFAULT group default qlen 10
    link/can
3: can1: <NOARP,ECHO> mtu 16 qdisc noop state DOWN mode DEFAULT group default qlen 10
    link/can
4: teql0: <NOARP> mtu 1500 qdisc noop state DOWN mode DEFAULT group default qlen 100
    link/void
5: sit0@NONE: <NOARP> mtu 1480 qdisc noop state DOWN mode DEFAULT group default qlen 1000
    link/sit 0.0.0.0 brd 0.0.0.0
6: end0: <NO-CARRIER,BROADCAST,MULTICAST,UP> mtu 1500 qdisc mq state DOWN mode DEFAULT group default qlen 1000
    link/ether da:41:ad:66:43:ac brd ff:ff:ff:ff:ff:ff
7: pfe0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1536 qdisc fq_codel state UP mode DEFAULT group default qlen 1000
    link/ether 00:04:9f:be:ef:00 brd ff:ff:ff:ff:ff:ff
8: pfe1: <NO-CARRIER,BROADCAST,MULTICAST,UP> mtu 1500 qdisc fq_codel state DOWN mode DEFAULT group default qlen 1000
    link/ether 00:04:9f:be:ef:01 brd ff:ff:ff:ff:ff:ff
9: pfe2: <NO-CARRIER,BROADCAST,MULTICAST,UP> mtu 1500 qdisc fq_codel state DOWN mode DEFAULT group default qlen 1000
    link/ether 00:04:9f:be:ef:02 brd ff:ff:ff:ff:ff:ff
10: p1@pfe0: <BROADCAST,MULTICAST> mtu 1500 qdisc noop state DOWN mode DEFAULT group default qlen 1000
    link/ether 00:04:9f:be:ef:00 brd ff:ff:ff:ff:ff:ff
11: p2@pfe0: <BROADCAST,MULTICAST> mtu 1500 qdisc noop state DOWN mode DEFAULT group default qlen 1000
    link/ether 00:04:9f:be:ef:00 brd ff:ff:ff:ff:ff:ff
12: p3@pfe0: <BROADCAST,MULTICAST> mtu 1500 qdisc noop state DOWN mode DEFAULT group default qlen 1000
    link/ether 00:04:9f:be:ef:00 brd ff:ff:ff:ff:ff:ff
13: trx5@pfe0: <BROADCAST,MULTICAST> mtu 1500 qdisc noop state DOWN mode DEFAULT group default qlen 1000
    link/ether 00:04:9f:be:ef:00 brd ff:ff:ff:ff:ff:ff
14: trx6@pfe0: <BROADCAST,MULTICAST> mtu 1500 qdisc noop state DOWN mode DEFAULT group default qlen 1000
    link/ether 00:04:9f:be:ef:00 brd ff:ff:ff:ff:ff:ff
15: trx7@pfe0: <BROADCAST,MULTICAST> mtu 1500 qdisc noop state DOWN mode DEFAULT group default qlen 1000
    link/ether 00:04:9f:be:ef:00 brd ff:ff:ff:ff:ff:ff
16: trx8@pfe0: <BROADCAST,MULTICAST> mtu 1500 qdisc noop state DOWN mode DEFAULT group default qlen 1000
    link/ether 00:04:9f:be:ef:00 brd ff:ff:ff:ff:ff:ff
17: trx9@pfe0: <BROADCAST,MULTICAST> mtu 1500 qdisc noop state DOWN mode DEFAULT group default qlen 1000
    link/ether 00:04:9f:be:ef:00 brd ff:ff:ff:ff:ff:ff
18: trx10@pfe0: <BROADCAST,MULTICAST> mtu 1500 qdisc noop state DOWN mode DEFAULT group default qlen 1000
    link/ether 00:04:9f:be:ef:00 brd ff:ff:ff:ff:ff:ff
root@s32g274ardb2:~# ifconfig
end0: flags=4099<UP,BROADCAST,MULTICAST>  mtu 1500
        ether da:41:ad:66:43:ac  txqueuelen 1000  (Ethernet)
        RX packets 0  bytes 0 (0.0 B)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 0  bytes 0 (0.0 B)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
        device interrupt 54  base 0xa000

lo: flags=73<UP,LOOPBACK,RUNNING>  mtu 65536
        inet 127.0.0.1  netmask 255.0.0.0
        inet6 ::1  prefixlen 128  scopeid 0x10<host>
        loop  txqueuelen 1000  (Local Loopback)
        RX packets 52  bytes 2600 (2.5 KiB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 52  bytes 2600 (2.5 KiB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

pfe0: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1536
        inet 192.168.1.1  netmask 255.255.255.0  broadcast 0.0.0.0
        inet6 fe80::204:9fff:febe:ef00  prefixlen 64  scopeid 0x20<link>
        ether 00:04:9f:be:ef:00  txqueuelen 1000  (Ethernet)
        RX packets 0  bytes 0 (0.0 B)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 42  bytes 10260 (10.0 KiB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
        device memory 0x46000000-46ffffff

pfe1: flags=4099<UP,BROADCAST,MULTICAST>  mtu 1500
        inet6 fe80::204:9fff:febe:ef01  prefixlen 64  scopeid 0x20<link>
        ether 00:04:9f:be:ef:01  txqueuelen 1000  (Ethernet)
        RX packets 9  bytes 590 (590.0 B)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 6  bytes 774 (774.0 B)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
        device memory 0x46000000-46ffffff

pfe2: flags=4099<UP,BROADCAST,MULTICAST>  mtu 1500
        inet6 fe80::204:9fff:febe:ef02  prefixlen 64  scopeid 0x20<link>
        ether 00:04:9f:be:ef:02  txqueuelen 1000  (Ethernet)
        RX packets 21  bytes 1592 (1.5 KiB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 12  bytes 1968 (1.9 KiB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
        device memory 0x46000000-46ffffff

root@s32g274ardb2:~# ^C
root@s32g274ardb2:~#
root@s32g274ardb2:~#
root@s32g274ardb2:~#
root@s32g274ardb2:~#
root@s32g274ardb2:~#
root@s32g274ardb2:~#
root@s32g274ardb2:~#
root@s32g274ardb2:~# ip link set pfe0 up
root@s32g274ardb2:~# ip link set p2 up
root@s32g274ardb2:~# ip link set p3 up
root@s32g274ardb2:~#
root@s32g274ardb2:~#
root@s32g274ardb2:~# # 1. p3 포트의 기존 Queueing Discipline(qdisc)을 삭제하여 초기화합니다.
root@s32g274ardb2:~# tc qdisc del dev p3 root 2>/dev/null || true
root@s32g274ardb2:~#
TAS)를 제어합니다.~# # 2. 'taprio' qdisc를 p3 포트에 직접 설정하여 하드웨어 시간 기반 스케줄러(T
처리하라고 명시합니다.    - hw_offload 1: 이 모든 설정을 소프트웨어가 아닌 하드웨어(SJA1110)에서 �
root@s32g274ardb2:~# #    - sched-entry: 200ms 주기의 시간표를 설정합니다.
root@s32g274ardb2:~# #      - S 01 100000000: 첫 100ms 동안은 TC0만 통과(Gate Mask '01')
root@s32g274ardb2:~# #      - S 02 100000000: 다음 100ms 동안은 TC1만 통과(Gate Mask '02')
root@s32g274ardb2:~# tc qdisc replace dev p3 parent root handle 100 taprio \
>     num_tc 2 \
>     map 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 \
>     queues 1@0 1@1 \
>     base-time $(($(date +%s%N) + 1000000000)) \
>     sched-entry S 01 100000000 \
>     sched-entry S 02 100000000 \
>     hw_offload 1
Unknown argument
root@s32g274ardb2:~#
root@s32g274ardb2:~# ^C
root@s32g274ardb2:~#
root@s32g274ardb2:~#
root@s32g274ardb2:~#
root@s32g274ardb2:~#
root@s32g274ardb2:~# #!/bin/bash
root@s32g274ardb2:~#
root@s32g274ardb2:~# echo "### [1단계] PFE 하드웨어를 L2 브릿지 모드로 설정합니다. ###"
### [1단계] PFE 하드웨어를 L2 브릿지 모드로 설정합니다. ###
root@s32g274ardb2:~# # pfe0 인터페이스(emac0)를 VLAN 브릿지 모드로 설정합니다.
root@s32g274ardb2:~# libfci_cli phyif-update --interface=emac0 --mode=VLAN_BRIDGE
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
echo "-> 하드웨어 브릿지 설정 완료."
sleep 1

echo "### [2단계] pfe0(emac0) 포트에 하드웨어 대역폭 제한(Egress CBS)을 설정합니다. ###"
# pfe0 포트의 0번 셰이퍼(shaper)를 스케줄러 0의 0번 입력(sch0_in0)에 연결합니다.
libfci_cli qos-shp-update -i emac0 --shp=0 --shp-pos=sch0_in0

root@s32g274ardb2:~#
��합니다.4ardb2:~# # 모든 포트가 서로 통신할 수 있도록 기본 VLAN(VLAN 1)의 정책을 FLOOD로 설��
root@s32g274ardb2:~# libfci_cli bd-update --vlan=1 --ucast-miss=FLOOD --mcast-miss=FLOOD
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
# 해당 셰이퍼의 대역폭(idleslope)을 200,000,000 bps (200Mbps)로 설정합니다.
libfci_cli qos-shp-update -i emac0 --shp=0 --isl=200000000
echo "-> pfe0(emac0) Egress Port에 200Mbps CBS 설정 완료."
sleep 1

root@s32g274ardb2:~# echo "-> 하드웨어 브릿지 설정 완료."
-> 하드웨어 브릿지 설정 완료.
root@s32g274ardb2:~# sleep 1
echo "### [3단계] 리눅스 인터페이스를 활성화하고 IP를 설정합니다. ###"
# pfe0 인터페이스를 켜고, 통신 테스트를 위해 IP를 할당합니다.
ip link set pfe0 up
ip addr add 192.168.1.1/24 dev pfe0
echo "-> 인터페이스 활성화 및 IP 설정 완료."

echo ""
echo "##############################################################"
echo "### 모든 설정이 완료되었습니다."
echo "### 이제 PC를 GoldBox의 P2A 또는 P2B 포트에 연결하고"
echo "### iperf3 서버를 GoldBox에서 실행한 뒤, PC에서 테스트하십시오."
echo "##############################################################"
root@s32g274ardb2:~#
니다. ###"74ardb2:~# echo "### [2단계] pfe0(emac0) 포트에 하드웨어 대역폭 제한(Egress CBS)을 설정합�
### [2단계] pfe0(emac0) 포트에 하드웨어 대역폭 제한(Egress CBS)을 설정합니다. ###
��다.2g274ardb2:~# # pfe0 포트의 0번 셰이퍼(shaper)를 스케줄러 0의 0번 입력(sch0_in0)에 연결합��
root@s32g274ardb2:~# libfci_cli qos-shp-update -i emac0 --shp=0 --shp-pos=sch0_in0
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~#
root@s32g274ardb2:~# # 해당 셰이퍼의 대역폭(idleslope)을 200,000,000 bps (200Mbps)로 설정합니다.
root@s32g274ardb2:~# libfci_cli qos-shp-update -i emac0 --shp=0 --isl=200000000
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~# echo "-> pfe0(emac0) Egress Port에 200Mbps CBS 설정 완료."
-> pfe0(emac0) Egress Port에 200Mbps CBS 설정 완료.
root@s32g274ardb2:~# sleep 1
root@s32g274ardb2:~#
root@s32g274ardb2:~# echo "### [3단계] 리눅스 인터페이스를 활성화하고 IP를 설정합니다. ###"
### [3단계] 리눅스 인터페이스를 활성화하고 IP를 설정합니다. ###
root@s32g274ardb2:~# # pfe0 인터페이스를 켜고, 통신 테스트를 위해 IP를 할당합니다.
root@s32g274ardb2:~# ip link set pfe0 up
root@s32g274ardb2:~# ip addr add 192.168.1.1/24 dev pfe0
Error: ipv4: Address already assigned.
root@s32g274ardb2:~# echo "-> 인터페이스 활성화 및 IP 설정 완료."
-> 인터페이스 활성화 및 IP 설정 완료.
root@s32g274ardb2:~#
root@s32g274ardb2:~# echo ""

root@s32g274ardb2:~# echo "##############################################################"
##############################################################
root@s32g274ardb2:~# echo "### 모든 설정이 완료되었습니다."
### 모든 설정이 완료되었습니다.
root@s32g274ardb2:~# echo "### 이제 PC를 GoldBox의 P2A 또는 P2B 포트에 연결하고"
### 이제 PC를 GoldBox의 P2A 또는 P2B 포트에 연결하고
root@s32g274ardb2:~# echo "### iperf3 서버를 GoldBox에서 실행한 뒤, PC에서 테스트하십시오."
### iperf3 서버를 GoldBox에서 실행한 뒤, PC에서 테스트하십시오.
root@s32g274ardb2:~# echo "##############################################################"
##############################################################
root@s32g274ardb2:~#
root@s32g274ardb2:~#
root@s32g274ardb2:~#
root@s32g274ardb2:~# iperf3 -c 192.168.1.10 -u -b 500M -t 60
iperf3: error - unable to connect to server - server may have stopped running or use a different port, firewall issue, etc.: No route to host
root@s32g274ardb2:~# iperf3 -c 192.168.1.10 -u -b 500M -t 60
iperf3: error - unable to connect to server - server may have stopped running or use a different port, firewall issue, etc.: No route to host
root@s32g274ardb2:~# iperf3 -c 192.168.1.10 -u -b 500M -t 60
iperf3: error - unable to connect to server - server may have stopped running or use a different port, firewall issue, etc.: No route to host
root@s32g274ardb2:~# ip addr flush dev pfe0
root@s32g274ardb2:~#
root@s32g274ardb2:~#
root@s32g274ardb2:~# ping 192.168.1.1
ping: connect: Network is unreachable
root@s32g274ardb2:~# ping 192.168.1.10
ping: connect: Network is unreachable
root@s32g274ardb2:~# ^C
root@s32g274ardb2:~# #!/bin/bash
root@s32g274ardb2:~#
root@s32g274ardb2:~# echo "### [1단계] 모든 네트워크 설정을 깨끗하게 초기화합니다. ###"
### [1단계] 모든 네트워크 설정을 깨끗하게 초기화합니다. ###
root@s32g274ardb2:~# ip addr flush dev pfe0
root@s32g274ardb2:~# ip addr flush dev pfe1
root@s32g274ardb2:~# ip addr flush dev pfe2
root@s32g274ardb2:~# sleep 1
echo "### [3단계] pfe0(emac0) 포트에 하드웨어 대역폭 제한(Ingress CBS)을 설정합니다. ###"
# Ingress QoS Policer 블록 활성화
libfci_cli qos-pol-set -i emac0 -E
# PORT 셰이퍼(shaper) 활성화 및 속도를 200Mbps로 설정
libfci_cli qos-pol-shp-update -i emac0 --shp=0 --shp-type=PORT -E --isl=200000000
echo "-> Ingress QoS Policer (200Mbps) 설정 완료."
sleep 1

echo "### [4단계] 리눅스 인터페이스 활성화 및 IP 설정 ###"
ip link set pfe0 up
ip addr add 192.168.1.1/24 dev pfe0
echo "-> 인터페이스 활성화 및 IP 설정 완료."

echo ""
echo "##############################################################"
echo "### 모든 설정이 완료되었습니다."
echo "### 이제 PC를 P2A 또는 P2B 포트에 연결하고 iperf3 테스트를 실행하십시오."
echo "##############################################################"root@s32g274ardb2:~#
root@s32g274ardb2:~# echo "### [2단계] PFE 하드웨어를 '라우터 모드'로 설정합니다. ###"
### [2단계] PFE 하드웨어를 '라우터 모드'로 설정합니다. ###
root@s32g274ardb2:~# libfci_cli phyif-update --interface=emac0 --mode=ROUTER
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~# echo "-> pfe0(emac0)를 라우터 모드로 설정 완료."
-> pfe0(emac0)를 라우터 모드로 설정 완료.
root@s32g274ardb2:~# sleep 1
root@s32g274ardb2:~#
�니다. ###"ardb2:~# echo "### [3단계] pfe0(emac0) 포트에 하드웨어 대역폭 제한(Ingress CBS)을 설정합
### [3단계] pfe0(emac0) 포트에 하드웨어 대역폭 제한(Ingress CBS)을 설정합니다. ###
root@s32g274ardb2:~# # Ingress QoS Policer 블록 활성화
root@s32g274ardb2:~# libfci_cli qos-pol-set -i emac0 -E
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~# # PORT 셰이퍼(shaper) 활성화 및 속도를 200Mbps로 설정
root@s32g274ardb2:~# libfci_cli qos-pol-shp-update -i emac0 --shp=0 --shp-type=PORT -E --isl=200000000
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~# echo "-> Ingress QoS Policer (200Mbps) 설정 완료."
-> Ingress QoS Policer (200Mbps) 설정 완료.
root@s32g274ardb2:~# sleep 1
root@s32g274ardb2:~#
root@s32g274ardb2:~# echo "### [4단계] 리눅스 인터페이스 활성화 및 IP 설정 ###"
### [4단계] 리눅스 인터페이스 활성화 및 IP 설정 ###
root@s32g274ardb2:~# ip link set pfe0 up
root@s32g274ardb2:~# ip addr add 192.168.1.1/24 dev pfe0
root@s32g274ardb2:~# echo "-> 인터페이스 활성화 및 IP 설정 완료."
-> 인터페이스 활성화 및 IP 설정 완료.
root@s32g274ardb2:~#
root@s32g274ardb2:~# echo ""

root@s32g274ardb2:~# echo "##############################################################"
##############################################################
root@s32g274ardb2:~# echo "### 모든 설정이 완료되었습니다."
### 모든 설정이 완료되었습니다.
오."@s32g274ardb2:~# echo "### 이제 PC를 P2A 또는 P2B 포트에 연결하고 iperf3 테스트를 실행하십시�
### 이제 PC를 P2A 또는 P2B 포트에 연결하고 iperf3 테스트를 실행하십시오.
root@s32g274ardb2:~# echo "##############################################################"
##############################################################
root@s32g274ardb2:~# ping 192.168.1.10
PING 192.168.1.10 (192.168.1.10) 56(84) bytes of data.
From 192.168.1.1 icmp_seq=1 Destination Host Unreachable
From 192.168.1.1 icmp_seq=2 Destination Host Unreachable
From 192.168.1.1 icmp_seq=3 Destination Host Unreachable
From 192.168.1.1 icmp_seq=4 Destination Host Unreachable
From 192.168.1.1 icmp_seq=5 Destination Host Unreachable
From 192.168.1.1 icmp_seq=6 Destination Host Unreachable
From 192.168.1.1 icmp_seq=7 Destination Host Unreachable
From 192.168.1.1 icmp_seq=8 Destination Host Unreachable
From 192.168.1.1 icmp_seq=9 Destination Host Unreachable
From 192.168.1.1 icmp_seq=10 Destination Host Unreachable
From 192.168.1.1 icmp_seq=11 Destination Host Unreachable
From 192.168.1.1 icmp_seq=12 Destination Host Unreachable
From 192.168.1.1 icmp_seq=13 Destination Host Unreachable
From 192.168.1.1 icmp_seq=14 Destination Host Unreachable
From 192.168.1.1 icmp_seq=15 Destination Host Unreachable
From 192.168.1.1 icmp_seq=16 Destination Host Unreachable
From 192.168.1.1 icmp_seq=17 Destination Host Unreachable
From 192.168.1.1 icmp_seq=18 Destination Host Unreachable
^C
--- 192.168.1.10 ping statistics ---
20 packets transmitted, 0 received, +18 errors, 100% packet loss, time 19460ms
pipe 3
root@s32g274ardb2:~# ping 192.168.1.20
PING 192.168.1.20 (192.168.1.20) 56(84) bytes of data.
From 192.168.1.1 icmp_seq=1 Destination Host Unreachable
From 192.168.1.1 icmp_seq=2 Destination Host Unreachable
From 192.168.1.1 icmp_seq=3 Destination Host Unreachable
From 192.168.1.1 icmp_seq=4 Destination Host Unreachable
From 192.168.1.1 icmp_seq=5 Destination Host Unreachable
From 192.168.1.1 icmp_seq=6 Destination Host Unreachable
From 192.168.1.1 icmp_seq=7 Destination Host Unreachable
From 192.168.1.1 icmp_seq=8 Destination Host Unreachable
From 192.168.1.1 icmp_seq=9 Destination Host Unreachable
From 192.168.1.1 icmp_seq=10 Destination Host Unreachable
From 192.168.1.1 icmp_seq=11 Destination Host Unreachable
From 192.168.1.1 icmp_seq=12 Destination Host Unreachable
^C
--- 192.168.1.20 ping statistics ---
14 packets transmitted, 0 received, +12 errors, 100% packet loss, time 13296ms
pipe 3
root@s32g274ardb2:~# ^C
root@s32g274ardb2:~# iperf3 -c 192.168.1.1 -p 5201
iperf3: error - unable to connect to server - server may have stopped running or use a different port, firewall issue, etc.: Connection refused
root@s32g274ardb2:~# ./iperf3 -c 192.168.1.1 -u -b 500M -t 60
-sh: ./iperf3: No such file or directory
root@s32g274ardb2:~# # arp -s [IP주소] [MAC주소]
root@s32g274ardb2:~# arp -s 192.168.1.10 00:E0:4C:68:13:36
root@s32g274ardb2:~# ping 192.168.1.10
PING 192.168.1.10 (192.168.1.10) 56(84) bytes of data.
^C
--- 192.168.1.10 ping statistics ---
7 packets transmitted, 0 received, 100% packet loss, time 6136ms

root@s32g274ardb2:~# iperf3 -s
-----------------------------------------------------------
Server listening on 5201 (test #1)
-----------------------------------------------------------
^Ciperf3: interrupt - the server has terminated
root@s32g274ardb2:~# ^C
root@s32g274ardb2:~# #!/bin/bash
root@s32g274ardb2:~#
root@s32g274ardb2:~# echo "### [1단계] 모든 네트워크 설정을 깨끗하게 초기화합니다. ###"
### [1단계] 모든 네트워크 설정을 깨끗하게 초기화합니다. ###
root@s32g274ardb2:~# ip addr flush dev pfe0
root@s32g274ardb2:~# ip addr flush dev pfe1
root@s32g274ardb2:~# ip addr flush dev pfe2
root@s32g274ardb2:~# sleep 1
ace=emac0 --mode=VLAN_BRIDGE
libfci_cli phyif-update --interface=emac2 --mode=VLAN_BRIDGE

# 두 포트를 VLAN 1번이라는 하나의 '방'에 넣어줍니다.
libfci_cli bd-insif --vlan=1 -i emac0 --tag=OFF
libfci_cli bd-insif --vlan=1 -i emac2 --tag=OFF

# 이 방(VLAN 1)의 정책을 'FLOOD'로 설정하여, 들어온 패킷을 다른 모든 포트로 전달하게 합니다.
libfci_cli bd-update --vlan=1 --ucast-miss=FLOOD --mcast-miss=FLOOD
echo "-> pfe0, pfe2 하드웨어 브릿지 설정 완료."
sleep 1

echo "### [3단계] pfe2(emac2) Egress 포트에 하드웨어 대역폭 제한(CBS)을 설정합니다. ###"
# pfe2 포트의 0번 셰이퍼(shaper)를 스케줄러 0의 0번 입력(sch0_in0)에 연결
libfci_cli qos-shp-update -i emac2 --shp=0 --shp-pos=sch0_in0

# 해당 셰이퍼의 대역폭(idleslope)을 200,000,000 bps (200Mbps)로 설정
libfci_cli qos-shp-update -i emac2 --shp=0 --isl=200000000
echo "-> pfe2(emac2) Egress Port에 200Mbps CBS 설정 완료."
sleep 1

echo "### [4단계] 리눅스 인터페이스를 활성화합니다. ###"
# IP 설정 없이 물리적인 포트만 켭니다.
ip link set pfe0 up
ip link set pfe2 up
echo "-> 인터페이스 활성화 완료."

echo ""
echo "##############################################################"
echo "### 모든 설정이 완료되었습니다."
echo "### 이제 PC에서 iperf3 테스트를 실행하십시오."
echo "##############################################################"root@s32g274ardb2:~#
root@s32g274ardb2:~# echo "### [2단계] PFE 하드웨어를 'VLAN 브릿지 모드'로 설정합니다. ###"
### [2단계] PFE 하드웨어를 'VLAN 브릿지 모드'로 설정합니다. ###
root@s32g274ardb2:~# # pfe0(emac0)과 pfe2(emac2)를 브릿지 모드로 설정
root@s32g274ardb2:~# libfci_cli phyif-update --interface=emac0 --mode=VLAN_BRIDGE
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~# libfci_cli phyif-update --interface=emac2 --mode=VLAN_BRIDGE
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~#
root@s32g274ardb2:~# # 두 포트를 VLAN 1번이라는 하나의 '방'에 넣어줍니다.
root@s32g274ardb2:~# libfci_cli bd-insif --vlan=1 -i emac0 --tag=OFF
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~# libfci_cli bd-insif --vlan=1 -i emac2 --tag=OFF
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~#
로 전달하게 합니다.# # 이 방(VLAN 1)의 정책을 'FLOOD'로 설정하여, 들어온 패킷을 다른 모든 포트�
root@s32g274ardb2:~# libfci_cli bd-update --vlan=1 --ucast-miss=FLOOD --mcast-miss=FLOOD
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~# echo "-> pfe0, pfe2 하드웨어 브릿지 설정 완료."
-> pfe0, pfe2 하드웨어 브릿지 설정 완료.
root@s32g274ardb2:~# sleep 1
root@s32g274ardb2:~#
니다. ###"74ardb2:~# echo "### [3단계] pfe2(emac2) Egress 포트에 하드웨어 대역폭 제한(CBS)을 설정합�
### [3단계] pfe2(emac2) Egress 포트에 하드웨어 대역폭 제한(CBS)을 설정합니다. ###
root@s32g274ardb2:~# # pfe2 포트의 0번 셰이퍼(shaper)를 스케줄러 0의 0번 입력(sch0_in0)에 연결
root@s32g274ardb2:~# libfci_cli qos-shp-update -i emac2 --shp=0 --shp-pos=sch0_in0
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~#
root@s32g274ardb2:~# # 해당 셰이퍼의 대역폭(idleslope)을 200,000,000 bps (200Mbps)로 설정
root@s32g274ardb2:~# libfci_cli qos-shp-update -i emac2 --shp=0 --isl=200000000
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~# echo "-> pfe2(emac2) Egress Port에 200Mbps CBS 설정 완료."
-> pfe2(emac2) Egress Port에 200Mbps CBS 설정 완료.
root@s32g274ardb2:~# sleep 1
root@s32g274ardb2:~#
root@s32g274ardb2:~# echo "### [4단계] 리눅스 인터페이스를 활성화합니다. ###"
### [4단계] 리눅스 인터페이스를 활성화합니다. ###
root@s32g274ardb2:~# # IP 설정 없이 물리적인 포트만 켭니다.
root@s32g274ardb2:~# ip link set pfe0 up
root@s32g274ardb2:~# ip link set pfe2 up
root@s32g274ardb2:~# echo "-> 인터페이스 활성화 완료."
-> 인터페이스 활성화 완료.
root@s32g274ardb2:~#
root@s32g274ardb2:~# echo ""

root@s32g274ardb2:~# echo "##############################################################"
##############################################################
root@s32g274ardb2:~# echo "### 모든 설정이 완료되었습니다."
### 모든 설정이 완료되었습니다.
root@s32g274ardb2:~# echo "### 이제 PC에서 iperf3 테스트를 실행하십시오."
### 이제 PC에서 iperf3 테스트를 실행하십시오.
root@s32g274ardb2:~# echo "##############################################################"
##############################################################
root@s32g274ardb2:~#
root@s32g274ardb2:~#
root@s32g274ardb2:~# brctl addbr br0
root@s32g274ardb2:~# brctl addif br0 p2
root@s32g274ardb2:~# brctl addif br0 p3
root@s32g274ardb2:~# ip link set pfe0 up
root@s32g274ardb2:~# ip link set p2 up
root@s32g274ardb2:~# ip link set p3 up
root@s32g274ardb2:~# ip link set br0 up
root@s32g274ardb2:~#
root@s32g274ardb2:~#
root@s32g274ardb2:~#
root@s32g274ardb2:~#
root@s32g274ardb2:~# # 1. p3 포트의 기존 qdisc를 초기화합니다.
root@s32g274ardb2:~# tc qdisc del dev p3 root 2>/dev/null || true
root@s32g274ardb2:~#
root@s32g274ardb2:~# # 2. 'cbs' qdisc를 하드웨어 오프로딩 모드로 p3 포트에 직접 설정합니다.
root@s32g274ardb2:~# #    - idleslope: 보장할 대역폭 (200Mbps)
root@s32g274ardb2:~# #    - sendslope: 전체 링크 속도(1Gbps)에서 보장 대역폭을 뺀 값 (-800Mbps)
root@s32g274ardb2:~# #    - hicredit: 하이 크레딧
root@s32g274ardb2:~# #    - locredit: 로우 크레딧
root@s32g274ardb2:~# #    - offload: 하드웨어에서 처리하라는 플래그
root@s32g274ardb2:~# tc qdisc replace dev p3 cbs idleslope 200000000 sendslope -800000000 hicredit 1514 locredit -1514 offload
Command line is not complete. Try option "help"
root@s32g274ardb2:~# ^C
root@s32g274ardb2:~# #!/bin/bash
root@s32g274ardb2:~#
root@s32g274ardb2:~# echo "### [1단계] 모든 네트워크 설정을 깨끗하게 초기화합니다. ###"
### [1단계] 모든 네트워크 설정을 깨끗하게 초기화합니다. ###
root@s32g274ardb2:~# ip addr flush dev pfe0
root@s32g274ardb2:~# ip addr flush dev pfe1
root@s32g274ardb2:~# ip addr flush dev pfe2
root@s32g274ardb2:~# sleep 1
N 브릿지 모드'로 설정합니다. ###"
# pfe0(emac0)과 pfe2(emac2)를 브릿지 모드로 설정
libfci_cli phyif-update --interface=emac0 --mode=VLAN_BRIDGE
libfci_cli phyif-update --interface=emac2 --mode=VLAN_BRIDGE

# 두 포트를 VLAN 1번이라는 하나의 '방'에 넣어줍니다.
libfci_cli bd-insif --vlan=1 -i emac0 --tag=OFF
libfci_cli bd-insif --vlan=1 -i emac2 --tag=OFF

# 이 방(VLAN 1)의 정책을 'FLOOD'로 설정하여, 들어온 패킷을 다른 모든 포트로 전달하게 합니다.
libfci_cli bd-update --vlan=1 --ucast-miss=FLOOD --mcast-miss=FLOOD
echo "-> pfe0, pfe2 하드웨어 브릿지 설정 완료."
sleep 1

echo "### [3단계] 리눅스 인터페이스를 활성화합니다. ###"
# IP 설정 없이 물리적인 포트만 켭니다.
ip link set pfe0 up
ip link set pfe2 up
echo "-> 인터페이스 활성화 완료."

echo ""
echo "##############################################################"
echo "### 모든 설정이 완료되었습니다."
echo "### PC 양쪽에 IP를 설정하고 iperf3 테스트를 실행하십시오."
echo "##############################################################"root@s32g274ardb2:~#
root@s32g274ardb2:~# echo "### [2단계] PFE 하드웨어를 'VLAN 브릿지 모드'로 설정합니다. ###"
### [2단계] PFE 하드웨어를 'VLAN 브릿지 모드'로 설정합니다. ###
root@s32g274ardb2:~# # pfe0(emac0)과 pfe2(emac2)를 브릿지 모드로 설정
root@s32g274ardb2:~# libfci_cli phyif-update --interface=emac0 --mode=VLAN_BRIDGE
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~# libfci_cli phyif-update --interface=emac2 --mode=VLAN_BRIDGE
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~#
root@s32g274ardb2:~# # 두 포트를 VLAN 1번이라는 하나의 '방'에 넣어줍니다.
root@s32g274ardb2:~# libfci_cli bd-insif --vlan=1 -i emac0 --tag=OFF
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~# libfci_cli bd-insif --vlan=1 -i emac2 --tag=OFF
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~#
로 전달하게 합니다.# # 이 방(VLAN 1)의 정책을 'FLOOD'로 설정하여, 들어온 패킷을 다른 모든 포트�
root@s32g274ardb2:~# libfci_cli bd-update --vlan=1 --ucast-miss=FLOOD --mcast-miss=FLOOD
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~# echo "-> pfe0, pfe2 하드웨어 브릿지 설정 완료."
-> pfe0, pfe2 하드웨어 브릿지 설정 완료.
root@s32g274ardb2:~# sleep 1
root@s32g274ardb2:~#
root@s32g274ardb2:~# echo "### [3단계] 리눅스 인터페이스를 활성화합니다. ###"
### [3단계] 리눅스 인터페이스를 활성화합니다. ###
root@s32g274ardb2:~# # IP 설정 없이 물리적인 포트만 켭니다.
root@s32g274ardb2:~# ip link set pfe0 up
root@s32g274ardb2:~# ip link set pfe2 up
root@s32g274ardb2:~# echo "-> 인터페이스 활성화 완료."
-> 인터페이스 활성화 완료.
root@s32g274ardb2:~#
root@s32g274ardb2:~# echo ""

root@s32g274ardb2:~# echo "##############################################################"
##############################################################
root@s32g274ardb2:~# echo "### 모든 설정이 완료되었습니다."
### 모든 설정이 완료되었습니다.
root@s32g274ardb2:~# echo "### PC 양쪽에 IP를 설정하고 iperf3 테스트를 실행하십시오."
### PC 양쪽에 IP를 설정하고 iperf3 테스트를 실행하십시오.
root@s32g274ardb2:~# echo "##############################################################"
##############################################################
root@s32g274ardb2:~# #!/bin/bash
root@s32g274ardb2:~#
root@s32g274ardb2:~# echo "### [1단계] 모든 �
root@s32g274ardb2:~# echo "### [1단계] 모든 � 설정을 깨끗하게 초기화합니다. ###"
### [1단계] 모든 � 설정을 깨끗하게 초기화합니다. ###
root@s32g274ardb2:~# ip addr flush dev pfe0
root@s32g274ardb2:~# ip addr flush dev pfe1
root@s32g274ardb2:~# ip addr flush dev pfe2
root@s32g274ardb2:~# sleep 1
libfci_cli bd-insif --vlan=1 -i emac0 --tag=OFF
libfci_cli bd-insif --vlan=1 -i emac2 --tag=OFF

# 이 방(VLAN 1)의 정책을 'FLOOD'로 설정하여, 들어온 패킷을 다른 모든 포트로 전달하게 합니다.
libfci_cli bd-update --vlan=1 --ucast-miss=FLOOD --mcast-miss=FLOOD
echo "-> pfe0, pfe2 하드웨어 브릿지 설정 완료."
sleep 1

echo "### [3단계] 리눅스 인터페이스를 활성화합니다. ###"
# IP 설정 없이 물리적인 포트만 켭니다.
ip link set pfe0 up
ip link set pfe2 up
echo "-> 인터페이스 활성화 완료."

echo ""
echo "##############################################################"
echo "### 모든 설정이 완료되었습니다."
echo "### PC 양쪽에 IP를 설정하고 iperf3 테스트를 실행하십시오."
echo "##############################################################"
root@s32g274ardb2:~#
root@s32g274ardb2:~# echo "### [2단계] PFE 하드웨어를 'VLAN 브릿지 모드'로 설정합니다. ###"
### [2단계] PFE 하드웨어를 'VLAN 브릿지 모드'로 설정합니다. ###
root@s32g274ardb2:~# # pfe0(emac0)과 pfe2(emac2)를 브릿지 모드로 설정
root@s32g274ardb2:~# libfci_cli phyif-update --interface=emac0 --mode=VLAN_BRIDGE
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~# libfci_cli phyif-update --interface=emac2 --mode=VLAN_BRIDGE
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~#
root@s32g274ardb2:~# # 두 포트를 VLAN 1번이라는 하나의 '방'에 넣어줍니다.
root@s32g274ardb2:~# libfci_cli bd-insif --vlan=1 -i emac0 --tag=OFF
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~# libfci_cli bd-insif --vlan=1 -i emac2 --tag=OFF
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~#
로 전달하게 합니다.# # 이 방(VLAN 1)의 정책을 'FLOOD'로 설정하여, 들어온 패킷을 다른 모든 포트�
root@s32g274ardb2:~# libfci_cli bd-update --vlan=1 --ucast-miss=FLOOD --mcast-miss=FLOOD
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~# echo "-> pfe0, pfe2 하드웨어 브릿지 설정 완료."
-> pfe0, pfe2 하드웨어 브릿지 설정 완료.
root@s32g274ardb2:~# sleep 1



root@s32g274ardb2:~#
root@s32g274ardb2:~# echo "### [3단계] 리눅스 인터페이스를 활성화합니다. ###"
### [3단계] 리눅스 인터페이스를 활성화합니다. ###
root@s32g274ardb2:~# # IP 설정 없이 물리적인 포트만 켭니다.
root@s32g274ardb2:~# ip link set pfe0 up
root@s32g274ardb2:~# ip link set pfe2 up
root@s32g274ardb2:~# echo "-> 인터페이스 활성화 완료."
-> 인터페이스 활성화 완료.
root@s32g274ardb2:~#
root@s32g274ardb2:~# echo ""

root@s32g274ardb2:~# echo "##############################################################"
##############################################################
root@s32g274ardb2:~# echo "### 모든 설정이 완료되었습니다."
### 모든 설정이 완료되었습니다.
root@s32g274ardb2:~# echo "### PC 양쪽에 IP를 설정하고 iperf3 테스트를 실행하십시오."
### PC 양쪽에 IP를 설정하고 iperf3 테스트를 실행하십시오.
root@s32g274ardb2:~# echo "##############################################################"
##############################################################
root@s32g274ardb2:~#
root@s32g274ardb2:~#
root@s32g274ardb2:~#
root@s32g274ardb2:~#
root@s32g274ardb2:~#
root@s32g274ardb2:~#
root@s32g274ardb2:~#
root@s32g274ardb2:~# 192.168.1.20
-sh: 192.168.1.20: command not found
root@s32g274ardb2:~# ping 192.168.1.20
ping: connect: Network is unreachable
root@s32g274ardb2:~# ^C
root@s32g274ardb2:~# iperf3 -s
-----------------------------------------------------------
Server listening on 5201 (test #1)
-----------------------------------------------------------
^Ciperf3: interrupt - the server has terminated
root@s32g274ardb2:~# #!/bin/bash
root@s32g274ardb2:~#
root@s32g274ardb2:~# echo "### [1단계] 모든 네트워크 설정을 깨끗하게 초기화합니다. ###"
### [1단계] 모든 네트워크 설정을 깨끗하게 초기화합니다. ###
root@s32g274ardb2:~# ip addr flush dev pfe0
root@s32g274ardb2:~# ip addr flush dev pfe1
root@s32g274ardb2:~# ip addr flush dev pfe2
root@s32g274ardb2:~# sleep 1
libfci_cli phyif-update --interface=emac2 --mode=ROUTER
echo "-> 라우터 모드 설정 완료."
sleep 1

echo "### [3단계] 하드웨어 라우팅 경로를 생성합니다 (pfe0 -> pfe2). ###"
# Route ID 2번: pfe2(emac2)로 나가는 경로, 목적지 MAC은 PC 2번 랜카드(00-E0-4C-68-1A-04)
libfci_cli route-add --rt=2 -4 --dmac=00:E0:4C:68:1A:04 -i emac2
# Conntrack(연결 추적) 추가: 192.168.1.10에서 192.168.2.10으로 가는 트래픽은 Route ID 2번을 따르도록 설정
libfci_cli cntk-add -p 0 -s 192.168.1.10 -d 192.168.2.10 --sport=0 --dport=0 --rt=2
echo "-> 하드웨어 라우팅 경로 설정 완료."
sleep 1

echo "### [4단계] pfe2(emac2) Egress 포트에 하드웨어 대역폭 제한(CBS)을 설정합니다. ###"
# pfe2 포트의 0번 셰이퍼(shaper)를 스케줄러 0의 0번 입력(sch0_in0)에 연결
libfci_cli qos-shp-update -i emac2 --shp=0 --shp-pos=sch0_in0
# 해당 셰이퍼의 대역폭(idleslope)을 200,000,000 bps (200Mbps)로 설정
libfci_cli qos-shp-update -i emac2 --shp=0 --isl=200000000
echo "-> pfe2(emac2) Egress Port에 200Mbps CBS 설정 완료."
sleep 1

echo "### [5단계] 리눅스 인터페이스를 활성화하고 IP를 할당합니다. ###"
# 각 포트에 게이트웨이 역할을 할 IP를 할당
ip link set pfe0 up
ip addr add 192.168.1.1/24 dev pfe0
ip link set pfe2 up
ip addr add 192.168.2.1/24 dev pfe2
echo "-> 인터페이스 활성화 및 IP 설정 완료."

echo ""
echo "##############################################################"
echo "### 모든 설정이 완료되었습니다."
echo "### 이제 PC의 IP를 설정하고 iperf3 테스트를 실행하십시오."
echo "##############################################################"root@s32g274ardb2:~#
root@s32g274ardb2:~# echo "### [2단계] PFE 하드웨어를 '라우터 모드'로 설정합니다. ###"
### [2단계] PFE 하드웨어를 '라우터 모드'로 설정합니다. ###
root@s32g274ardb2:~# # pfe0(emac0)과 pfe2(emac2)를 라우터 모드로 설정
root@s32g274ardb2:~# libfci_cli phyif-update --interface=emac0 --mode=ROUTER
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~# libfci_cli phyif-update --interface=emac2 --mode=ROUTER
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~# echo "-> 라우터 모드 설정 완료."
-> 라우터 모드 설정 완료.
root@s32g274ardb2:~# sleep 1
root@s32g274ardb2:~#
root@s32g274ardb2:~# echo "### [3단계] 하드웨어 라우팅 경로를 생성합니다 (pfe0 -> pfe2). ###"
### [3단계] 하드웨어 라우팅 경로를 생성합니다 (pfe0 -> pfe2). ###
-1A-04)2g274ardb2:~# # Route ID 2번: pfe2(emac2)로 나가는 경로, 목적지 MAC은 PC 2번 랜카드(00-E0-4C-68-
root@s32g274ardb2:~# libfci_cli route-add --rt=2 -4 --dmac=00:E0:4C:68:1A:04 -i emac2
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
te ID 2번을 따르도록 설정nntrack(연결 추적) 추가: 192.168.1.10에서 192.168.2.10으로 가는 트래픽은 Rout
root@s32g274ardb2:~# libfci_cli cntk-add -p 0 -s 192.168.1.10 -d 192.168.2.10 --sport=0 --dport=0 --rt=2
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~# echo "-> 하드웨어 라우팅 경로 설정 완료."
-> 하드웨어 라우팅 경로 설정 완료.
root@s32g274ardb2:~# sleep 1
root@s32g274ardb2:~#
니다. ###"74ardb2:~# echo "### [4단계] pfe2(emac2) Egress 포트에 하드웨어 대역폭 제한(CBS)을 설정합�
### [4단계] pfe2(emac2) Egress 포트에 하드웨어 대역폭 제한(CBS)을 설정합니다. ###
root@s32g274ardb2:~# # pfe2 포트의 0번 셰이퍼(shaper)를 스케줄러 0의 0번 입력(sch0_in0)에 연결
root@s32g274ardb2:~# libfci_cli qos-shp-update -i emac2 --shp=0 --shp-pos=sch0_in0
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~# # 해당 셰이퍼의 대역폭(idleslope)을 200,000,000 bps (200Mbps)로 설정
root@s32g274ardb2:~# libfci_cli qos-shp-update -i emac2 --shp=0 --isl=200000000
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~# echo "-> pfe2(emac2) Egress Port에 200Mbps CBS 설정 완료."
-> pfe2(emac2) Egress Port에 200Mbps CBS 설정 완료.
root@s32g274ardb2:~# sleep 1
root@s32g274ardb2:~#
root@s32g274ardb2:~# echo "### [5단계] 리눅스 인터페이스를 활성화하고 IP를 할당합니다. ###"
### [5단계] 리눅스 인터페이스를 활성화하고 IP를 할당합니다. ###
root@s32g274ardb2:~# # 각 포트에 게이트웨이 역할을 할 IP를 할당
root@s32g274ardb2:~# ip link set pfe0 up
root@s32g274ardb2:~# ip addr add 192.168.1.1/24 dev pfe0
root@s32g274ardb2:~# ip link set pfe2 up
root@s32g274ardb2:~# ip addr add 192.168.2.1/24 dev pfe2
root@s32g274ardb2:~# echo "-> 인터페이스 활성화 및 IP 설정 완료."
-> 인터페이스 활성화 및 IP 설정 완료.
root@s32g274ardb2:~#
root@s32g274ardb2:~# echo ""

root@s32g274ardb2:~# echo "##############################################################"
##############################################################
root@s32g274ardb2:~# echo "### 모든 설정이 완료되었습니다."
### 모든 설정이 완료되었습니다.
root@s32g274ardb2:~# echo "### 이제 PC의 IP를 설정하고 iperf3 테스트를 실행하십시오."
### 이제 PC의 IP를 설정하고 iperf3 테스트를 실행하십시오.
root@s32g274ardb2:~# echo "##############################################################"
##############################################################
root@s32g274ardb2:~#
root@s32g274ardb2:~#
root@s32g274ardb2:~#
root@s32g274ardb2:~# #!/bin/bash
root@s32g274ardb2:~#
root@s32g274ardb2:~# echo "### [1단계] 모든 네트워크 설정을 깨끗하게 초기화합니다. ###"
### [1단계] 모든 네트워크 설정을 깨끗하게 초기화합니다. ###
root@s32g274ardb2:~# ip addr flush dev pfe0
root@s32g274ardb2:~# ip addr flush dev pfe1
root@s32g274ardb2:~# ip addr flush dev pfe2
root@s32g274ardb2:~# sleep 1
libfci_cli bd-insif --vlan=1 -i emac0 --tag=OFF
libfci_cli bd-insif --vlan=1 -i emac2 --tag=OFF

libfci_cli bd-update --vlan=1 --ucast-miss=FLOOD --mcast-miss=FLOOD
echo "-> pfe0, pfe2 하드웨어 브릿지 설정 완료."
sleep 1

echo "### [3단계] 리눅스 인터페이스를 활성화합니다. ###"
ip link set pfe0 up
ip link set pfe2 up
echo "-> 인터페이스 활성화 완료."

echo ""
echo "##############################################################"
echo "### 모든 설정이 완료되었습니다. 이제 PC에서 ARP를 발생시키세요 ###"
echo "##############################################################"root@s32g274ardb2:~#
root@s32g274ardb2:~# echo "### [2단계] PFE 하드웨어를 'VLAN 브릿지 모드'로 설정합니다. ###"
### [2단계] PFE 하드웨어를 'VLAN 브릿지 모드'로 설정합니다. ###
root@s32g274ardb2:~# libfci_cli phyif-update --interface=emac0 --mode=VLAN_BRIDGE
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~# libfci_cli phyif-update --interface=emac2 --mode=VLAN_BRIDGE
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~#
root@s32g274ardb2:~# libfci_cli bd-insif --vlan=1 -i emac0 --tag=OFF
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~# libfci_cli bd-insif --vlan=1 -i emac2 --tag=OFF
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~#
root@s32g274ardb2:~# libfci_cli bd-update --vlan=1 --ucast-miss=FLOOD --mcast-miss=FLOOD
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~# echo "-> pfe0, pfe2 하드웨어 브릿지 설정 완료."
-> pfe0, pfe2 하드웨어 브릿지 설정 완료.
root@s32g274ardb2:~# sleep 1
root@s32g274ardb2:~#
root@s32g274ardb2:~# echo "### [3단계] 리눅스 인터페이스를 활성화합니다. ###"
### [3단계] 리눅스 인터페이스를 활성화합니다. ###
root@s32g274ardb2:~# ip link set pfe0 up
root@s32g274ardb2:~# ip link set pfe2 up
root@s32g274ardb2:~# echo "-> 인터페이스 활성화 완료."
-> 인터페이스 활성화 완료.
root@s32g274ardb2:~#
root@s32g274ardb2:~# echo ""

root@s32g274ardb2:~# echo "##############################################################"
root@s32g274ardb2:~# echo "### 모든 설정이 완료되었습니다. 이제 PC에서 ARP를 발생시키세요 ###"
### 모든 설정이 완료되었습니다. 이제 PC에서 ARP를 발생시키세요 ###에서 ARP를 발생시키세요 ###"
root@s32g274ardb2:~# echo "##############################################################"
##############################################################
root@s32g274ardb2:~#
root@s32g274ardb2:~# #!/bin/bash
root@s32g274ardb2:~#
root@s32g274ardb2:~# echo "### [1단계] 모든 네트워크 설정을 깨끗하게 초기화합니다. ###"
### [1단계] 모든 네트워크 설정을 깨끗하게 초기화합니다. ###
root@s32g274ardb2:~# ip addr flush dev pfe0
root@s32g274ardb2:~# ip addr flush dev pfe1
root@s32g274ardb2:~# ip addr flush dev pfe2
root@s32g274ardb2:~# sleep 1
ac2 --mode=VLAN_BRIDGE

# 두 포트를 VLAN 1번이라는 하나의 '방'에 넣어줍니다.
libfci_cli bd-insif --vlan=1 -i emac0 --tag=OFF
libfci_cli bd-insif --vlan=1 -i emac2 --tag=OFF

# 이 방(VLAN 1)의 정책을 'FLOOD'로 설정하여, 들어온 패킷을 다른 모든 포트로 전달하게 합니다.
libfci_cli bd-update --vlan=1 --ucast-miss=FLOOD --mcast-miss=FLOOD
echo "-> pfe0, pfe2 하드웨어 브릿지 설정 완료."
sleep 1

echo "### [3단계] 리눅스 인터페이스를 활성화합니다. ###"
ip link set pfe0 up
ip link set pfe2 up
echo "-> 인터페이스 활성화 완료."

echo ""
echo "##############################################################"
echo "### 모든 설정이 완료되었습니다. 이제 PC 2대로 테스트 하십시오. ###"
echo "##############################################################"root@s32g274ardb2:~#
root@s32g274ardb2:~# echo "### [2단계] PFE 하드웨어를 'VLAN 브릿지 모드'로 설정합니다. ###"
### [2단계] PFE 하드웨어를 'VLAN 브릿지 모드'로 설정합니다. ###
root@s32g274ardb2:~# # pfe0(emac0)과 pfe2(emac2)를 브릿지 모드로 설정
root@s32g274ardb2:~# libfci_cli phyif-update --interface=emac0 --mode=VLAN_BRIDGE
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~# libfci_cli phyif-update --interface=emac2 --mode=VLAN_BRIDGE
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~#
root@s32g274ardb2:~# # 두 포트를 VLAN 1번이라는 하나의 '방'에 넣어줍니다.
root@s32g274ardb2:~# libfci_cli bd-insif --vlan=1 -i emac0 --tag=OFF
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~# libfci_cli bd-insif --vlan=1 -i emac2 --tag=OFF
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~#
로 전달하게 합니다.# # 이 방(VLAN 1)의 정책을 'FLOOD'로 설정하여, 들어온 패킷을 다른 모든 포트�
root@s32g274ardb2:~# libfci_cli bd-update --vlan=1 --ucast-miss=FLOOD --mcast-miss=FLOOD
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~# echo "-> pfe0, pfe2 하드웨어 브릿지 설정 완료."
-> pfe0, pfe2 하드웨어 브릿지 설정 완료.
root@s32g274ardb2:~# sleep 1
root@s32g274ardb2:~#
root@s32g274ardb2:~# echo "### [3단계] 리눅스 인터페이스를 활성화합니다. ###"
### [3단계] 리눅스 인터페이스를 활성화합니다. ###
root@s32g274ardb2:~# ip link set pfe0 up
root@s32g274ardb2:~# ip link set pfe2 up
root@s32g274ardb2:~# echo "-> 인터페이스 활성화 완료."
-> 인터페이스 활성화 완료.
root@s32g274ardb2:~#
root@s32g274ardb2:~# echo ""

root@s32g274ardb2:~# echo "##############################################################"
root@s32g274ardb2:~# echo "### 모든 설정이 완료되었습니다. 이제 PC 2대로 테스트 하십시오. ###"
### 모든 설정이 완료되었습니다. 이제 PC 2대로 테스트 하십시오. ### 2대로 테스트 하십시오. ###"
root@s32g274ardb2:~# echo "##############################################################"
##############################################################
root@s32g274ardb2:~#
root@s32g274ardb2:~#
root@s32g274ardb2:~#
root@s32g274ardb2:~# ip link set pfe0 up
root@s32g274ardb2:~# ip link set p2 up
root@s32g274ardb2:~# ip link set p3 up
root@s32g274ardb2:~#
root@s32g274ardb2:~#
root@s32g274ardb2:~# #!/bin/bash
root@s32g274ardb2:~#
root@s32g274ardb2:~# echo "### [1단계] DSA 인터페이스를 활성화합니다 (p2, p3, pfe2). ###"
### [1단계] DSA 인터페이스를 활성화합니다 (p2, p3, pfe2). ###
root@s32g274ardb2:~# ip link set pfe0 up
root@s32g274ardb2:~# ip link set p2 up
root@s32g274ardb2:~# ip link set p3 up
ip link set pfe2 up
sleep 1

echo "### [2단계] 기존 미러링 규칙을 삭제합니다 (오류 무시). ###"
# 이전에 적용된 미러링 설정을 모두 초기화
libfci_cli phyif-update --interface=emac0 --rxmirr0=disable 2>/dev/null || true
# 미러링 규칙 삭제
root@s32g274ardb2:~# ip link set pfe2 up
root@s32g274ardb2:~# sleep 1
libfci_cli mirror-del --mirr=cb_mirror_rule 2>/dev/null || true
echo "-> 초기화 완료."
sleep 1

echo "### [3단계] 하드웨어 프레임 복제(미러링) 규칙을 설정합니다. ###"
# 'cb_mirror_rule' 이라는 이름의 미러링 규칙을 생성합니다.
# 복제된 패킷이 나갈 목적지(Sniffer)는 pfe2(emac2) 입니다.
libfci_cli mirror-add --mirr=cb_mirror_rule --interface=emac2
echo "-> 복제된 패킷의 목적지: emac2 (pfe2)"

# p2(emac0의 일부로 간주)로 들어오는 모든 트래픽에 cb_mirror_rule을 적용합니다.
# libfci_cli는 p2를 직접 지정할 수 없으므로, 상위 인터페이스인 emac0에 규칙을 적용합니다.
libfci_cli phyif-update --interface=emac0 --rxmirr0=cb_mirror_rule
echo "-> 복제할 트래픽의 출발지: emac0 (p2 포트 수신 트래픽)"

echo ""
echo "##############################################################"
echo "### 모든 설정이 완료되었습니다."
echo "### 이제 Sniffer PC에서 Wireshark를 실행하고, Talker PC에서 ping을 보내세요."
echo "##############################################################"root@s32g274ardb2:~#
root@s32g274ardb2:~# echo "### [2단계] 기존 미러링 규칙을 삭제합니다 (오류 무시). ###"
### [2단계] 기존 미러링 규칙을 삭제합니다 (오류 무시). ###
root@s32g274ardb2:~# # 이전에 적용된 미러링 설정을 모두 초기화
root@s32g274ardb2:~# libfci_cli phyif-update --interface=emac0 --rxmirr0=disable 2>/dev/null || true
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
ERROR (61746): demo_phy_if_update() failed!
ERROR (61746): FPP_ERR_MIRROR_NOT_FOUND
Requested mirroring rule not found.
Is the rule name correct?
root@s32g274ardb2:~# # 미러링 규칙 삭제
root@s32g274ardb2:~# libfci_cli mirror-del --mirr=cb_mirror_rule 2>/dev/null || true
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
ERROR (61747): demo_mirror_del() failed!
ERROR (61747): FPP_ERR_MIRROR_CURRENTLY_UTILIZED
Requested mirroring rule cannot be deleted right now, because it is currently utilized by some other PFE feature.
Check physical interfaces. Some interface is probably using this rule.
root@s32g274ardb2:~# echo "-> 초기화 완료."
-> 초기화 완료.
root@s32g274ardb2:~# sleep 1
root@s32g274ardb2:~#
root@s32g274ardb2:~# echo "### [3단계] 하드웨어 프레임 복제(미러링) 규칙을 설정합니다. ###"
### [3단계] 하드웨어 프레임 복제(미러링) 규칙을 설정합니다. ###
root@s32g274ardb2:~# # 'cb_mirror_rule' 이라는 이름의 미러링 규칙을 생성합니다.
root@s32g274ardb2:~# # 복제된 패킷이 나갈 목적지(Sniffer)는 pfe2(emac2) 입니다.
root@s32g274ardb2:~# libfci_cli mirror-add --mirr=cb_mirror_rule --interface=emac2
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
ERROR (61745): demo_mirror_add() failed!
ERROR (61745): FPP_ERR_MIRROR_ALREADY_REGISTERED
Requested mirroring rule is already registered.
root@s32g274ardb2:~# echo "-> 복제된 패킷의 목적지: emac2 (pfe2)"
-> 복제된 패킷의 목적지: emac2 (pfe2)
root@s32g274ardb2:~#
��다.2g274ardb2:~# # p2(emac0의 일부로 간주)로 들어오는 모든 트래픽에 cb_mirror_rule을 적용합��
��을 적용합니다.~# # libfci_cli는 p2를 직접 지정할 수 없으므로, 상위 인터페이스인 emac0에 규��
root@s32g274ardb2:~# libfci_cli phyif-update --interface=emac0 --rxmirr0=cb_mirror_rule
DISCLAIMER: This is a DEMO application. It is not part of the production code deliverables.
Command successfully executed.
root@s32g274ardb2:~# echo "-> 복제할 트래픽의 출발지: emac0 (p2 포트 수신 트래픽)"
-> 복제할 트래픽의 출발지: emac0 (p2 포트 수신 트래픽)
root@s32g274ardb2:~#
root@s32g274ardb2:~# echo ""

root@s32g274ardb2:~# echo "##############################################################"
##############################################################
root@s32g274ardb2:~# echo "### 모든 설정이 완료되었습니다."
### 모든 설정이 완료되었습니다.
�."@s32g274ardb2:~# echo "### 이제 Sniffer PC에서 Wireshark를 실행하고, Talker PC에서 ping을 보내세요
### 이제 Sniffer PC에서 Wireshark를 실행하고, Talker PC에서 ping을 보내세요.
root@s32g274ardb2:~# echo "##############################################################"
##############################################################
root@s32g274ardb2:~#
root@s32g274ardb2:~#
root@s32g274ardb2:~#
root@s32g274ardb2:~# ^C
root@s32g274ardb2:~# NOTICE:  Reset status: External Reset: RESET_B (RUN)
NOTICE:  BL2: v2.10.14(release):bsp44.0-2.10.14
NOTICE:  BL2: Built : 08:13:32, May 13 2025
NOTICE:  BL2: Booting BL31


U-Boot 2022.04+g9a00323278+p0 (May 13 2025 - 06:57:56 +0000)

SoC:   NXP S32G274A rev. 2.1
CPU:   ARM Cortex-A53 r0p4 @ max 1000 MHz
Model: NXP S32G274A-RDB2
DRAM:  4 GiB
Core:  314 devices, 25 uclasses, devicetree: board
MMC:   FSL_SDHC: 0
Loading Environment from MMC... OK
s32cc_serdes_phy serdes@40480000: Using mode 0 for SerDes subsystem
pci_s32cc pcie@40400000: Could not set DEVICE ID
pci_s32cc pcie@40400000: Configuring as RootComplex
pci_s32cc pcie@40400000: Failed to get link up
In:    serial@401c8000
Out:   serial@401c8000
Err:   serial@401c8000
Board revision: RDB2/GLDBOX Revision E
PCIe:   BusDevFun       VendorId   DeviceId   Device Class       Sub-Class
__________________________________________________________________________
pcie@40400000 RootComplex
|   `-- 01:00.00        0x1957     0x4002     Bridge device           0x04
Net:
Warning: ethernet@4033c000 (eth0) using random MAC address - 8e:c0:72:e0:a1:6b
eth0: ethernet@4033c000
Found PFE version 0x50300 (S32G2)
pfeng pfeng-base: Uploading CLASS firmware
pfeng pfeng-base: EMAC0 block was initialized
pfeng pfeng-base: EMAC1 block was initialized
pfeng pfeng-base: EMAC2 block was initialized
pfeng pfeng-base: Enabling the CLASS block
pfeng pfeng-base: PFE Platform started successfully (mask: 7)
s32cc_serdes_phy serdes@44180000: Using mode 4 for SerDes subsystem
s32cc_serdes_phy serdes@44180000: Unstable RX detected on XPCS0
, eth1: pfe0s32cc_serdes_phy serdes@44180000: Unstable RX detected on XPCS1
, eth2: pfe1, eth3: pfe2
Hit any key to stop autoboot:  0
switch to partitions #0, OK
mmc0 is current device
17139720 bytes read in 719 ms (22.7 MiB/s)
Booting from mmc ...
59234 bytes read in 6 ms (9.4 MiB/s)
## Flattened Device Tree blob at 83000000
   Booting using the fdt blob at 0x83000000
   Using Device Tree in place at 0000000083000000, end 0000000083011761
   fixup: pfe1: update phy addr to 0x8
Failed to configure XPCS1_1
Failed to update XPCS1 for SerDes1

Starting kernel ...

[    0.000000] Booting Linux on physical CPU 0x0000000000 [0x410fd034]
[    0.000000] Linux version 6.6.85-rt53-g6208e1d0d7b5 (oe-user@oe-host) (aarch64-fsl-linux-gcc (GCC) 13.3.0, GNU ld (GNU Binutils) 2.42.0.20240723) #1 SMP PREEMPT Wed May 14 13:40:03 UTC 2025
[    0.000000] Machine model: NXP S32G2 Reference Design Board 2 (S32G-VNP-RDB2)
[    0.000000] earlycon: linflex0 at MMIO 0x00000000401c8000 (options '')
[    0.000000] printk: legacy bootconsole [linflex0] enabled
[    0.000000] OF: reserved mem: 0x0000000034000000..0x000000003407ffff (512 KiB) nomap non-reusable pfebufs@34000000
[    0.000000] OF: reserved mem: 0x0000000034080000..0x000000003409ffff (128 KiB) nomap non-reusable pfebufs@34080000
[    0.000000] Reserved memory: created DMA memory pool at 0x0000000083200000, size 3 MiB
[    0.000000] OF: reserved mem: initialized node pfebufs@83200000, compatible id shared-dma-pool
[    0.000000] OF: reserved mem: 0x0000000083200000..0x00000000835dffff (3968 KiB) nomap non-reusable pfebufs@83200000
[    0.000000] OF: reserved mem: 0x00000000835e0000..0x00000000835fffff (128 KiB) map non-reusable pfebufs@835e0000
[    0.000000] OF: reserved mem: 0x0000000084000000..0x0000000084ffffff (16384 KiB) nomap non-reusable shm@84000000
[    0.000000] OF: reserved mem: 0x00000000c0000000..0x00000000c03fffff (4096 KiB) nomap non-reusable shm@c0000000
[    0.000000] OF: reserved mem: 0x00000000c0400000..0x00000000c07fffff (4096 KiB) nomap non-reusable shm@c0400000
[    0.000000] OF: reserved mem: 0x00000000d0000000..0x00000000d000007f (0 KiB) nomap non-reusable shm@d0000000
[    0.000000] OF: reserved mem: 0x00000000d0000080..0x00000000d00000ff (0 KiB) nomap non-reusable shm@d0000080
[    0.000000] OF: reserved mem: 0x00000000ff600000..0x00000000ff7fffff (2048 KiB) nomap non-reusable atf@ff600000
[    0.000000] Zone ranges:
[    0.000000]   DMA      [mem 0x0000000080000000-0x00000000ffffffff]
[    0.000000]   DMA32    empty
[    0.000000]   Normal   [mem 0x0000000100000000-0x00000008ffffffff]
[    0.000000] Movable zone start for each node
[    0.000000] Early memory node ranges
[    0.000000]   node   0: [mem 0x0000000080000000-0x00000000831fffff]
[    0.000000]   node   0: [mem 0x0000000083200000-0x00000000835dffff]
[    0.000000]   node   0: [mem 0x00000000835e0000-0x0000000083ffffff]
[    0.000000]   node   0: [mem 0x0000000084000000-0x0000000084ffffff]
[    0.000000]   node   0: [mem 0x0000000085000000-0x00000000bfffffff]
[    0.000000]   node   0: [mem 0x00000000c0000000-0x00000000c07fffff]
[    0.000000]   node   0: [mem 0x00000000c0800000-0x00000000cfffffff]
[    0.000000]   node   0: [mem 0x00000000d0001000-0x00000000ff5fffff]
[    0.000000]   node   0: [mem 0x00000000ff600000-0x00000000ff7fffff]
[    0.000000]   node   0: [mem 0x00000000ff800000-0x00000000ffffffff]
[    0.000000]   node   0: [mem 0x0000000880000000-0x00000008ffffffff]
[    0.000000] Initmem setup node 0 [mem 0x0000000080000000-0x00000008ffffffff]
[    0.000000] On node 0, zone DMA: 1 pages in unavailable ranges
[    0.000000] cma: Reserved 256 MiB at 0x00000000ef600000 on node -1
[    0.000000] psci: probing for conduit method from DT.
[    0.000000] psci: PSCIv1.1 detected in firmware.
[    0.000000] psci: Using standard PSCI v0.2 function IDs
[    0.000000] psci: MIGRATE_INFO_TYPE not supported.
[    0.000000] psci: SMC Calling Convention v1.4
[    0.000000] percpu: Embedded 19 pages/cpu s40104 r8192 d29528 u77824
[    0.000000] Detected VIPT I-cache on CPU0
[    0.000000] CPU features: detected: GIC system register CPU interface
[    0.000000] CPU features: detected: ARM erratum 845719
[    0.000000] CPU features: detected: NXP erratum ERR050481 (TLBI by VA handled incorrectly)
[    0.000000] CPU features: detected: ARM errata 1165522, 1319367, 1530923, or 1530924
[    0.000000] alternatives: applying boot alternatives
[    0.000000] Kernel command line: console=ttyLF0,115200 root=/dev/mmcblk0p3 rootwait rw earlycon
[    0.000000] Dentry cache hash table entries: 524288 (order: 10, 4194304 bytes, linear)
[    0.000000] Inode-cache hash table entries: 262144 (order: 9, 2097152 bytes, linear)
[    0.000000] Built 1 zonelists, mobility grouping on.  Total pages: 1032191
[    0.000000] mem auto-init: stack:all(zero), heap alloc:off, heap free:off
[    0.000000] software IO TLB: area num 4.
[    0.000000] software IO TLB: mapped [mem 0x00000000eb600000-0x00000000ef600000] (64MB)
[    0.000000] Memory: 3737544K/4194300K available (10688K kernel code, 738K rwdata, 3220K rodata, 1984K init, 233K bss, 194612K reserved, 262144K cma-reserved)
[    0.000000] SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=4, Nodes=1
[    0.000000] rcu: Preemptible hierarchical RCU implementation.
[    0.000000] rcu:     RCU event tracing is enabled.
[    0.000000] rcu:     RCU restricting CPUs from NR_CPUS=8 to nr_cpu_ids=4.
[    0.000000]  Trampoline variant of Tasks RCU enabled.
[    0.000000]  Tracing variant of Tasks RCU enabled.
[    0.000000] rcu: RCU calculated value of scheduler-enlistment delay is 25 jiffies.
[    0.000000] rcu: Adjusting geometry for rcu_fanout_leaf=16, nr_cpu_ids=4
[    0.000000] NR_IRQS: 64, nr_irqs: 64, preallocated irqs: 0
[    0.000000] GICv3: GIC: Using split EOI/Deactivate mode
[    0.000000] GICv3: 544 SPIs implemented
[    0.000000] GICv3: 0 Extended SPIs implemented
[    0.000000] GICv3: MBI range [167:182]
[    0.000000] GICv3: Using MBI frame 0x0000000050800000
[    0.000000] Root IRQ handler: gic_handle_irq
[    0.000000] GICv3: GICv3 features: 16 PPIs
[    0.000000] GICv3: CPU0: found redistributor 0 region 0:0x0000000050880000
[    0.000000] ITS: No ITS available, not enabling LPIs
[    0.000000] rcu: srcu_init: Setting srcu_struct sizes based on contention.
[    0.000000] arch_timer: cp15 timer(s) running at 5.00MHz (phys).
[    0.000000] clocksource: arch_sys_counter: mask: 0xffffffffffffff max_cycles: 0x127350b88, max_idle_ns: 440795202120 ns
[    0.000001] sched_clock: 56 bits at 5MHz, resolution 200ns, wraps every 4398046511100ns
[    0.008461] Console: colour dummy device 80x25
[    0.012520] Calibrating delay loop (skipped), value calculated using timer frequency.. 10.00 BogoMIPS (lpj=20000)
[    0.022723] pid_max: default: 32768 minimum: 301
[    0.027447] Mount-cache hash table entries: 8192 (order: 4, 65536 bytes, linear)
[    0.034717] Mountpoint-cache hash table entries: 8192 (order: 4, 65536 bytes, linear)
[    0.044319] RCU Tasks: Setting shift to 2 and lim to 1 rcu_task_cb_adjust=1 rcu_task_cpu_ids=4.
[    0.052703] RCU Tasks Trace: Setting shift to 2 and lim to 1 rcu_task_cb_adjust=1 rcu_task_cpu_ids=4.
[    0.062037] rcu: Hierarchical SRCU implementation.
[    0.066579] rcu:     Max phase no-delay instances is 1000.
[    0.072870] smp: Bringing up secondary CPUs ...
[    0.077697] Detected VIPT I-cache on CPU1
[    0.077780] GICv3: CPU1: found redistributor 1 region 0:0x00000000508a0000
[    0.077835] CPU1: Booted secondary processor 0x0000000001 [0x410fd034]
[    0.078623] Detected VIPT I-cache on CPU2
[    0.078702] GICv3: CPU2: found redistributor 100 region 0:0x00000000508c0000
[    0.078740] CPU2: Booted secondary processor 0x0000000100 [0x410fd034]
[    0.079442] Detected VIPT I-cache on CPU3
[    0.079490] GICv3: CPU3: found redistributor 101 region 0:0x00000000508e0000
[    0.079514] CPU3: Booted secondary processor 0x0000000101 [0x410fd034]
[    0.079605] smp: Brought up 1 node, 4 CPUs
[    0.135727] SMP: Total of 4 processors activated.
[    0.140394] CPU features: detected: 32-bit EL0 Support
[    0.145536] CPU features: detected: CRC32 instructions
[    0.150720] CPU: All CPU(s) started at EL2
[    0.154730] alternatives: applying system-wide alternatives
[    0.162486] devtmpfs: initialized
[    0.176278] clocksource: jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 7645041785100000 ns
[    0.185636] futex hash table entries: 1024 (order: 4, 65536 bytes, linear)
[    0.201859] pinctrl core: initialized pinctrl subsystem
[    0.207687] NET: Registered PF_NETLINK/PF_ROUTE protocol family
[    0.214351] DMA: preallocated 512 KiB GFP_KERNEL pool for atomic allocations
[    0.221251] DMA: preallocated 512 KiB GFP_KERNEL|GFP_DMA pool for atomic allocations
[    0.229030] DMA: preallocated 512 KiB GFP_KERNEL|GFP_DMA32 pool for atomic allocations
[    0.237078] thermal_sys: Registered thermal governor 'step_wise'
[    0.237233] hw-breakpoint: found 6 breakpoint and 4 watchpoint registers.
[    0.249675] ASID allocator initialised with 65536 entries
[    0.255100] Serial: AMBA PL011 UART driver
[    0.259102] scmi_core: SCMI protocol bus registered
[    0.265232] scmi_protocol scmi_dev.1: Enabled polling mode TX channel - prot_id:16
[    0.272801] arm-scmi firmware:scmi: SCMI Notifications - Core Enabled.
[    0.278970] arm-scmi firmware:scmi: SCMI Protocol v2.0 'NXP:S32G274A' Firmware version 0x0
[    0.296532] /soc/interrupt-controller@50800000: Fixed dependency cycle(s) with /soc/interrupt-controller@50800000
[    0.308738] /soc/siul2@4009c000/siul2-pinctrl@4009c240: Fixed dependency cycle(s) with /soc/siul2@4009c000/siul2-pinctrl@4009c240/jtag_pins
[    0.331406] Modules: 28512 pages in range for non-PLT usage
[    0.331431] Modules: 520032 pages in range for PLT usage
[    0.337192] HugeTLB: registered 1.00 GiB page size, pre-allocated 0 pages
[    0.348849] HugeTLB: 0 KiB vmemmap can be freed for a 1.00 GiB page
[    0.355098] HugeTLB: registered 32.0 MiB page size, pre-allocated 0 pages
[    0.361866] HugeTLB: 0 KiB vmemmap can be freed for a 32.0 MiB page
[    0.368117] HugeTLB: registered 2.00 MiB page size, pre-allocated 0 pages
[    0.374886] HugeTLB: 0 KiB vmemmap can be freed for a 2.00 MiB page
[    0.381140] HugeTLB: registered 64.0 KiB page size, pre-allocated 0 pages
[    0.387906] HugeTLB: 0 KiB vmemmap can be freed for a 64.0 KiB page
[    0.403857] SCSI subsystem initialized
[    0.407418] usbcore: registered new interface driver usbfs
[    0.412692] usbcore: registered new interface driver hub
[    0.417996] usbcore: registered new device driver usb
[    0.423757] pps_core: LinuxPPS API ver. 1 registered
[    0.428291] pps_core: Software ver. 5.3.6 - Copyright 2005-2007 Rodolfo Giometti <giometti@linux.it>
[    0.437418] PTP clock support registered
[    0.442577] vgaarb: loaded
[    0.445220] clocksource: Switched to clocksource arch_sys_counter
[    0.459188] NET: Registered PF_INET protocol family
[    0.463935] IP idents hash table entries: 65536 (order: 7, 524288 bytes, linear)
[    0.474382] tcp_listen_portaddr_hash hash table entries: 2048 (order: 3, 32768 bytes, linear)
[    0.482575] Table-perturb hash table entries: 65536 (order: 6, 262144 bytes, linear)
[    0.490221] TCP established hash table entries: 32768 (order: 6, 262144 bytes, linear)
[    0.498362] TCP bind hash table entries: 32768 (order: 8, 1048576 bytes, linear)
[    0.506635] TCP: Hash tables configured (established 32768 bind 32768)
[    0.512970] UDP hash table entries: 2048 (order: 4, 65536 bytes, linear)
[    0.519541] UDP-Lite hash table entries: 2048 (order: 4, 65536 bytes, linear)
[    0.526827] NET: Registered PF_UNIX/PF_LOCAL protocol family
[    0.532732] RPC: Registered named UNIX socket transport module.
[    0.538231] RPC: Registered udp transport module.
[    0.542912] RPC: Registered tcp transport module.
[    0.547596] RPC: Registered tcp-with-tls transport module.
[    0.553065] RPC: Registered tcp NFSv4.1 backchannel transport module.
[    0.559521] PCI: CLS 0 bytes, default 64
[    0.564827] workingset: timestamp_bits=62 max_order=20 bucket_order=0
[    0.571511] fuse: init (API version 7.39)
[    0.575293] NET: Registered PF_ALG protocol family
[    0.579920] Block layer SCSI generic (bsg) driver version 0.4 loaded (major 248)
[    0.587251] io scheduler mq-deadline registered
[    0.591761] io scheduler kyber registered
[    0.595762] io scheduler bfq registered
[    0.604063] s32cc-siul2-pinctrl 4009c240.siul2-pinctrl: initialized s32 pinctrl driver
[    0.613516] s32cc-siul2-gpio 4009d700.siul2-gpio: No cache defaults, reading back from HW
[    0.621428] s32cc-siul2-gpio 4009d700.siul2-gpio: No cache defaults, reading back from HW
[    0.629906] gpio gpiochip0: Static allocation of GPIO base is deprecated, use dynamic allocation.
[    0.639408] s32cc-siul2-gpio 4009d700.siul2-gpio: No cache defaults, reading back from HW
[    0.647244] s32cc-siul2-gpio 4009d700.siul2-gpio: No cache defaults, reading back from HW
[    0.667363] printk: legacy console [ttyLF0] enabled000 (irq = 23, base_baud = 7812500) is a FSL_LINFLEX
[    0.667363] printk: legacy console [ttyLF0] enabled
[    0.677280] printk: legacy bootconsole [linflex0] disabled
[    0.677280] printk: legacy bootconsole [linflex0] disabled
[    0.690146] 401cc000.serial: ttyLF1 at MMIO 0x401cc000 (irq = 24, base_baud = 7812500) is a FSL_LINFLEX
[    0.701512] s32cc_fccu 4030c000.fccu: FCCU status is 0 (normal)
[    0.710699] ethernet-switch@1 enforce active low on GPIO handle
[    0.719565] spi-nor spi6.0: mx25uw51245g (65536 Kbytes)
[    0.725459] 8 fixed-partitions partitions found on MTD device 0.spi
[    0.731841] Creating 8 MTD partitions on "0.spi":
[    0.736624] 0x000000000000-0x000004000000 : "Flash-Image"
[    0.742486] 0x000000000000-0x0000000d0000 : "BL2"
[    0.747600] 0x0000000d0000-0x0000002a0000 : "FIP"
[    0.752705] 0x0000002a0000-0x0000002b0000 : "U-Boot-Env"
[    0.758437] 0x0000002b0000-0x000001380000 : "Kernel"
[    0.763820] 0x000001380000-0x0000013b0000 : "DTB"
[    0.768922] 0x0000013b0000-0x0000032c0000 : "Rootfs"
[    0.774288] 0x0000032c0000-0x000004000000 : "PFE-Firmware"
[    0.782486] vcan: Virtual CAN interface driver
[    0.787019] slcan: serial line CAN interface driver
[    0.791972] CAN device driver interface
[    0.797244] flexcan 401b4000.can: device registered (reg_base=(____ptrval____), irq(s):
[    0.805389] flexcan 401b4000.can:  30
[    0.809101] flexcan 401b4000.can:  31
[    0.812821] flexcan 401b4000.can:  32
[    0.816539] flexcan 401b4000.can:  33
[    0.820262] flexcan 401b4000.can: )
[    0.824832] flexcan 401be000.can: device registered (reg_base=(____ptrval____), irq(s):
[    0.832975] flexcan 401be000.can:  34
[    0.836703] flexcan 401be000.can:  35
[    0.840424] flexcan 401be000.can:  36
[    0.844142] flexcan 401be000.can:  37
[    0.847864] flexcan 401be000.can: )
[    0.851998] sja1105 spi5.1: Probed switch chip: SJA1110A
[    0.857431] sja1105 spi5.1: Port 2 interpreting RGMII delay settings based on "phy-mode" property, please update device tree to specify "rx-internal-delay-ps" and "tx-internal-delay-ps"
[    0.874198] sja1105 spi5.1: Port 3 interpreting RGMII delay settings based on "phy-mode" property, please update device tree to specify "rx-internal-delay-ps" and "tx-internal-delay-ps"
[    0.891061] e100: Intel(R) PRO/100 Network Driver
[    0.895839] e100: Copyright(c) 1999-2006 Intel Corporation
[    0.901440] e1000: Intel(R) PRO/1000 Network Driver
[    0.906394] e1000: Copyright (c) 1999-2006 Intel Corporation.
[    0.912259] e1000e: Intel(R) PRO/1000 Network Driver
[    0.917298] e1000e: Copyright(c) 1999 - 2015 Intel Corporation.
[    0.923332] igb: Intel(R) Gigabit Ethernet Network Driver
[    0.928812] igb: Copyright (c) 2007-2014 Intel Corporation.
[    0.935801] hse-uio 40210000.mu0b: firmware not found
[    0.941588] usbcore: registered new interface driver uas
[    0.947023] usbcore: registered new interface driver usb-storage
[    0.954280] imx_usb 44064000.usb: No over current polarity defined
[    0.973221] ci_hdrc ci_hdrc.0: EHCI Host Controller
[    0.978357] ci_hdrc ci_hdrc.0: new USB bus registered, assigned bus number 1
[    1.001295] ci_hdrc ci_hdrc.0: USB 2.0 started, EHCI 1.00
[    1.006953] usb usb1: New USB device found, idVendor=1d6b, idProduct=0002, bcdDevice= 6.06
[    1.015350] usb usb1: New USB device strings: Mfr=3, Product=2, SerialNumber=1
[    1.022683] usb usb1: Product: EHCI Host Controller
[    1.027636] usb usb1: Manufacturer: Linux 6.6.85-rt53-g6208e1d0d7b5 ehci_hcd
[    1.034791] usb usb1: SerialNumber: ci_hdrc.0
[    1.039712] hub 1-0:1.0: USB hub found
[    1.043555] hub 1-0:1.0: 1 port detected
[    1.049435] s32cc-rtc 40060000.rtc: registered as rtc0
[    1.054687] s32cc-rtc 40060000.rtc: setting system clock to 1970-01-01T00:00:00 UTC (0)
[    1.063020] i2c_dev: i2c /dev entries driver
[    1.067939] s32cc-wdt 4010c000.watchdog: S32CC Watchdog Timer Registered. timeout=30s (nowayout=0)
[    1.077731] s32cc-wdt 40200000.watchdog: S32CC Watchdog Timer Registered. timeout=30s (nowayout=0)
[    1.087024] s32cc-wdt 40204000.watchdog: S32CC Watchdog Timer Registered. timeout=30s (nowayout=0)
[    1.096302] s32cc-wdt 40208000.watchdog: S32CC Watchdog Timer Registered. timeout=30s (nowayout=0)
[    1.107378] sdhci: Secure Digital Host Controller Interface driver
[    1.113685] sdhci: Copyright(c) Pierre Ossman
[    1.118115] sdhci-pltfm: SDHCI platform and OF driver helper
[    1.124150] SMCCC: SOC_ID: ARCH_SOC_ID not implemented, skipping ....
[    1.131377] hse 40211000.mu1b: interface mu1b not active
[    1.1374�NOTICE:  Reset status: External Reset: RESET_B (RUN)
NOTICE:  BL2: v2.10.14(release):bsp44.0-2.10.14
NOTICE:  BL2: Built : 08:13:32, May 13 2025
NOTICE:  BL2: Booting BL31


U-Boot 2022.04+g9a00323278+p0 (May 13 2025 - 06:57:56 +0000)

SoC:   NXP S32G274A rev. 2.1
CPU:   ARM Cortex-A53 r0p4 @ max 1000 MHz
Model: NXP S32G274A-RDB2
DRAM:  4 GiB
Core:  314 devices, 25 uclasses, devicetree: board
MMC:   FSL_SDHC: 0
Loading Environment from MMC... OK
s32cc_serdes_phy serdes@40480000: Using mode 0 for SerDes subsystem
pci_s32cc pcie@40400000: Could not set DEVICE ID
pci_s32cc pcie@40400000: Configuring as RootComplex
pci_s32cc pcie@40400000: Failed to get link up
In:    serial@401c8000
Out:   serial@401c8000
Err:   serial@401c8000
Board revision: RDB2/GLDBOX Revision E
PCIe:   BusDevFun       VendorId   DeviceId   Device Class       Sub-Class
__________________________________________________________________________
pcie@40400000 RootComplex
|   `-- 01:00.00        0x1957     0x4002     Bridge device           0x04
Net:
Warning: ethernet@4033c000 (eth0) using random MAC address - 76:3f:29:65:46:31
eth0: ethernet@4033c000
Found PFE version 0x50300 (S32G2)
pfeng pfeng-base: Uploading CLASS firmware
pfeng pfeng-base: EMAC0 block was initialized
pfeng pfeng-base: EMAC1 block was initialized
pfeng pfeng-base: EMAC2 block was initialized
pfeng pfeng-base: Enabling the CLASS block
pfeng pfeng-base: PFE Platform started successfully (mask: 7)
s32cc_serdes_phy serdes@44180000: Using mode 4 for SerDes subsystem
s32cc_serdes_phy serdes@44180000: Unstable RX detected on XPCS0
, eth1: pfe0s32cc_serdes_phy serdes@44180000: Unstable RX detected on XPCS1
, eth2: pfe1, eth3: pfe2
Hit any key to stop autoboot:  0
switch to partitions #0, OK
mmc0 is current device
17139720 bytes read in 719 ms (22.7 MiB/s)
Booting from mmc ...
59234 bytes read in 6 ms (9.4 MiB/s)
## Flattened Device Tree blob at 83000000
   Booting using the fdt blob at 0x83000000
   Using Device Tree in place at 0000000083000000, end 0000000083011761
   fixup: pfe1: update phy addr to 0x8
Failed to configure XPCS1_1
Failed to update XPCS1 for SerDes1

Starting kernel ...

[    0.000000] Booting Linux on physical CPU 0x0000000000 [0x410fd034]
[    0.000000] Linux version 6.6.85-rt53-g6208e1d0d7b5 (oe-user@oe-host) (aarch64-fsl-linux-gcc (GCC) 13.3.0, GNU ld (GNU Binutils) 2.42.0.20240723) #1 SMP PREEMPT Wed May 14 13:40:03 UTC 2025
[    0.000000] Machine model: NXP S32G2 Reference Design Board 2 (S32G-VNP-RDB2)
[    0.000000] earlycon: linflex0 at MMIO 0x00000000401c8000 (options '')
[    0.000000] printk: legacy bootconsole [linflex0] enabled
[    0.000000] OF: reserved mem: 0x0000000034000000..0x000000003407ffff (512 KiB) nomap non-reusable pfebufs@34000000
[    0.000000] OF: reserved mem: 0x0000000034080000..0x000000003409ffff (128 KiB) nomap non-reusable pfebufs@34080000
[    0.000000] Reserved memory: created DMA memory pool at 0x0000000083200000, size 3 MiB
[    0.000000] OF: reserved mem: initialized node pfebufs@83200000, compatible id shared-dma-pool
[    0.000000] OF: reserved mem: 0x0000000083200000..0x00000000835dffff (3968 KiB) nomap non-reusable pfebufs@83200000
[    0.000000] OF: reserved mem: 0x00000000835e0000..0x00000000835fffff (128 KiB) map non-reusable pfebufs@835e0000
[    0.000000] OF: reserved mem: 0x0000000084000000..0x0000000084ffffff (16384 KiB) nomap non-reusable shm@84000000
[    0.000000] OF: reserved mem: 0x00000000c0000000..0x00000000c03fffff (4096 KiB) nomap non-reusable shm@c0000000
[    0.000000] OF: reserved mem: 0x00000000c0400000..0x00000000c07fffff (4096 KiB) nomap non-reusable shm@c0400000
[    0.000000] OF: reserved mem: 0x00000000d0000000..0x00000000d000007f (0 KiB) nomap non-reusable shm@d0000000
[    0.000000] OF: reserved mem: 0x00000000d0000080..0x00000000d00000ff (0 KiB) nomap non-reusable shm@d0000080
[    0.000000] OF: reserved mem: 0x00000000ff600000..0x00000000ff7fffff (2048 KiB) nomap non-reusable atf@ff600000
[    0.000000] Zone ranges:
[    0.000000]   DMA      [mem 0x0000000080000000-0x00000000ffffffff]
[    0.000000]   DMA32    empty
[    0.000000]   Normal   [mem 0x0000000100000000-0x00000008ffffffff]
[    0.000000] Movable zone start for each node
[    0.000000] Early memory node ranges
[    0.000000]   node   0: [mem 0x0000000080000000-0x00000000831fffff]
[    0.000000]   node   0: [mem 0x0000000083200000-0x00000000835dffff]
[    0.000000]   node   0: [mem 0x00000000835e0000-0x0000000083ffffff]
[    0.000000]   node   0: [mem 0x0000000084000000-0x0000000084ffffff]
[    0.000000]   node   0: [mem 0x0000000085000000-0x00000000bfffffff]
[    0.000000]   node   0: [mem 0x00000000c0000000-0x00000000c07fffff]
[    0.000000]   node   0: [mem 0x00000000c0800000-0x00000000cfffffff]
[    0.000000]   node   0: [mem 0x00000000d0001000-0x00000000ff5fffff]
[    0.000000]   node   0: [mem 0x00000000ff600000-0x00000000ff7fffff]
[    0.000000]   node   0: [mem 0x00000000ff800000-0x00000000ffffffff]
[    0.000000]   node   0: [mem 0x0000000880000000-0x00000008ffffffff]
[    0.000000] Initmem setup node 0 [mem 0x0000000080000000-0x00000008ffffffff]
[    0.000000] On node 0, zone DMA: 1 pages in unavailable ranges
[    0.000000] cma: Reserved 256 MiB at 0x00000000ef600000 on node -1
[    0.000000] psci: probing for conduit method from DT.
[    0.000000] psci: PSCIv1.1 detected in firmware.
[    0.000000] psci: Using standard PSCI v0.2 function IDs
[    0.000000] psci: MIGRATE_INFO_TYPE not supported.
[    0.000000] psci: SMC Calling Convention v1.4
[    0.000000] percpu: Embedded 19 pages/cpu s40104 r8192 d29528 u77824
[    0.000000] Detected VIPT I-cache on CPU0
[    0.000000] CPU features: detected: GIC system register CPU interface
[    0.000000] CPU features: detected: ARM erratum 845719
[    0.000000] CPU features: detected: NXP erratum ERR050481 (TLBI by VA handled incorrectly)
[    0.000000] CPU features: detected: ARM errata 1165522, 1319367, 1530923, or 1530924
[    0.000000] alternatives: applying boot alternatives
[    0.000000] Kernel command line: console=ttyLF0,115200 root=/dev/mmcblk0p3 rootwait rw earlycon
[    0.000000] Dentry cache hash table entries: 524288 (order: 10, 4194304 bytes, linear)
[    0.000000] Inode-cache hash table entries: 262144 (order: 9, 2097152 bytes, linear)
[    0.000000] Built 1 zonelists, mobility grouping on.  Total pages: 1032191
[    0.000000] mem auto-init: stack:all(zero), heap alloc:off, heap free:off
[    0.000000] software IO TLB: area num 4.
[    0.000000] software IO TLB: mapped [mem 0x00000000eb600000-0x00000000ef600000] (64MB)
[    0.000000] Memory: 3737544K/4194300K available (10688K kernel code, 738K rwdata, 3220K rodata, 1984K init, 233K bss, 194612K reserved, 262144K cma-reserved)
[    0.000000] SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=4, Nodes=1
[    0.000000] rcu: Preemptible hierarchical RCU implementation.
[    0.000000] rcu:     RCU event tracing is enabled.
[    0.000000] rcu:     RCU restricting CPUs from NR_CPUS=8 to nr_cpu_ids=4.
[    0.000000]  Trampoline variant of Tasks RCU enabled.
[    0.000000]  Tracing variant of Tasks RCU enabled.
[    0.000000] rcu: RCU calculated value of scheduler-enlistment delay is 25 jiffies.
[    0.000000] rcu: Adjusting geometry for rcu_fanout_leaf=16, nr_cpu_ids=4
[    0.000000] NR_IRQS: 64, nr_irqs: 64, preallocated irqs: 0
[    0.000000] GICv3: GIC: Using split EOI/Deactivate mode
[    0.000000] GICv3: 544 SPIs implemented
[    0.000000] GICv3: 0 Extended SPIs implemented
[    0.000000] GICv3: MBI range [167:182]
[    0.000000] GICv3: Using MBI frame 0x0000000050800000
[    0.000000] Root IRQ handler: gic_handle_irq
[    0.000000] GICv3: GICv3 features: 16 PPIs
[    0.000000] GICv3: CPU0: found redistributor 0 region 0:0x0000000050880000
[    0.000000] ITS: No ITS available, not enabling LPIs
[    0.000000] rcu: srcu_init: Setting srcu_struct sizes based on contention.
[    0.000000] arch_timer: cp15 timer(s) running at 5.00MHz (phys).
[    0.000000] clocksource: arch_sys_counter: mask: 0xffffffffffffff max_cycles: 0x127350b88, max_idle_ns: 440795202120 ns
[    0.000001] sched_clock: 56 bits at 5MHz, resolution 200ns, wraps every 4398046511100ns
[    0.008463] Console: colour dummy device 80x25
[    0.012521] Calibrating delay loop (skipped), value calculated using timer frequency.. 10.00 BogoMIPS (lpj=20000)
[    0.022726] pid_max: default: 32768 minimum: 301
[    0.027449] Mount-cache hash table entries: 8192 (order: 4, 65536 bytes, linear)
[    0.034716] Mountpoint-cache hash table entries: 8192 (order: 4, 65536 bytes, linear)
[    0.044337] RCU Tasks: Setting shift to 2 and lim to 1 rcu_task_cb_adjust=1 rcu_task_cpu_ids=4.
[    0.052719] RCU Tasks Trace: Setting shift to 2 and lim to 1 rcu_task_cb_adjust=1 rcu_task_cpu_ids=4.
[    0.062056] rcu: Hierarchical SRCU implementation.
[    0.066596] rcu:     Max phase no-delay instances is 1000.
[    0.072916] smp: Bringing up secondary CPUs ...
[    0.077740] Detected VIPT I-cache on CPU1
[    0.077827] GICv3: CPU1: found redistributor 1 region 0:0x00000000508a0000
[    0.077881] CPU1: Booted secondary processor 0x0000000001 [0x410fd034]
[    0.078677] Detected VIPT I-cache on CPU2
[    0.078755] GICv3: CPU2: found redistributor 100 region 0:0x00000000508c0000
[    0.078796] CPU2: Booted secondary processor 0x0000000100 [0x410fd034]
[    0.079500] Detected VIPT I-cache on CPU3
[    0.079549] GICv3: CPU3: found redistributor 101 region 0:0x00000000508e0000
[    0.079574] CPU3: Booted secondary processor 0x0000000101 [0x410fd034]
[    0.079666] smp: Brought up 1 node, 4 CPUs
[    0.135782] SMP: Total of 4 processors activated.
[    0.140458] CPU features: detected: 32-bit EL0 Support
[    0.145597] CPU features: detected: CRC32 instructions
[    0.150778] CPU: All CPU(s) started at EL2
[    0.154796] alternatives: applying system-wide alternatives
[    0.162597] devtmpfs: initialized
[    0.176417] clocksource: jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 7645041785100000 ns
[    0.185778] futex hash table entries: 1024 (order: 4, 65536 bytes, linear)
[    0.202002] pinctrl core: initialized pinctrl subsystem
[    0.207833] NET: Registered PF_NETLINK/PF_ROUTE protocol family
[    0.214474] DMA: preallocated 512 KiB GFP_KERNEL pool for atomic allocations
[    0.221368] DMA: preallocated 512 KiB GFP_KERNEL|GFP_DMA pool for atomic allocations
[    0.229161] DMA: preallocated 512 KiB GFP_KERNEL|GFP_DMA32 pool for atomic allocations
[    0.237199] thermal_sys: Registered thermal governor 'step_wise'
[    0.237345] hw-breakpoint: found 6 breakpoint and 4 watchpoint registers.
[    0.249790] ASID allocator initialised with 65536 entries
[    0.255218] Serial: AMBA PL011 UART driver
[    0.259214] scmi_core: SCMI protocol bus registered
[    0.265348] scmi_protocol scmi_dev.1: Enabled polling mode TX channel - prot_id:16
[    0.272924] arm-scmi firmware:scmi: SCMI Notifications - Core Enabled.
[    0.279096] arm-scmi firmware:scmi: SCMI Protocol v2.0 'NXP:S32G274A' Firmware version 0x0
[    0.296613] /soc/interrupt-controller@50800000: Fixed dependency cycle(s) with /soc/interrupt-controller@50800000
[    0.308826] /soc/siul2@4009c000/siul2-pinctrl@4009c240: Fixed dependency cycle(s) with /soc/siul2@4009c000/siul2-pinctrl@4009c240/jtag_pins
[    0.331486] Modules: 28512 pages in range for non-PLT usage
[    0.331508] Modules: 520032 pages in range for PLT usage
[    0.337271] HugeTLB: registered 1.00 GiB page size, pre-allocated 0 pages
[    0.348927] HugeTLB: 0 KiB vmemmap can be freed for a 1.00 GiB page
[    0.355177] HugeTLB: registered 32.0 MiB page size, pre-allocated 0 pages
[    0.361944] HugeTLB: 0 KiB vmemmap can be freed for a 32.0 MiB page
[    0.368197] HugeTLB: registered 2.00 MiB page size, pre-allocated 0 pages
[    0.374965] HugeTLB: 0 KiB vmemmap can be freed for a 2.00 MiB page
[    0.381217] HugeTLB: registered 64.0 KiB page size, pre-allocated 0 pages
[    0.387984] HugeTLB: 0 KiB vmemmap can be freed for a 64.0 KiB page
[    0.403925] SCSI subsystem initialized
[    0.407487] usbcore: registered new interface driver usbfs
[    0.412761] usbcore: registered new interface driver hub
[    0.418064] usbcore: registered new device driver usb
[    0.423825] pps_core: LinuxPPS API ver. 1 registered
[    0.428359] pps_core: Software ver. 5.3.6 - Copyright 2005-2007 Rodolfo Giometti <giometti@linux.it>
[    0.437484] PTP clock support registered
[    0.442645] vgaarb: loaded
[    0.445289] clocksource: Switched to clocksource arch_sys_counter
[    0.459210] NET: Registered PF_INET protocol family
[    0.463960] IP idents hash table entries: 65536 (order: 7, 524288 bytes, linear)
[    0.474402] tcp_listen_portaddr_hash hash table entries: 2048 (order: 3, 32768 bytes, linear)
[    0.482594] Table-perturb hash table entries: 65536 (order: 6, 262144 bytes, linear)
[    0.490240] TCP established hash table entries: 32768 (order: 6, 262144 bytes, linear)
[    0.498382] TCP bind hash table entries: 32768 (order: 8, 1048576 bytes, linear)
[    0.506675] TCP: Hash tables configured (established 32768 bind 32768)
[    0.512973] UDP hash table entries: 2048 (order: 4, 65536 bytes, linear)
[    0.519601] UDP-Lite hash table entries: 2048 (order: 4, 65536 bytes, linear)
[    0.526870] NET: Registered PF_UNIX/PF_LOCAL protocol family
[    0.532777] RPC: Registered named UNIX socket transport module.
[    0.538274] RPC: Registered udp transport module.
[    0.542955] RPC: Registered tcp transport module.
[    0.547641] RPC: Registered tcp-with-tls transport module.
[    0.553109] RPC: Registered tcp NFSv4.1 backchannel transport module.
[    0.559568] PCI: CLS 0 bytes, default 64
[    0.564950] workingset: timestamp_bits=62 max_order=20 bucket_order=0
[    0.571603] fuse: init (API version 7.39)
[    0.575395] NET: Registered PF_ALG protocol family
[    0.580016] Block layer SCSI generic (bsg) driver version 0.4 loaded (major 248)
[    0.587343] io scheduler mq-deadline registered
[    0.591851] io scheduler kyber registered
[    0.595852] io scheduler bfq registered
[    0.604350] s32cc-siul2-pinctrl 4009c240.siul2-pinctrl: initialized s32 pinctrl driver
[    0.613692] s32cc-siul2-gpio 4009d700.siul2-gpio: No cache defaults, reading back from HW
[    0.621565] s32cc-siul2-gpio 4009d700.siul2-gpio: No cache defaults, reading back from HW
[    0.630124] gpio gpiochip0: Static allocation of GPIO base is deprecated, use dynamic allocation.
[    0.639605] s32cc-siul2-gpio 4009d700.siul2-gpio: No cache defaults, reading back from HW
[    0.647444] s32cc-siul2-gpio 4009d700.siul2-gpio: No cache defaults, reading back from HW
[    0.667549] printk: legacy console [ttyLF0] enabled000 (irq = 23, base_baud = 7812500) is a FSL_LINFLEX
[    0.667549] printk: legacy console [ttyLF0] enabled
[    0.677463] printk: legacy bootconsole [linflex0] disabled
[    0.677463] printk: legacy bootconsole [linflex0] disabled
[    0.690175] 401cc000.serial: ttyLF1 at MMIO 0x401cc000 (irq = 24, base_baud = 7812500) is a FSL_LINFLEX
[    0.701550] s32cc_fccu 4030c000.fccu: FCCU status is 0 (normal)
[    0.710853] ethernet-switch@1 enforce active low on GPIO handle
[    0.719798] spi-nor spi6.0: mx25uw51245g (65536 Kbytes)
[    0.725704] 8 fixed-partitions partitions found on MTD device 0.spi
[    0.732087] Creating 8 MTD partitions on "0.spi":
[    0.736869] 0x000000000000-0x000004000000 : "Flash-Image"
[    0.742736] 0x000000000000-0x0000000d0000 : "BL2"
[    0.747841] 0x0000000d0000-0x0000002a0000 : "FIP"
[    0.752942] 0x0000002a0000-0x0000002b0000 : "U-Boot-Env"
[    0.758665] 0x0000002b0000-0x000001380000 : "Kernel"
[    0.764052] 0x000001380000-0x0000013b0000 : "DTB"
[    0.769166] 0x0000013b0000-0x0000032c0000 : "Rootfs"
[    0.774539] 0x0000032c0000-0x000004000000 : "PFE-Firmware"
[    0.782750] vcan: Virtual CAN interface driver
[    0.787281] slcan: serial line CAN interface driver
[    0.792235] CAN device driver interface
[    0.797522] flexcan 401b4000.can: device registered (reg_base=(____ptrval____), irq(s):
[    0.805666] flexcan 401b4000.can:  30
[    0.809396] flexcan 401b4000.can:  31
[    0.813109] flexcan 401b4000.can:  32
[    0.816828] flexcan 401b4000.can:  33
[    0.820549] flexcan 401b4000.can: )
[    0.825137] flexcan 401be000.can: device registered (reg_base=(____ptrval____), irq(s):
[    0.833287] flexcan 401be000.can:  34
[    0.837002] flexcan 401be000.can:  35
[    0.840729] flexcan 401be000.can:  36
[    0.844449] flexcan 401be000.can:  37
[    0.848175] flexcan 401be000.can: )
[    0.852324] sja1105 spi5.1: Probed switch chip: SJA1110A
[    0.857753] sja1105 spi5.1: Port 2 interpreting RGMII delay settings based on "phy-mode" property, please update device tree to specify "rx-internal-delay-ps" and "tx-internal-delay-ps"
[    0.874519] sja1105 spi5.1: Port 3 interpreting RGMII delay settings based on "phy-mode" property, please update device tree to specify "rx-internal-delay-ps" and "tx-internal-delay-ps"
[    0.891382] e100: Intel(R) PRO/100 Network Driver
[    0.896160] e100: Copyright(c) 1999-2006 Intel Corporation
[    0.901761] e1000: Intel(R) PRO/1000 Network Driver
[    0.906715] e1000: Copyright (c) 1999-2006 Intel Corporation.
[    0.912575] e1000e: Intel(R) PRO/1000 Network Driver
[    0.917615] e1000e: Copyright(c) 1999 - 2015 Intel Corporation.
[    0.923645] igb: Intel(R) Gigabit Ethernet Network Driver
[    0.929127] igb: Copyright (c) 2007-2014 Intel Corporation.
[    0.936100] hse-uio 40210000.mu0b: firmware not found
[    0.941830] usbcore: registered new interface driver uas
[    0.947264] usbcore: registered new interface driver usb-storage
[    0.954541] imx_usb 44064000.usb: No over current polarity defined
[    0.973482] ci_hdrc ci_hdrc.0: EHCI Host Controller
[    0.978605] ci_hdrc ci_hdrc.0: new USB bus registered, assigned bus number 1
[    1.001293] ci_hdrc ci_hdrc.0: USB 2.0 started, EHCI 1.00
[    1.007048] usb usb1: New USB device found, idVendor=1d6b, idProduct=0002, bcdDevice= 6.06
[    1.015468] usb usb1: New USB device strings: Mfr=3, Product=2, SerialNumber=1
[    1.022859] usb usb1: Product: EHCI Host Controller
[    1.027816] usb usb1: Manufacturer: Linux 6.6.85-rt53-g6208e1d0d7b5 ehci_hcd
[    1.034972] usb usb1: SerialNumber: ci_hdrc.0
[    1.039919] hub 1-0:1.0: USB hub found
[    1.043774] hub 1-0:1.0: 1 port detected
[    1.049797] s32cc-rtc 40060000.rtc: registered as rtc0
[    1.055051] s32cc-rtc 40060000.rtc: setting system clock to 1970-01-01T00:00:00 UTC (0)
[    1.063390] i2c_dev: i2c /dev entries driver
[    1.068317] s32cc-wdt 4010c000.watchdog: S32CC Watchdog Timer Registered. timeout=30s (nowayout=0)
[    1.077654] s32cc-wdt 40200000.watchdog: S32CC Watchdog Timer Registered. timeout=30s (nowayout=0)
[    1.086966] s32cc-wdt 40204000.watchdog: S32CC Watchdog Timer Registered. timeout=30s (nowayout=0)
[    1.096253] s32cc-wdt 40208000.watchdog: S32CC Watchdog Timer Registered. timeout=30s (nowayout=0)
[    1.107341] sdhci: Secure Digital Host Controller Interface driver
[    1.113641] sdhci: Copyright(c) Pierre Ossman
[    1.118071] sdhci-pltfm: SDHCI platform and OF driver helper
[    1.124108] SMCCC: SOC_ID: ARCH_SOC_ID not implemented, skipping ....
[    1.131356] hse 40211000.mu1b: interface mu1b not active
[    1.137559] usbcore: registered new interface driver usbhid
[    1.143226] usbhid: USB HID core driver
[    1.156499] mmc0: SDHCI controller on 402f0000.mmc [402f0000.mmc] using ADMA
[    1.163835] s32-adc 401f8000.adc: using dma0chan4 for ADC DMA transfers
[    1.171165] s32-adc 401f8000.adc: Device initialized successfully.
[    1.189550] s32-adc 402e8000.adc: using dma1chan16 for ADC DMA transfers
[    1.196912] s32-adc 402e8000.adc: Device initialized successfully.
[    1.198133] mmc0: new high speed SDHC card at address 0001
[    1.209043] hw perfevents: enabled with armv8_cortex_a53 PMU driver, 7 counters available
[    1.209501] mmcblk0: mmc0:0001 SD32G 28.8 GiB
[    1.219090] s32-siul2-nvmem 4009c000.nvram: Initialized s32cc siul2 nvmem driver
[    1.223824]  mmcblk0: p1 p2 p3
[    1.229518] s32-siul2-nvmem 44010000.nvram: Initialized s32cc siul2 nvmem driver
[    1.240556] GACT probability on
[    1.243777] Mirror/redirect action on
[    1.247582] Simple TC action Loaded
[    1.251712] netem: version 1.3
[    1.254877] u32 classifier
[    1.257627]     Performance counters on
[    1.261524]     input device check on
[    1.265235]     Actions configured
[    1.270055] xt_time: kernel timezone is -0000
[    1.274728] NET: Registered PF_INET6 protocol family
[    1.280847] Segment Routing with IPv6
[    1.284617] In-situ OAM (IOAM) with IPv6
[    1.288691] sit: IPv6, IPv4 and MPLS over IPv4 tunneling driver
[    1.295248] NET: Registered PF_PACKET protocol family
[    1.300529] can: controller area network core
[    1.305011] NET: Registered PF_CAN protocol family
[    1.309882] can: raw protocol
[    1.312893] can: broadcast manager protocol
[    1.317149] can: netlink gateway - max_hops=1
[    1.321653] 8021q: 802.1Q VLAN Support v1.8
[    1.346209] i2c i2c-0: using pinctrl states for GPIO recovery
[    1.352163] i2c i2c-0: using generic GPIOs for recovery
[    1.358233] pca953x 0-0022: using AI
[    1.368884] rtc-pcf85063 0-0051: registered as rtc1
[    1.373904] i2c i2c-0: IMX I2C adapter registered
[    1.378742] i2c i2c-0: using dma0chan5 (tx) and dma0chan6 (rx) for DMA transfers
[    1.387087] i2c i2c-2: using pinctrl states for GPIO recovery
[    1.393013] i2c i2c-2: using generic GPIOs for recovery
[    1.398409] i2c i2c-2: IMX I2C adapter registered
[    1.403243] i2c i2c-2: using dma1chan17 (tx) and dma1chan18 (rx) for DMA transfers
[    1.411715] i2c i2c-4: using pinctrl states for GPIO recovery
[    1.417640] i2c i2c-4: using generic GPIOs for recovery
[    1.424552] ina2xx 4-0040: power monitor ina231 (Rshunt = 1000 uOhm)
[    1.431069] i2c i2c-4: IMX I2C adapter registered
[    1.435912] i2c i2c-4: using dma1chan19 (tx) and dma1chan20 (rx) for DMA transfers
[    1.465030] phy-s32cc-serdes 40480000.serdes: Using mode 0 for SerDes subsystem
[    1.472927] phy-s32cc-serdes 44180000.serdes: Using mode 4 for SerDes subsystem
[    1.804153] s32cc-pcie 40400000.pcie: Failed to stabilize PHY link
[    1.810443] s32cc-pcie 40400000.pcie: Configuring as RootComplex
[    1.816584] s32cc-pcie 40400000.pcie: host bridge /soc/pcie@40400000 ranges:
[    1.823777] s32cc-pcie 40400000.pcie:       IO 0x5ffffe0000..0x5ffffeffff -> 0x0000000000
[    1.832098] s32cc-pcie 40400000.pcie:      MEM 0x5800000000..0x5ffffdffff -> 0x0000000000
[    1.840431] s32cc-pcie 40400000.pcie: Memory resource size exceeds max for 32 bits
[    2.848279] s32cc-pcie 40400000.pcie: Phy link never came up
[    2.854042] s32cc-pcie 40400000.pcie: Link Up failed, EndPoint may not be connected
[    2.861845] s32cc-pcie 40400000.pcie: iATU: unroll T, 6 ob, 4 ib, align 4K, limit 1024G
NOTICE:  Reset status: External Reset: RESET_B (RUN)
NOTICE:  BL2: v2.10.14(release):bsp44.0-2.10.14
NOTICE:  BL2: Built : 08:13:32, May 13 2025
NOTICE:  BL2: Booting BL31


U-Boot 2022.04+g9a00323278+p0 (May 13 2025 - 06:57:56 +0000)

SoC:   NXP S32G274A rev. 2.1
CPU:   ARM Cortex-A53 r0p4 @ max 1000 MHz
Model: NXP S32G274A-RDB2
DRAM:  4 GiB
Core:  314 devices, 25 uclasses, devicetree: board
MMC:   FSL_SDHC: 0
Loading Environment from MMC... OK
s32cc_serdes_phy serdes@40480000: Using mode 0 for SerDes subsystem
pci_s32cc pcie@40400000: Could not set DEVICE ID
pci_s32cc pcie@40400000: Configuring as RootComplex
pci_s32cc pcie@40400000: Failed to get link up
In:    serial@401c8000
Out:   serial@401c8000
Err:   serial@401c8000
Board revision: RDB2/GLDBOX Revision E
PCIe:   BusDevFun       VendorId   DeviceId   Device Class       Sub-Class
__________________________________________________________________________
pcie@40400000 RootComplex
|   `-- 01:00.00        0x1957     0x4002     Bridge device           0x04
Net:
Warning: ethernet@4033c000 (eth0) using random MAC address - 4e:64:38:66:cc:60
eth0: ethernet@4033c000
Found PFE version 0x50300 (S32G2)
pfeng pfeng-base: Uploading CLASS firmware
pfeng pfeng-base: EMAC0 block was initialized
pfeng pfeng-base: EMAC1 block was initialized
pfeng pfeng-base: EMAC2 block was initialized
pfeng pfeng-base: Enabling the CLASS block
pfeng pfeng-base: PFE Platform started successfully (mask: 7)
s32cc_serdes_phy serdes@44180000: Using mode 4 for SerDes subsystem
s32cc_serdes_phy serdes@44180000: Unstable RX detected on XPCS0
, eth1: pfe0s32cc_serdes_phy serdes@44180000: Unstable RX detected on XPCS1
, eth2: pfe1, eth3: pfe2
Hit any key to stop autoboot:  0
=>
=>
=>
=>
=>
=>
